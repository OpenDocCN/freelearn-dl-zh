# *第一章*：无代码、n8n和Bubble简介

在科技行业中，一个运动正在缓慢地形成。这个运动看到普通计算机用户正在使用抽象计算机代码复杂性的工具开发数字解决方案和集成。这些工具统称为无代码工具，赋予了那些以前从未能够构建解决方案的人权力。

到本章结束时，你将了解无代码及其为什么对企业和技术变得重要。你还将熟悉n8n，一个无代码自动化工具，以及Bubble，一个无代码开发平台。

本章将涵盖以下主要主题：

+   什么是无代码？

+   为什么无代码很重要？

+   n8n简介

+   人们如何使用n8n解决问题？

+   Bubble简介

# 技术要求

对于本章，你需要以下要求：

+   运行基于Debian的Linux发行版（如Ubuntu或Raspberry Pi OS）的计算机

+   安装n8n所需的互联网访问

# 什么是无代码？

在过去半个世纪中，软件彻底改变了我们的工作和生活方式。在短短半个世纪里，原本昂贵且庞大的系统，仅限于科学和学术界，已经演变成为像厨房水槽一样无处不在，而且通常更加经济实惠。我们现在可以像与邻居在后院谈话一样轻松地与地球上另一边的人合作。

这些系统通过自动化复杂任务和一致地处理数据，已经改变了现代社会。我们不再需要手写信件，贴上邮票，然后邮寄到全国各地，几天后才能收到。我们编写电子邮件。多亏了过去几十年部署的基础设施系统和自动化，这些信息在几秒钟内就能到达。

但当你想要做一些独特或特定于你环境的事情时会发生什么？如果你要做一些小众的事情呢？当没有适合那个功能的app时，你该怎么办？

从历史上看，你会学习一种编程语言，并编写一个脚本来执行该任务。不幸的是，对于许多普通用户来说，这超出了他们的承受范围。每天节省几分钟的想法，并不觉得是一个有利的投资回报。

另一个选择是雇佣一个软件开发者来构建应用程序。这个选择听起来很合理。但是，考虑到美国软件工程师的平均年薪为$110,000 ([https://www.indeed.com/career/software-engineer/salaries](https://www.indeed.com/career/software-engineer/salaries))，这可能是一个成本高昂且回报率低的选择。

那么，这让我们处于什么位置呢？你会放弃项目，认为节省的成本或努力不值得吗？以前，这种困境可能就是结果，但最近出现了一个新的选择。正是在这一点上，**无代码**进入了画面。

普通人无需学习新的编程语言，就可以使用无代码工具创建应用程序和服务。这些工具通常是基于网络的，学习起来直观，且几乎不需要编码（如果需要的话）。当需要编码时，解决方案通常可以在产品的社区论坛上轻松找到，或者由企业家爱好者以象征性的费用提供。

这并不意味着拥有编码背景没有帮助。了解围绕计算机编程的基本概念，例如如何从开始到结束编写一个过程的步骤，将有助于加快无代码开发者所经历的成功。但它们并不是严格必要的。

现在我们对无代码工具和整个无代码运动有了更好的理解，重要的是要看看无代码对科技行业、商业和普通公民的影响。这是否是我们作为一个社会看待计算机和技术的根本性变化，还是只是最新的科技潮流，最终会被“下一个大事件”迅速取代？

# 为什么无代码很重要？

如果你今天与某些开发者谈论无代码工具，他们中的许多人会告诉你，这些工具不过是玩具，没有任何真正的力量。他们可能会说这只是一时的潮流，如果你真的想开发应用程序，你需要使用传统的编程语言。

同时，许多企业将这些无代码工具视为一种干扰，它们让员工远离了他们的任务和职责。这些人不是在编写报告和填写电子表格，而是在浪费时间制作光鲜的手机应用，这些应用无法解决真正的问题或创造真正的价值。

公平地说，这些观点曾经是非常有效的。但近年来，无代码领域发生了显著变化，无代码与传统开发工具之间的差距正在缩小。随着无代码工具的改进，它们为商业带来的价值也在增加。

具有讽刺意味的是，这两个论点与计算机早期使用的一些论调非常相似。但那时他们谈论的不是无代码工具。他们经常提到的是那些光鲜的编程界面和新兴的编程语言，如Visual Basic或JavaScript，因为真正的开发者是用低级机器语言编写的！

许多这些“分散注意力”的玩具现在已经成为有价值的工具。例如，JavaScript曾经只是用于创建动态网页的工具。现在，用JavaScript编写的工具，如Node.js，被全球数百万开发者使用，或者jQuery，可以在互联网上超过75%的网站上找到，这些都证明了曾经简单、狭窄的想法可以产生深远的影响。

但还有一个第三种观点。这些人已经拥抱了无代码工具，并看到了它们真正提供的潜力。企业不再受制于昂贵的开发者，也不再满足于那些只能执行所需部分功能的现成软件包，而这些软件包实际上并不能满足需求。

相反，每天执行任务的工人现在有权使用这些无代码工具来减轻他们的工作量，提高他们的生产力，并通过数据验证、自动化和消除重复性任务来减少人为错误。

由于工人正在开发解决方案，因此与由不真正了解该员工在组织中所扮演角色的开发者创建的更昂贵的定制解决方案相比，这种最终产品往往可以快速准确地创造价值。无代码工具的开发速度更快，拥有成本更低，通常比大型开发套件更高效。

关于使用无代码工具开发应用程序还有一个最后要点。由于入门门槛比完整的开发套件低得多，原本由于成本过高而无法自动化的任务现在可以由员工自己通过编程实现。

在日常业务之外，我们开始看到一类全新的企业家在互联网上崭露头角。这些人能够识别日常生活中的问题，并为自己和他人找到双赢的局面。然后，他们利用这些无代码工具来创建应用程序和完整的系统以解决这些问题。

这些企业家还发现，由于开发这些应用程序的成本极低，从最初的概念到生产的上市时间相对较短，一种全新的商业模式已经出现。这些企业家不再只是提出一个想法，然后投入所有的时间和精力去实现这个想法，而不清楚最终是否能够成功，他们采取了不同的方法。

他们将同时建立几个业务，有些一年内多达200个。这样，整个市场就是他们的试验场。他们可能会用不同的策略来尝试不同的产品，而不是把所有的精力和热情都投入到一件事情上，他们把这些业务当作牛来对待。那些长得强壮、投资回报率高的业务会被精心培养和喂养。那些没有产出或者最终花费的时间和精力超过其价值的公司会被带走并相应处理。对于失败的业务，没有人会流泪，因为失去的时间/精力/金钱是微不足道的。企业家太忙了，不是在培养成功的公司，就是在回到他们的无代码工具中去启动下一个项目。

现在我们已经更好地理解了无代码工具在我们现代企业和日常生活中的重要性，让我们更深入地了解一下这些工具，以便更好地了解它们的一些功能。

# n8n简介

**n8n**就是这些无代码工具之一。n8n的主要目的是以有意义的方式连接不同类型的系统来共享信息。

表面上看，这个说法可能听起来像是一个相对微不足道的事情，对日常工作的影响最小。但是，当你开始深入研究我们如何完成任务和完成工作，你会很快意识到，我们反复重复做很多小工作。如果我们能找到一种方式，让像n8n这样的系统为我们完成这些小任务，那么这种级联效应比仅仅节省一个任务的时间要重要得多。

你还可以节省工作之间的过渡时间。许多研究人员已经研究了任务切换或我们从一个任务转换到另一个任务所需的时间。他们发现，从一种类型的工作转换到另一种类型的工作大约需要20分钟。如果你少做一项工作，那就意味着不需要进行一次任务转换，从而节省了20分钟的过渡时间。还有在等待某事发生时丢失的时间。

例如，如果你需要填写一个包含一系列信息（如用户名和密码）的在线表格，并在提交表格后等待电子邮件的到来，那么你就在点击“提交”和等待电子邮件到达之间浪费了这段时间。相反，如果你配置n8n使用API连接来提交这些数据，你不仅不需要等待电子邮件的到来，甚至都不需要在一个网页表单中输入数据。n8n可以在你填写表格和等待电子邮件的极短时间里代表你完成这一整套任务，而你本可以去做其他更加重要的事情。现在，想象一下你每天需要做这件事80次。你难道不想花时间研究如何让你的电脑帮你完成这些工作吗？我认为你会的。

n8n是一个基于Web的工具。n8n可以在像Raspberry Pi这样小型且价格低廉的计算机系统上运行。它可以连接到数百个不同的系统，这些系统有专门为它们设计的**节点**，以及数千个使用标准REST API接口的系统。它还可以操纵它接收和发送的数据，以便在移动数据时，每个系统中的信息不必完全相同。它还可以生成一些分析，提供对处理数据返回的信息的洞察。因为它可以与几乎任何基于REST API的系统接口，这意味着其能力的限制仅限于那些其他系统的限制。你希望它们中的任何一个能够创建3D图像吗？有一个提供API的系统可以做到。你希望n8n能够根据从网络摄像头接收到的颜色模式即时混音音乐吗？有一个工作流程可以做到这一点。你希望n8n能够自动平衡你公司的账目，为你提供一个组织财务状况的实时仪表板吗？也有方法可以做到这一点。如果有一种方法可以将n8n连接到系统，那么n8n就可以继承那些力量。

虽然每个节点本身都非常强大，但当你开始将它们连接起来时，n8n的真正潜力就显现出来了。每个节点都设计用来执行一组特定的操作。完成操作后，它将信息传递给下一个节点。节点是如何知道将数据发送到下一个节点的？它只是查看节点之间的连接。

每个节点都有一个**输入**（左侧）和一个**输出**（右侧）端。如果一个节点的输出连接到另一个节点的输入，那么第二个节点将接收第一个节点的输出作为其输入。两个或更多节点的集合被称为工作流程。

这些工作流程可以保存在n8n系统中，并在你未打开n8n编辑器UI时在后台自动运行：

![图1.1 – 示例n8n工作流程

](img/Figure_1.01_B17493.jpg)

图1.1 – 示例n8n工作流程

但当我不告诉它们运行时，这些工作流程是如何知道要运行的？当工作流程显示在我的n8n编辑器UI界面上时，我可以点击**执行节点**按钮来使工作流程运行。但如果我不方便点击按钮，它是如何知道要运行的？现在是**触发节点**大放异彩的时候了！

通常，触发节点启动工作流程。第一个是**Cron**节点。Cron节点得名于一个Linux服务，该服务在特定的时间执行命令。Cron节点做的是同样的事情。你指定一个时间 – 例如，每天中午 – 与此Cron节点连接的工作流程将在那个特定时间运行。

如果在您配置 Cron 节点运行的时间之间发生事件，会发生什么？还有几个其他的触发节点会发挥作用。这些节点中的大多数都会监听来自特定系统的事件。当它检测到这些事件时，它将处理发送给它的信息，并通过连接到该节点的流程进行处理。

n8n 定期添加新的触发节点。但仍然有可能你想要监听的具体系统作为一个节点并不存在。你该怎么办？答案是使用 webhook 节点。webhook 节点是这些定制触发节点的通用版本。它允许任何系统向网络上的地址发送 HTTP 请求，以便在它使用此节点时将信息发送到 n8n。webhook 节点为 n8n 开辟了各种其他可能性。

现在，如果有一个节点与 webhook 节点非常相似，但它不是监听任何可以发起 HTTP 请求的系统，而是可以与任何监听 HTTP 请求的系统通信，那岂不是很好？正如你可能猜到的，这正是 HTTP 请求节点所做的事情。此节点赋予任何系统与几乎任何其他系统使用 **REST API** 通信的能力。

REST API 是一种互联网标准，用于两个系统之间的数据通信。越来越多的开发者正在为新系统和服务编写 REST API。旧系统和服务通常通过新的 API 进行改造，以便它们更容易被其他数据系统访问。

现在我们已经介绍了 n8n 及其优势，让我们来安装它！

## 安装 n8n

n8n 是操作系统无关的，这意味着它可以在 Mac、Windows 和 Linux 操作系统上运行。n8n 可以这样做，因为它运行在 Node.js JavaScript 库之上，使开发者能够将 JavaScript 应用程序作为服务运行。

注意

在本书即将付印之前，n8n 发布了一个名为 n8n Desktop 的新版本。它安装起来更像是典型的应用程序而不是服务。

安装 n8n 的方式因操作系统而异，但人们通常在 Linux 上遇到最多的困难。这主要是因为 Linux 是云服务提供商或像树莓派安装这样的低成本家庭实验室场景的明确选择。我们选择为 Linux 系统提供详细的安装说明，特别是基于 Debian 的系统，因为这些挑战。基于 Debian 的系统的一些例子包括 Ubuntu 和 Raspberry Pi OS。您可以在 n8n 网站上找到其他操作系统的说明，网址为 [https://docs.n8n.io/#getting-started](https://docs.n8n.io/#getting-started)。

### 前提条件

要在 Linux 计算机上成功安装 n8n，您将需要以下项目：

+   基于 Debian 的 Linux 操作系统

+   拥有 `sudo` 访问权限的普通用户账户

+   现代网络浏览器

+   因特网连接

#### 1. 更新操作系统

拥有一个更新后的操作系统对于确保您安装的是软件的最新版本至关重要。请按照以下步骤操作：

1.  使用标准用户账户登录到您的计算机。

1.  在终端中，输入以下命令以更新系统：

    ```py
    sudo apt install update -y &&sudo apt install upgrade -y
    ```

1.  当您被提示输入密码时，请输入您的用户密码。

1.  系统将随后安装几个包和更新。

1.  安装完成后，请继续下一节。

#### 2. 安装先决条件

n8n 运行正确需要几个不同的包。按照以下步骤安装这些包：

1.  在终端中，输入以下命令以安装先决条件：

    ```py
    sudo apt install build-essential python -y
    ```

1.  如果提示输入密码，请输入您的用户密码。

1.  系统将随后安装几个包。

1.  安装完成后，请继续下一节。

#### 3. 安装 Node.js

如我们之前提到的，Node.js 是 n8n 编写的核心。没有 Node.js，n8n 将无法运行。这些说明将安装 14.x 版本：

1.  在终端中，输入以下命令以配置 Node.js 14.x 的安装源：

    ```py
    curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -
    ```

1.  如果提示输入密码，请输入您的用户密码。

1.  输入以下命令以安装 Node.js：

    ```py
    sudo apt install nodejs -y
    ```

1.  如果提示输入密码，请输入您的用户密码。

1.  安装完成后，请继续下一节。

#### 4. 配置 Node.js 环境

为了 n8n 正常工作，它需要在系统上全局安装。默认情况下，Node.js 不允许您在不进行配置更改的情况下全局安装 n8n。请按照以下步骤正确配置 Node.js 环境：

1.  在终端中，输入以下命令以在您的家目录中创建一个新的隐藏文件夹：

    ```py
    cd ~
    mkdir ~/.nodejs_global
    ```

1.  以下命令配置 npm 包管理器以使用新的文件夹进行全局安装：

    ```py
    npm config set prefix ~/.nodejs_global
    echo 'export PATH=~/.nodejs_global/bin:$PATH' | tee --append ~/.profile
    source ~/.profile
    ```

1.  安装完成后，请继续下一节。

#### 5. 安装 n8n

系统现在已准备好安装 n8n：

1.  在终端中，输入以下命令以启动 n8n 安装：

    ```py
    npm install n8n -g
    ```

1.  安装现在将继续安装几个包以及 n8n 应用程序。

    注意

    在安装 n8n 的过程中，您可能会遇到几个警告。收到它们是正常的，您不应感到惊慌。

1.  安装完成后，请继续下一节。

#### 6. 使用 PM2 将 n8n 作为服务运行

n8n 通常在终端中运行，但一旦您退出终端或重新启动计算机，n8n 将不再运行。为了解决这个问题，我们可以使用一个名为 PM2 的应用程序将 n8n 作为服务运行。让我们来安装它：

1.  在终端中，输入以下命令以安装 PM2：

    ```py
    cd ~
    npm install pm2@latest -g
    ```

1.  一旦 PM2 安装完成，使用 PM2 启动 n8n：

    ```py
    pm2 start n8n
    ```

1.  接下来，配置 PM2 以在您的计算机重启时自动启动 n8n：

    ```py
    pm2 startup
    ```

1.  系统现在将提示您执行命令行。请确保您输入的内容与屏幕上显示的完全一致。

1.  最后，保存新的 PM2 配置：

    ```py
    pm2 save
    ```

#### 7. 打开 n8n 编辑器 UI

现在 n8n 应该正在运行。您可以通过以下步骤检查它是否正常运行：

1.  如果你不知道你电脑的 IP 地址，请在终端中输入以下命令：

    ```py
    hostname -i | awk '{print $1}'
    ```

1.  它将返回类似 `192.168.0.1` 的值。

1.  打开网页浏览器，访问 http://<IP 地址>:5678。例如，在我们的例子中，您将访问 [http://192.168.0.1:5678](http://192.168.0.1:5678)。

1.  n8n 编辑器 UI 将以一个空的工作流程打开，如下面的截图所示：

![图 1.2 – n8n 编辑器 UI

](img/Figure_1.02_B17493.jpg)

图 1.2 – n8n 编辑器 UI

在成功安装 n8n 之后，是时候开始构建一些有价值的解决方案了。但是，有时构建解决方案最具挑战性的部分是首先决定要做什么。让我们探讨一下人们如何使用 n8n 解决现实世界的问题。

# 人们如何使用 n8n 解决问题？

虽然 n8n 有许多不同的功能，但其主要作用是连接系统，并为每个系统正确准备数据以便其摄取。

了解 n8n 功能的一个绝佳方式是通过几个现实世界的例子。以下是一些真实公司正在运行的配置，这些配置使他们在技术上具有竞争优势。

## CRM 电话录音访问

我以前的一位雇主购买了一套基于 Linux 的电话系统以及一个独立的基于 Raspberry Pi 的系统，用于记录组织接收的所有电话，同时还配备了基于 Windows 的软件来管理录音。他们还有一个基于 Windows 的**客户关系管理**（CRM）系统，用于跟踪销售和库存，并使用 Microsoft SQL Server 作为后端。

销售部门负责人希望销售团队能够根据日期检索所有已拨或接收的客户电话，然后点击按钮或链接来收听录音。

最终解决方案从电话系统中抓取了所有通话记录数据，并将其临时存储在一个文本文件中。然后 n8n 会监控这个文件的变化并导入数据。此时，它会拉取通话录音信息，将其与通话记录相关联，并将这些数据写入 Microsoft SQL Server。然后 IT 团队修改了 CRM，以便在新表中查找这些信息并在 CRM 中显示。

由于 n8n 既是数据无关又是系统无关的，它有效地连接了这些截然不同的设备，并使它们之间能够进行高效、准确的信息交流。如果没有 n8n，这将需要一系列不同的脚本、计划任务、文件导出、网络共享和持续的监控。n8n 允许 IT 团队使用它自带的所有工具在一个单一系统中执行这些相同的任务。

## Goomer 在 COVID-19 期间转型

Goomer 是一家位于巴西的餐厅订餐软件公司。但 2020 年初 COVID-19 爆发时，政府关闭了所有餐馆，Goomer 的客户现在正努力维持业务。Goomer 的业务突然陷入困境。

Goomer决定转型成为一家配送应用程序，将所有开发团队转向设计和开发新的程序。他们的技术团队没有时间专注于自动化或部署工具。正是在这个时候，他们决定转向n8n来构建自动化流程。

他们选择n8n是因为它比其他托管解决方案便宜得多，而且更加灵活。由于他们可以在本地运行而无需意外收费，他们可以专注于部署工具和运营业务，无需担心扩展或高昂的价格。

Goomer使用n8n通过连接Airtable、Coda和HubSpot等系统来管理他们的业务流程。n8n会自动对这些系统中的事件做出反应，以更新其他系统中的数据和信息，而无需任何用户干预。

## n8n航行于七大洋

n8n不仅限于陆地。Maranics将人工手动流程数字化，以提高流程质量并减少工作量。在连续使用了几年的其他自动化解决方案之后，Maranics开始将他们的自动化工作流程迁移到n8n，为包括几艘游轮在内的许多客户提供服务。

Maranics使用n8n轻松地将MongoDB和Postgres等不同数据库与具有标准REST API的其他系统连接起来，而使用其他解决方案这将要困难得多。

由于n8n可以在企业（或船只）本地安装，当所有数据都存储在本地系统上时，无需持久互联网连接。此外，由于所有数据都可以在本地处理，因此无需将数据发送到网络或本地业务。

这些只是人们如何使用n8n构建工作流程，使他们的流程更加高效、更少出现人为错误，并且全天候可用的几个例子。

看到人们如何使用n8n连接系统非常令人着迷。但是，偶尔，没有一款全能系统能满足你的需求。其他无代码工具此时介入，填补这一空白。它们提供各种服务，如网页前端或数据存储。然后，n8n用于将其连接到世界其他部分。Bubble就是这些工具之一，我们将在本书中广泛使用它。

# Bubble简介

由于n8n的强项是集成不同的系统，n8n的开发团队并没有专注于用户界面开发。开发团队知道整个公司都在关注构建前端的无代码工具，并且很高兴将这项工作留给他们。（尽管，我们将在本书的后面部分向您展示如何完全使用n8n制作网页前端。）

由于n8n的焦点不在于前端设计，我们选择使用Bubble作为无代码开发工具来完成这项任务。具体来说，我们决定使用Bubble是因为以下原因：

+   它拥有简单直观的开发界面。

+   它是一款流行且广为人知的无代码工具。

+   它提供了数据访问和工作流程激活的API。

+   它的工作流程功能有限。

+   它与其他系统的集成很少。

这些因素使其成为一个出色的工具。但并非我们唯一可以用来与n8n交互的工具。n8n几乎可以与所有无代码工具连接，无论是通过自定义节点还是REST API。

# 摘要

这本入门章节探讨了无代码以及使它成为当今企业变革推动力的人们。我们还讨论了使用n8n等工具的一些显著好处，并提供了公司如何利用无代码的灵活性的真实世界案例。

我们也采取了一些必要的初步步骤，以便更好地理解n8n。你学习了如何在基于Debian的Linux系统上安装n8n，这样你就可以立即开始在家或商业环境中免费使用n8n。

最后，我们向你介绍了Bubble，这是一个无代码工具，我们将用它来开发我们许多示例应用的前端。我们将能够同时使用Bubble和n8n来创建用户友好（Bubble）的完整解决方案，并与各种系统和服务交互。

现在你对无代码、n8n和Bubble有了更好的理解，是时候深入挖掘n8n的工作原理并构建一些我们的第一个工作流程了。我们将在下一章中这样做。
