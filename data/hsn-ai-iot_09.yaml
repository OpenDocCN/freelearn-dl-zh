- en: Personal and Home IoT
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 个人和家庭物联网
- en: 'Now that you are fully equipped with **machine learning** (**ML**) and **deep
    learning** (**DL**) knowledge, and have learned how to use it for big data, image
    tasks, text tasks, and time series data, it is time to explore some real uses
    of the algorithms and the techniques that you have learned. This chapter and the
    following two chapters will now concentrate on some specific case studies. This
    chapter will focus on personal and home **Internet of Things** (**IoT**) use cases.
    We will cover the following in this chapter:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已经掌握了**机器学习**（**ML**）和**深度学习**（**DL**）的知识，并学习了如何将其应用于大数据、图像任务、文本任务和时间序列数据，是时候探索您所学的算法和技术在实际中的应用了。本章及接下来的两章将集中介绍一些具体的案例研究。本章将重点讨论个人和家庭**物联网**（**IoT**）的使用案例。我们将在本章中讨论以下内容：
- en: Successful IoT applications
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成功的物联网应用
- en: Wearables and their role in personal IoT
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可穿戴设备及其在个人物联网中的作用
- en: How to monitor heart using ML
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何通过机器学习监测心脏
- en: What makes home smart home
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么让家成为智能家居
- en: Devices used in smart home
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 智能家居中使用的设备
- en: The application of Artificial Intelligence in predicting human activity recognition
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 人工智能在预测人类活动识别中的应用
- en: Personal IoT
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 个人物联网
- en: 'The personal IoT is dominated by the use of wearables, technological devices
    designed to be worn on body, they are used in tandem with an app on a smartphone.
    The first wearable available was the Pulsar Calculator watch made by Time Computer
    Inc, USA (at that time known as **Hamilton Watch Company**). It was a standalone
    device not connected to the internet. Soon, with the growth of the internet, wearables
    that can connect to the internet became a fad. The wearables market is expected
    to jump from an estimate of **325** **million** in **2016** to over **830** **million**
    by **2020**:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 个人物联网主要由可穿戴设备主导，这些技术设备设计为佩戴在身体上，并与智能手机上的应用程序配合使用。第一款可穿戴设备是由美国Time Computer Inc.（当时称为**汉密尔顿手表公司**）生产的Pulsar计算器手表。那时它是一款不连接互联网的独立设备。随着互联网的普及，能够连接互联网的可穿戴设备成为了一种潮流。预计可穿戴设备市场将从2016年约**3.25**亿台增长至2020年超过**8.3**亿台：
- en: '![](img/11b5c44d-8c4c-4040-adeb-2c5498122d54.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![](img/11b5c44d-8c4c-4040-adeb-2c5498122d54.png)'
- en: 'This graph shows the number of wearables worldwide from 2016–2021 (data source:
    Statista). With so many devices connected online, continuously generating data,
    AI/ML tools are a natural choice to analyze this data and make informed decisions.
    In this section, you will learn about some successful personal IoT applications.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 该图展示了2016至2021年间全球可穿戴设备的数量（数据来源：Statista）。随着越来越多的设备在线连接并持续生成数据，AI/ML工具成为分析这些数据并做出明智决策的自然选择。在本节中，您将了解一些成功的个人物联网应用。
- en: SuperShoes by MIT
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MIT的SuperShoes
- en: Holding your mobile in one hand and navigating your way along the road with
    the help of *Google Maps*, how often have you thought that it is cumbersome? How
    often have you wished for magic slippers that will take you anywhere you want?
    SuperShoes by *MIT Media Lab* ([https://www.media.mit.edu/projects/supershoes/overview/](https://www.media.mit.edu/projects/supershoes/overview/))
    are almost like those magic slippers; they allow the user to navigate through
    the sidewalks without any need to check the smartphone screen.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 当你用一只手拿着手机并通过*Google Maps*导航时，你有多少次觉得这种方式很繁琐？你有多少次希望能有一双能带你去任何地方的魔法拖鞋？由*MIT
    Media Lab*开发的SuperShoes（[https://www.media.mit.edu/projects/supershoes/overview/](https://www.media.mit.edu/projects/supershoes/overview/)）几乎就像这些魔法拖鞋；它们使用户无需查看智能手机屏幕即可在街道上导航。
- en: SuperShoes have flexible insoles, embedded with vibrating motors under the toes.
    They connect wirelessly to an app on the smartphone. The app not only allows the
    user to interface with the SuperShoes, but it also stores likes/dislikes, hobbies,
    shops, foods, people, interests, and so on in a cloud account. The vibrating motors
    generate tickles that communicate with the user. Once the user enters a destination
    on the app, the shoes start their work. If the left toe tickles then the user
    is supposed to take a left turn; if the right toe tickles then the user has to
    take a right turn. When there is no tickle, then the user has to continue straight.
    If both tickle repeatedly, the user has arrived at their destination.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: SuperShoes具有灵活的鞋垫，在脚趾下嵌入了振动马达。它们通过无线连接到智能手机上的应用程序。该应用程序不仅允许用户与SuperShoes进行交互，还将用户的喜好、不喜欢的东西、爱好、商店、食物、人物、兴趣等存储在云账户中。振动马达产生的触觉刺激与用户进行沟通。一旦用户在应用程序中输入目的地，鞋子就开始工作。如果左脚趾有触觉刺激，用户应该向左转；如果右脚趾有触觉刺激，用户应该向右转。如果没有触觉刺激，用户则需要继续直行。如果两个脚趾都反复有触觉刺激，说明用户已经到达目的地。
- en: Besides navigation, it can also recommend places of interest nearby; the user
    updates their likes and dislikes on the cloud. Based on the likes and dislikes
    of the user, SuperShoe also gives an indication (both toes tickle once) when the
    user is near a recommended place of interest. Another interesting feature of SuperShoes
    is that it can give reminders as well; it can remind you if you have a task on
    a location nearby.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 除了导航，它还可以推荐附近的兴趣地点；用户可以在云端更新他们的喜好和不喜欢的事物。根据用户的喜好和不喜欢，SuperShoes在用户接近推荐地点时会给出提示（两只脚趾同时被刺激）。SuperShoes的另一个有趣功能是它可以提醒用户；如果用户附近有任务，它会提醒用户。
- en: 'The hardware required to make this shoe is very simple, it requires the following:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 制作这款鞋所需的硬件非常简单，主要包括以下内容：
- en: Three vibrotactile ticklers to tickle the toes
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三个振动触觉装置刺激脚趾
- en: A capacitive pad to sense the walk
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于感应步态的电容传感器
- en: A microcontroller that takes the commands from the app, and accordingly, controls
    the ticklers
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一块微控制器，用于接收应用程序的命令，并相应地控制触觉刺激装置
- en: A Bluetooth device to connect with the smartphone
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于与智能手机连接的蓝牙设备
- en: Batteries to power the entire system
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为整个系统提供电力的电池
- en: 'The magic is performed by the software coded into the app. You can learn more
    about the SuperShoes at this website: [http://dhairyadand.com/works/supershoes](http://dhairyadand.com/works/supershoes).'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这一魔法由应用程序中的软件代码实现。您可以在此网站了解更多关于SuperShoes的信息：[http://dhairyadand.com/works/supershoes](http://dhairyadand.com/works/supershoes)。
- en: Continuous glucose monitoring
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 持续血糖监测
- en: A major application of AI has been in IoT for healthcare, with one of the most
    successful commercial applications being continuous monitoring of the body's glucose
    level. Abbott's FreeStyle CGM, DexCom CGM, and Medtronic CGM are some of the commercially
    available brands.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 人工智能的一个主要应用领域是物联网（IoT）在医疗保健中的应用，其中最成功的商业应用之一就是持续监测人体血糖水平。雅培的FreeStyle CGM、DexCom
    CGM和美敦力的CGM是一些市面上可用的品牌。
- en: '**Continuous glucose monitoring** (**CGM**) allows people suffering from diabetes
    to check their body''s glucose level in real time. It helps them in monitoring
    the readings over a period of time, and the data can also be used to prediction
    of future glucose level, thus helping them to deal with conditions like hypoglycemia.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '**连续血糖监测**（**CGM**）使糖尿病患者能够实时检查自己体内的血糖水平。它帮助他们在一段时间内监测血糖数据，这些数据还可以用于预测未来的血糖水平，从而帮助他们应对低血糖等情况。'
- en: In CGM, normally a sensor is placed either under the skin of the belly or adhered
    to the back of your arm. The sensor sends the readings to a connected pager/smartphone
    app. The app has additional AI-based algorithms that can inform the user of any
    clinically relevant glucose patterns. The availability of this data not only helps
    the user to proactively manage their glucose highs and lows, but additionally,
    it can also provide an insight into the impact that meals, exercise, or illness
    may have on a person's glucose levels.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在CGM中，通常将传感器放置在腹部皮肤下或粘贴在手臂背部。传感器将读数发送到连接的呼叫器或智能手机应用程序。该应用程序具有基于人工智能的算法，可以告知用户任何临床相关的血糖模式。数据的可用性不仅帮助用户主动管理血糖的升高和下降，还可以提供关于饮食、锻炼或疾病对血糖水平影响的见解。
- en: The sensors have a lifespan ranging from 7 to 14 days, normally this time is
    sufficient for a medical practitioner to understand the person's lifestyle, and
    accordingly, suggest changes.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 传感器的使用寿命通常为7到14天，通常这个时间足够医疗人员了解个人的生活方式，并相应地建议调整。
- en: Hypoglycemia prediction using CGM data
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用CGM数据预测低血糖
- en: Once a person has CGM data, it can be analyzed using AI/ML to gather more information
    or to make a prediction about hypoglycemia. In this section, we see how we can
    use the algorithms we had learned in the previous chapters to make a glucose-predictor
    system.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦一个人拥有CGM数据，就可以使用AI/ML对其进行分析，以收集更多信息或预测低血糖。在本节中，我们将看到如何使用前面章节中学到的算法来构建一个血糖预测系统。
- en: We will build our predictor based on the research paper *Glucose Concentration
    can be Predicted Ahead in Time From Continuous Glucose Monitoring sensor Time-Series*
    by Sparacino et al. ([10.1109/TBME.2006.889774](https://doi.org/10.1109/TBME.2006.889774)).
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将基于Sparacino等人发表的论文《血糖浓度可以通过连续血糖监测传感器时间序列提前预测》（[10.1109/TBME.2006.889774](https://doi.org/10.1109/TBME.2006.889774)）构建我们的预测器。
- en: 'In the paper, the CGM time series glucose data is described by a times series
    model; the paper considered two models, one a simple first order polynomial and
    second a first order autoregressive model. The model parameters are fitted at
    each sampling time, *t[s]*, against the past glucose data. Here, we will implement
    the simple first order polynomial using scikit linear regressor that we learned
    about in [Chapter 3](09538353-bf5b-4035-8b98-cc131bcfcf24.xhtml), *Machine Learning
    for IoT*:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在论文中，CGM时间序列的血糖数据由一个时间序列模型描述；论文考虑了两种模型，一个是简单的一阶多项式，另一个是一阶自回归模型。模型参数在每个采样时间 *t[s]*
    对过去的血糖数据进行拟合。这里，我们将使用在[第3章](09538353-bf5b-4035-8b98-cc131bcfcf24.xhtml)《物联网中的机器学习》中学到的scikit线性回归器来实现简单的一阶多项式：
- en: 'We import the modules pandas to read the `csv` file, NumpPy for data processing,
    Matplolib for plotting, and scikit-learn for the linear regressor, as follows:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们导入模块pandas来读取`csv`文件，Numpy用于数据处理，Matplotlib用于绘图，scikit-learn用于线性回归器，如下所示：
- en: '[PRE0]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Save the data obtained from your CGM in the data folder and read it. We require
    two values, the glucose reading and its time. The data that we are using has these
    available in two CSV files, `ys.csv` and `ts.csv`. The first one contains the
    glucose value and the second one contains the corresponding time, as follows:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将从CGM获得的数据保存在数据文件夹中并读取。我们需要两个值：血糖读数和对应的时间。我们使用的数据在两个CSV文件中提供，分别是`ys.csv`（包含血糖值）和`ts.csv`（包含对应的时间），如下所示：
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'According to the paper, we define two parameters of the predictive model `ph`,
    the prediction `horizon`, and `mu` the forgetting factor. Please refer to the
    we mentioned earlier paper for more details on these two parameters:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据论文，我们定义了预测模型的两个参数`ph`，即预测**时间范围**，和`mu`，即遗忘因子。有关这两个参数的更多细节，请参考前面提到的论文：
- en: '[PRE2]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We create the arrays to hold our predicted values, shown as follows:'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们创建数组来保存预测值，如下所示：
- en: '[PRE3]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'We now read the CGM data simulating the real-time acquisition and predict the
    glucose level `ph` minutes forward. All the past data is used to determine the
    model parameters, however, each has a different contribution decided by the individual
    weight assigned to it `mu^k` (to the sample taken `k` instants before the actual
    sampling time):'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们读取CGM数据，模拟实时采集，并预测`ph`分钟后的血糖水平。所有过去的数据都用于确定模型参数，但每个数据点的贡献不同，由分配给它的个体权重`mu^k`（表示距当前采样时间`k`时刻的样本权重）决定：
- en: '[PRE4]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'We can see that the prediction is lagging behind the actual. The normal glucose
    level lies in the range `70` to `180`. Below `70`, the patient can suffer from
    hypoglycemia and above `180` it can lead to hyperglycemia. Let us see the plot
    of our predicted data:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以看到预测滞后于实际数据。正常的血糖水平在`70`到`180`之间。低于`70`，患者可能会出现低血糖，超过`180`则可能导致高血糖。让我们来看一下我们预测数据的图示：
- en: '[PRE5]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](img/df2045fe-1257-4d6e-84e0-713cd388dea0.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](img/df2045fe-1257-4d6e-84e0-713cd388dea0.png)'
- en: 'The RMSE error will be 27 for the following code:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下代码的RMSE误差将为27：
- en: '[PRE6]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The code is located at `Chapter09/Hypoglycemia_Prediction.ipynb` notebook. The
    glucose-prediction system is available in many commercial products. You can make
    one too, based on the model that we just made. You can also use an artificial
    neural network to make a similar prediction with better results (refer to  [https://www.ncbi.nlm.nih.gov/pubmed/20082589](https://www.ncbi.nlm.nih.gov/pubmed/20082589)).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 代码位于`Chapter09/Hypoglycemia_Prediction.ipynb`笔记本中。葡萄糖预测系统已经出现在许多商业产品中。你也可以根据我们刚刚创建的模型来做一个类似的系统。你还可以使用人工神经网络做类似的预测，结果可能会更好（参考
    [https://www.ncbi.nlm.nih.gov/pubmed/20082589](https://www.ncbi.nlm.nih.gov/pubmed/20082589)）。
- en: Heart monitor
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 心脏监测器
- en: 'Another very useful personal application of AI in IoT is in the detection of
    heart disease. A large number of wearables exist that can be used to monitor and
    record heart rate. The data can be used to predict any harmful heart condition.
    Here, we will employ AI/ML tools to predict cardiac **arrhythmia**, a group of
    conditions where the heart rate is irregular; it can be either too fast (above
    100 beats per minute) or too slow (below 60 beats per minute). The data used is
    taken from the *UCI Machine learning R**epository* dataset: [https://archive.ics.uci.edu/ml/datasets/heart+Disease](https://archive.ics.uci.edu/ml/datasets/heart+Disease).
    The dataset consists of 76 attributes, not all required for prediction of the
    presence of disease; the dataset has a goal field associated with each data row.
    It has five possible values 0–4, the value 0 indicates a healthy heart, any other
    value means there is a disease. The problem can be broken into a binary classification
    problems for better accuracy. The code is inspired from the GitHub link of Mohammed
    Rashad, it is shared under the GNU GPL 3.0 license: [https://github.com/MohammedRashad/Deep-Learning-and-Wearable-IoT-to-Monitor-and-Predict-Cardiac-Arrhytmia](https://github.com/MohammedRashad/Deep-Learning-and-Wearable-IoT-to-Monitor-and-Predict-Cardiac-Arrhytmia).
    The complete code can be accessed from GitHub repository under `Chapter09/Heart_Disease_Prediction.ipynb`
    file:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个非常有用的个人AI应用在物联网中的例子是心脏病的检测。现在有很多可穿戴设备可以用来监测和记录心率。这些数据可以用来预测任何有害的心脏状况。在这里，我们将采用AI/ML工具来预测心脏**心律失常**，这是一组心率不规律的情况；它可以是过快（每分钟超过100次）或过慢（每分钟低于60次）。使用的数据来自*UCI机器学习数据集*：[https://archive.ics.uci.edu/ml/datasets/heart+Disease](https://archive.ics.uci.edu/ml/datasets/heart+Disease)。该数据集包含76个属性，但并非所有属性都用于预测疾病的存在；每一行数据都有一个目标字段。它有五个可能的值0–4，值0表示健康的心脏，其他任何值都表示有疾病。为了更好的准确性，问题可以被划分为二分类问题。该代码灵感来源于Mohammed
    Rashad的GitHub链接，并且以GNU GPL 3.0许可证共享：[https://github.com/MohammedRashad/Deep-Learning-and-Wearable-IoT-to-Monitor-and-Predict-Cardiac-Arrhytmia](https://github.com/MohammedRashad/Deep-Learning-and-Wearable-IoT-to-Monitor-and-Predict-Cardiac-Arrhytmia)。完整的代码可以通过GitHub仓库中的`Chapter09/Heart_Disease_Prediction.ipynb`文件访问：
- en: 'The first step as always is to import the necessary modules. Since we are now
    classifying the patients as suffering from heart disease or not, we will need
    a classifier. Here for simplicity, we use the `SVC` classifier. You can experiment
    with the MLP classifier, shown as follows:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 和往常一样，第一步是导入必要的模块。由于我们现在要对患者进行心脏病与否的分类，因此我们需要一个分类器。为了简便起见，我们使用`SVC`分类器。你也可以尝试使用MLP分类器，代码如下所示：
- en: '[PRE7]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Next, read the dataset, preprocess the dataset to select the attributes you
    will be considering. We chose 13 attributes from 76, and then we convert the target
    from a multi-class value to binary class. Finally, the data is split into the
    train and test dataset, as follows:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，读取数据集，对数据集进行预处理，选择你将考虑的属性。我们从76个属性中选择了13个，然后将目标值从多类值转换为二分类。最后，数据被分割为训练集和测试集，如下所示：
- en: '[PRE8]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Now, we define the model to be used. Here we are using a support vector classifier,
    using the `fit` function to train the dataset:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们定义要使用的模型。这里我们使用的是支持向量分类器，通过`fit`函数来训练数据集：
- en: '[PRE9]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Let us see its performance on the test dataset:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们来看一下它在测试数据集上的表现：
- en: '[PRE10]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'You can see that it provides an accuracy of 74%, using MLP, we can increase
    it further. But do remember to normalize all the input features before using the
    MLP classifier. Following is the confusion matrix of our trained support vector
    classifier on the test dataset:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以看到，它提供了74%的准确率，使用MLP，我们可以进一步提高准确率。但请记住，在使用MLP分类器之前，务必对所有输入特征进行归一化处理。以下是我们训练的支持向量分类器在测试数据集上的混淆矩阵：
- en: '[PRE11]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The following output shows the confusion matrix for the test dataset:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 以下输出显示了测试数据集的混淆矩阵：
- en: '![](img/fe756965-f750-4f3a-a070-01330b4ac16d.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fe756965-f750-4f3a-a070-01330b4ac16d.png)'
- en: You can train your model on the same dataset and use your trained model to predict
    heart conditions for your friends, family, or clients.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在相同的数据集上训练你的模型，并使用训练好的模型为你的朋友、家人或客户预测心脏状况。
- en: Digital assistants
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数字助手
- en: Digital assistants are one of the oldest conceived AI applications. Initial
    attempts at digital assistants never really took off. But with the advent and
    mass spread of smartphones, today we have a large number of digital assistants
    providing services such as dialing a phone number, writing a text message, scheduling
    appointments, or even searching the internet for you. You can ask them for recommendations
    for nearby restaurants and bars or any other similar thing.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 数字助手是最早设想的人工智能应用之一。最初的数字助手尝试并未取得成功。然而，随着智能手机的出现和普及，今天我们有了大量的数字助手，它们提供拨打电话、写短信、安排日程，甚至为你上网搜索等服务。你可以让它们推荐附近的餐厅、酒吧或其他类似的地方。
- en: 'Some of the following are popular digital assistants:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些流行的数字助手：
- en: '**Siri**: Developed by Apple, it allows the user to send/make calls, add appointments
    in the calendar, play music or video, and even send a text. Today, a voice-activated
    interface is available on almost all Apple products.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Siri**：由苹果开发，允许用户拨打电话、添加日程、播放音乐或视频，甚至发送短信。如今，几乎所有的苹果产品上都提供语音激活界面。'
- en: '**Cortana**: Created by Microsoft, it helps you to stay on schedule by reminding
    you to do things based on time, place, or even people. You can ask Cortana to
    order lunch for you or use any other app it partners with. It comes integrated
    with Edge  and invokes a voice-activated speaker featuring Cortana.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Cortana**：由微软创建，帮助你通过基于时间、地点甚至人物的提醒保持日程安排。你可以让Cortana为你订午餐，或者使用它与之合作的其他应用程序。它与Edge集成，并启用了一个配备Cortana的语音激活扬声器。'
- en: '**Alexa**: Developed by Amazon, this is available with Amazon Echo smart speakers.
    It can play music, make a to-do list, set alarms for you, play audio books, and
    provide real-time information on stocks, weather, and more. It is also capable
    of voice interaction.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Alexa**：由亚马逊开发，适用于亚马逊Echo智能音响。它可以播放音乐、制定待办事项清单、为你设置闹钟、播放有声书，并提供关于股票、天气等的实时信息。它还支持语音互动。'
- en: '**Google Assistant**: This is a voice-controlled smart assistant. It provides
    continued conversation, that is you don''t have to say *Hey Google* for any follow-up
    requests, once you start talking, it listens for a response without needing the
    triggering phrase. It can also recognize the voice profiles for different people
    and can tailor its response according to the personal likes and dislikes of that
    person. It is available not only on Android smartphones but also on Google Home.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Google Assistant**：这是一个语音控制的智能助手。它提供持续的对话功能，即一旦你开始讲话，它会在没有触发词的情况下继续听取后续请求，而无需重复说*嘿，Google*。它还可以识别不同人的语音特征，并根据个人的喜好和厌恶量身定制回答。它不仅可以在安卓智能手机上使用，还可以在Google
    Home上使用。'
- en: In 2018, Google went even further, releasing Google Duplex, an assistant that
    can make calls for you and book your appointments. It talks like a human, and
    also understands the context when speaking.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 2018年，谷歌更进一步，发布了Google Duplex，它可以为你打电话并预定约会。它说话像人类一样，并且在交谈时能够理解上下文。
- en: IoT and smart homes
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网与智能家居
- en: A close friend of mine was always worried about his ageing mother, she was left
    home alone, while he, his wife, and kids were out. As her health started deteriorating,
    he asked for a piece of advice. The solution was simple; he installed CCTV cameras
    in all the rooms, interfaced with a mobile app. The cameras were connected to
    the internet, now, no matter where he is, he can check-in home to ensure the well-being
    of his mother.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我的一个密友一直担心他年迈的母亲，母亲独自待在家中，而他、妻子和孩子们都外出。当母亲的健康状况开始恶化时，他向我求助。解决方案很简单；他在每个房间安装了CCTV摄像头，并与手机应用程序进行了连接。摄像头通过互联网联网，现在，无论他身在何处，都可以查看家中的情况，确保母亲的安好。
- en: CCTV, smart lightning, smart speakers, and so on connected to the internet help
    automate a lot of tasks at home, and what you get is a smart home. Most smart
    home systems at present work through a voice command interface, where you can
    use a set of commands to control the particular device. For example, in Amazon's
    Echo Dot, you can ask it to search or play a particular song. You can ask Apple's
    Siri to use your phone to call a friend, all by simple voice interface. Most of
    these devices are using AI/ML in some form, but home automation can be further
    advanced by employing AI/ML. For example, in the case of my friend, an AI system
    can be trained to identify activity from video, or to detect intrusion in the
    home. The possibilities are infinite. With the right data and sufficient computing
    power, you are limited only by your imagination.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 闭路电视（CCTV）、智能照明、智能音箱等连接到互联网帮助家庭自动化许多任务，您获得的是智能家居。目前大多数智能家居系统通过语音命令界面工作，您可以使用一组命令控制特定设备。例如，在Amazon的Echo
    Dot中，您可以要求其搜索或播放特定歌曲。您可以要求Apple的Siri使用手机打电话给朋友，都可以通过简单的语音界面。大多数这些设备都在某种形式上使用AI/ML，但通过使用AI/ML，家庭自动化可以进一步发展。例如，对于我的朋友，可以训练AI系统从视频中识别活动，或者检测家庭入侵。可能性是无限的。有了正确的数据和足够的计算能力，您只受想象的限制。
- en: In this section, we will see some existing home automation products, and see
    how we can further use AI to augment the automation.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将看到一些现有的家庭自动化产品，并探讨如何进一步利用AI来增强自动化。
- en: Human activity recognition
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 人体活动识别
- en: 'One of the most researched smart home application is **human activity recognition**
    (**HAR**). There are many companies trying to develop apps that keep track of
    physical activity and its corresponding calorie burn count. Health and fitness
    no doubt is big business. Besides its application in fitness and health, HAR can
    also be useful in elder care or rehabilitation centers. There have been many approaches
    to perform HAR, two of which as the follows:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 最受关注的智能家居应用之一是**人体活动识别**（**HAR**）。有许多公司试图开发能够追踪体育活动及其相应热量消耗的应用程序。健康与健身无疑是一个大生意。除了在健身和健康方面的应用外，HAR在老年护理或康复中也很有用。进行HAR已有许多方法，以下是其中两种：
- en: Use cameras (or radar or similar devices) to record human activity and classify
    it using a DL approach
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用摄像头（或雷达或类似设备）记录人类活动，并使用深度学习方法对其进行分类
- en: The individuals use wearable sensors (similar to accelerometers in smartphones)
    whose data is recorded and used to predict the activity
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 个人使用可穿戴传感器（类似于智能手机中的加速计）记录其数据，并用于预测活动
- en: Both approaches have their pros and cons. We will go through them in further
    detail in the following sections.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 这两种方法各有优缺点。我们将在以下章节详细讨论它们。
- en: HAR using wearable sensors
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用可穿戴传感器进行HAR
- en: A large number of vendors have wearable watches and bracelets with fitness trackers.
    These watches and bracelets have GPS, accelerometer, gyroscope, heart rate sensor,
    and/or ambient light sensors. Employing **sensor fusion**, they combine the output
    of these sensors to make a prediction about the activity. Due to the temporal
    nature of the data, it is a challenging time series classification task.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 大量供应商提供带有健身追踪器的可穿戴手表和手镯。这些手表和手镯配备了GPS、加速度计、陀螺仪、心率传感器和/或环境光传感器。通过**传感器融合**，它们结合这些传感器的输出来对活动进行预测。由于数据的时间性质，这是一个具有挑战性的时间序列分类任务。
- en: 'Fitbit ([https://www.fitbit.com/smarttrack](https://www.fitbit.com/smarttrack)),
    a premier company in the field of fitness trackers, use a technology it calls
    **SmartTrack**, which recognizes activities with continuous movement or light
    movement. It uses the intensity and patterns of the movement to classify the activity.
    It classifies the activity in seven classes, as follows:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: Fitbit ([https://www.fitbit.com/smarttrack](https://www.fitbit.com/smarttrack))，作为健身追踪器领域的领先公司，使用了它称之为**SmartTrack**的技术，能够识别连续运动或轻微运动的活动。它利用运动的强度和模式对活动进行分类。它将活动分为七类，如下所示：
- en: Walking
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 步行
- en: Running
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 跑步
- en: Aerobic workout
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有氧运动
- en: Elliptical
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 椭圆机
- en: Outdoor bike
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 户外骑行
- en: Sports
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运动
- en: Swimming
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 游泳
- en: 'Apple Watch ([https://www.apple.com/in/apple-watch-series-4/workout/](https://www.apple.com/in/apple-watch-series-4/workout/))
    offers tough competition to Fitbit. Working on an iOSoperating system, it comes
    with fall detection, along with many other health tracking features. By analyzing
    the wrist trajectory and impact acceleration, it detects if the person is falling
    and can also initiate an emergency call. The Apple watch, by default, classifies
    activities into three groups: walking, exercise, and standing. The exercise (workouts)
    are further classified in another domain, such as indoor run, outdoor run, skiing,
    snowboarding, yoga, and even hiking.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Apple Watch ([https://www.apple.com/in/apple-watch-series-4/workout/](https://www.apple.com/in/apple-watch-series-4/workout/))
    对Fitbit构成了强有力的竞争。它运行在iOS操作系统上，具备跌倒检测功能，以及许多其他健康跟踪特性。通过分析手腕的轨迹和冲击加速度，它可以检测到是否发生跌倒，并能够发起紧急呼叫。Apple
    Watch默认将活动分为三类：步行、锻炼和站立。锻炼（运动）则进一步分类到其他领域，如室内跑步、户外跑步、滑雪、单板滑雪、瑜伽，甚至徒步旅行。
- en: 'If you want to try making a similar app using your smartphone sensors, the
    first thing you will need is data. Following, we present an implementation of
    HAR using random forest, the code has been adapted from the GitHub link of Nilesh
    Patil, Data Scientist at the University of Rochester: [https://github.com/nilesh-patil/human-activity-recognition-smartphone-sensors](https://github.com/nilesh-patil/human-activity-recognition-smartphone-sensors).'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想尝试使用智能手机传感器制作类似的应用程序，首先你需要的数据。接下来，我们展示了一个使用随机森林实现的HAR方法，代码改编自罗切斯特大学的数据科学家Nilesh
    Patil的GitHub链接：[https://github.com/nilesh-patil/human-activity-recognition-smartphone-sensors](https://github.com/nilesh-patil/human-activity-recognition-smartphone-sensors)。
- en: The dataset is from the paper *Davide Anguita, Alessandro Ghio, Luca Oneto,
    Xavier Parra and Jorge L. Reyes-Ortiz. A Public Domain Dataset for Human Activity
    Recognition Using Smartphones. 21th European Symposium on Artificial Neural Networks,
    Computational Intelligence and Machine Learning, ESANN 2013\. Bruges, Belgium
    24-26 April 2013.*
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集来自论文 *Davide Anguita, Alessandro Ghio, Luca Oneto, Xavier Parra 和 Jorge L.
    Reyes-Ortiz. A Public Domain Dataset for Human Activity Recognition Using Smartphones.
    2013年21届欧洲人工神经网络、计算智能与机器学习研讨会，ESANN 2013。比利时布鲁日，2013年4月24-26日。*
- en: 'Available at the UCI ML website: [https://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones#](https://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones#).'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 可在UCI ML网站上获取：[https://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones#](https://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones#)。
- en: 'For each record in the dataset contains:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集中的每一条记录包含：
- en: Triaxial acceleration from the accelerometer (total acceleration) and the estimated
    body acceleration
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自加速度计的三轴加速度（总加速度）以及估算的身体加速度
- en: Triaxial angular velocity from the gyroscope
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自陀螺仪的三轴角速度
- en: A 561-feature vector with time and frequency domain variables
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个包含561个特征的向量，包含时域和频域变量
- en: Its activity label
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它的活动标签
- en: An identifier of the subject who carried out the experiment
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实验执行者的标识符
- en: 'The data is classified into six categories:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 数据被分类为六个类别：
- en: Laying
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 躺卧
- en: Sitting
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 坐姿
- en: Standing
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 站立
- en: Walk
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 步行
- en: Walk-down
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向下行走
- en: Walk-up
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向上行走
- en: 'Here, we use random forest classifier of the scikit-learn to classify the data.
    The necessary modules needed for the implementation are imported in the first
    step:'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，我们使用scikit-learn的随机森林分类器对数据进行分类。实现所需的模块在第一步中被导入：
- en: '[PRE12]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'We read the data and divide it into `train` and `test` datasets, as follows:'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们读取数据并将其分为`train`和`test`数据集，如下所示：
- en: '[PRE13]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The data consists of 561 features however, not all are equally important. We
    can choose the more important features by making a simple random forest classifier,
    and choosing only the most important ones. In this implementation, it is done
    using two steps. Initially, we get the list of important features and arrange
    them in descending order of importance. Then the number and the features are found
    by grid hypertuning. The results of hypertuning are shown in the curve. We can
    see that after about 20 features, there is no significant improvement in **out
    of bag** (**OOB**) accuracy using the following code:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据包含561个特征，但并非所有特征都同等重要。我们可以通过制作一个简单的随机森林分类器来选择更重要的特征，仅选择最重要的特征。在此实现中，分为两个步骤。首先，我们获取重要特征的列表，并按重要性降序排列。然后，通过网格超参数调优找到特征的数量和特征。超参数调优的结果显示在曲线上。我们可以看到，大约20个特征后，使用以下代码，**袋外**（**OOB**）精度没有显著提高：
- en: '[PRE14]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![](img/192c852f-e7d6-4b50-a10e-07a0fbe2b223.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](img/192c852f-e7d6-4b50-a10e-07a0fbe2b223.png)'
- en: 'We can also see the average importance of the top 25 features in the following
    diagram:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还可以在下图中看到前25个特征的平均重要性：
- en: '![](img/a50b2557-fe4d-4eec-a2b8-ae21cbf41606.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a50b2557-fe4d-4eec-a2b8-ae21cbf41606.png)'
- en: 'In the same manner, we can hypertune the number of tree parameter. Here, we
    restricted ourselves to four important features:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同样，我们可以超调树的数量参数。在这里，我们将特征限制为四个重要特征：
- en: '[PRE15]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![](img/8ca940bc-92b6-464e-953f-1f6c67d35399.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8ca940bc-92b6-464e-953f-1f6c67d35399.png)'
- en: 'Thus, we can see that a random forest with about four important features and
    `50` trees can give a good OOB accuracy. Hence our final model is as follows:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 因此，我们可以看到，具有大约四个重要特征和`50`棵树的随机森林能够提供良好的OOB准确率。因此，我们的最终模型如下：
- en: '[PRE16]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'This results in a test data accuracy of 94%. Following you can see the confusion
    matrix for the test dataset:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这样会得到94%的测试数据准确率。接下来，您可以看到测试数据集的混淆矩阵：
- en: '[PRE17]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![](img/5b71c386-b294-4b2f-8887-92cf66ef4cc7.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5b71c386-b294-4b2f-8887-92cf66ef4cc7.png)'
- en: The complete code, along with the data exploration, is available at the GitHub
    repository, `Chapter09/Human_activity_recognition_using_accelerometer.ipynb`.
    The advantage of using accelerometer data is that it is gathered from wearable
    devices, and hence, requires no installation on the premises. Another advantage
    is that it is textual data, hence, requires fewer computation resources than video
    data.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 完整代码和数据探索可在GitHub仓库中找到，文件路径为`Chapter09/Human_activity_recognition_using_accelerometer.ipynb`。使用加速度计数据的优势在于，它是从可穿戴设备收集的，因此无需在现场进行安装。另一个优势是它是文本数据，因此比视频数据所需的计算资源更少。
- en: HAR from videos
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 来自视频的HAR
- en: 'Another way to detect human activity is through videos. In this case, we will
    have to use a DL model such as CNN to get good results. A good dataset for classified
    videos is available from Ivan Laptev and Barbara Caputo ([http://www.nada.kth.se/cvap/actions/](http://www.nada.kth.se/cvap/actions/)).
    It contains six types of action: walking, jogging, running, boxing, hand waving,
    and hand clapping, in different scenarios. Each video has been recorded using
    a camera with 25 fps. The spatial resolution is 160 × 120, and of an average length
    of four seconds. It has in total 599 videos with about 100 for each of the six
    categories.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 检测人类活动的另一种方法是通过视频。在这种情况下，我们必须使用诸如CNN这样的深度学习模型来获得良好的结果。Ivan Laptev和Barbara Caputo提供了一个适用于分类视频的良好数据集，网址为：[http://www.nada.kth.se/cvap/actions/](http://www.nada.kth.se/cvap/actions/)。该数据集包含六种类型的动作：步行、慢跑、跑步、拳击、挥手和拍手，且在不同的场景下录制。每个视频都是使用25fps的相机录制的，空间分辨率为160
    × 120，平均长度为四秒。数据集中总共有599个视频，每个类别大约100个。
- en: 'One of the problems with video data is that it is computationally expensive,
    thus it will be important to reduce the dataset, and a few ways of doing this
    are as follows:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 视频数据的一个问题是它在计算上非常昂贵，因此，减少数据集的大小非常重要，以下是几种减少数据集的方法：
- en: Since color has no role in the activity, the images can be converted from three-
    channel color images to two-dimensional grayscale images.
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于颜色在活动检测中并不起作用，因此可以将图像从三通道彩色图像转换为二维灰度图像。
- en: The video is of four seconds at 25 frames in one second, most of these frames
    contain redundant data, so instead of (25 × 4 = 100) frames corresponding to one
    data row, we can reduce the number of frames to say 5 frames per second resulting
    in 20 frames. (It would be best if the total number of frames extracted per video
    is fixed).
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 视频时长为四秒，且每秒25帧，其中大部分帧包含冗余数据，因此我们可以将帧数从（25 × 4 = 100）帧减少到每秒5帧，从而得到20帧。（如果每个视频提取的总帧数固定，会更好）。
- en: Reduce the spatial resolution of individual frames from 160 × 120.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将单个帧的空间分辨率从160 × 120降低。
- en: 'Next, when it comes to modeling, we should be using three-dimensional convolutional
    layers. So let us say if have taken only 20 frames per video, and reduced the
    size of each frame to 128 × 128, then a single sample will be: 20 × 128 × 128
    × 1, this corresponds to the volume of 20 × 128 × 128 with a single channel.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，在建模时，我们应该使用三维卷积层。假设我们每个视频只取了20帧，并将每帧的大小缩减到128 × 128，那么一个样本将是：20 × 128 ×
    128 × 1，这对应的是一个具有单通道的20 × 128 × 128的体积。
- en: Smart lighting
  id: totrans-132
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 智能照明
- en: 'The first home automation application that comes to mind when talking about
    smart homes is using smart light. Most of the smart lighting systems that exist
    at present offer an option to control the switching on and off of the lights,
    as well as their intensity, using an app on your smartphone or via the internet.
    Some also allow you to change the color/hue. Motion detecting lights, which automatically
    switch on after detecting any motion, are part of almost all households today:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 提到智能家居时，首先想到的家庭自动化应用是使用智能灯。目前大多数智能照明系统都提供了通过智能手机应用或互联网来控制灯光的开关，以及灯光的强度。有些还允许你改变灯光的颜色/色调。运动探测灯是今天几乎所有家庭的标准配置，能够在检测到任何运动后自动开启：
- en: '![](img/45ffbdaf-d76a-455d-a42c-f3c4ca885eb8.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/45ffbdaf-d76a-455d-a42c-f3c4ca885eb8.png)'
- en: Smart light for people with hearing impairments changes color based on the situation
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 听力障碍人士使用的智能灯根据情况变化颜色
- en: Using AI, we can make these smart lights even smarter. In case of emergency,
    they can be programmed to work in collaboration and guide you to the right exit.
    For people with hearing impairments, the smart lights can be used instead of alarms,
    for example, a red light when the fire alarm goes off, but an orange light when
    there's a burglar, and a welcoming green when someone rings the door bell. With
    the help of services such as **If This Then That** (**IFTTT**) you can set up
    smarter and more complex support systems.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 使用人工智能，我们可以使这些智能灯更加智能。在紧急情况下，它们可以被编程成相互协作，引导你走向正确的出口。对于听力障碍的人，智能灯可以用来替代警报，例如，火灾警报响起时显示红灯，遇到入室盗窃时显示橙灯，当有人按门铃时显示欢迎的绿色灯。借助**如果这样，那么那样**（**IFTTT**）等服务，你可以建立更智能、更复杂的支持系统。
- en: 'The IFTTT provides a free service to control your devices. An action by one
    device (or service) can trigger one or more other devices. It is very simple to
    use, you just create an applet at the IFTTT website: [https://ifttt.com](https://ifttt.com),
    you select the device (point and click) or service you want to use as a trigger,
    and link it with your IFTTT account. Next you select (point and click) the service
    or the device you want should act when the trigger is activated. The site contains
    thousands of pre-made applets to make your job even easier.'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: IFTTT提供一个免费的服务来控制你的设备。一个设备（或服务）的动作可以触发一个或多个其他设备。使用起来非常简单，你只需在IFTTT网站创建一个小程序：[https://ifttt.com](https://ifttt.com)，选择你想用作触发器的设备（点击选择）或服务，并将其与IFTTT账户关联。接下来，你选择（点击选择）当触发器激活时，哪个服务或设备应该采取行动。该网站包含成千上万的预制小程序，让你的工作更加轻松。
- en: '![](img/84e7219c-8800-479b-af5b-65fa2780892d.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![](img/84e7219c-8800-479b-af5b-65fa2780892d.png)'
- en: Algorithm for a personalized smart light system
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 个性化智能灯系统的算法
- en: 'These are just some examples of what you can do with existing smart lights.
    But if you are adventurous and are ready to interface new sensors with these smart
    lights, you can build a personal light for yourself, one that changes its hue/intensity
    based on the mental activity of the person. It gets dim when you feel sleepy,
    and is full intensity when you are working, but when you are talking and spending
    time with friends, it simply provides a pleasant hue. Sounds far-fetched? Not
    really, you can first use an AI algorithm that detects human activity from video
    (or wearable fitness trackers) and classifies it into three classes: work, leisure,
    and sleep, and then use its output to control the smart light hue/intensity.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 这些只是你可以用现有智能灯做的一些例子。但如果你喜欢冒险并准备将新传感器与这些智能灯进行接口，你可以为自己打造一盏个性化的灯，它会根据人的精神活动改变其色调/强度。当你感到困倦时，它会变暗，而在你工作时，它则会全亮，但当你和朋友们交谈、共度时光时，它会提供一个愉悦的色调。听起来有些离谱？其实不然，你可以首先使用一种AI算法，通过视频（或可穿戴的健身追踪器）检测人体活动，并将其分类为三种状态：工作、休闲和睡眠，然后利用其输出控制智能灯的色调/强度。
- en: Home surveillance
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 家庭监控
- en: Home surveillance is a very useful and much-needed application. With single
    parents and the elderly population on the rise, the need for security and surveillance,
    not just on the outer premises, but inside homes, is also needed. Many companies
    are trying to provide in-home surveillance using videos. One of the successful
    implementations is by a company named DeepSight AILabs ([http://deepsightlabs.com](http://deepsightlabs.com)),
    they have developed proprietary software **SuperSecure**; a universally compatible
    retrofit solution that works with any CCTV system, any camera, any resolution,
    and turns it into an **AI-powered smart surveillance solution** to detect potential
    threats with high accuracy, and trigger instant alerts to save lives and protect
    assets.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 家庭监控是一个非常有用且迫切需要的应用。随着单亲家庭和老龄化人口的增加，安全和监控的需求不仅限于外部环境，还需要在家庭内部进行。许多公司正在尝试使用视频提供室内监控。一个成功的实施案例是由DeepSight
    AILabs公司开发的，他们开发了专有软件**SuperSecure**；这是一个与任何闭路电视系统、任何摄像头、任何分辨率兼容的通用后期解决方案，将其转变为**AI驱动的智能监控解决方案**，以高准确度检测潜在威胁，并触发即时警报以挽救生命和保护资产。
- en: When you try your own implementation of home surveillance, the points we discussed
    in the implementation of HAR using videos will be useful here as well.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 当您尝试实施自己的家庭监控时，我们在使用视频实施HAR时讨论的要点也同样适用。
- en: 'Smart homes are still in their infancy, the major reason being that they involve
    a high cost of ownership and the inflexibility of the interconnected devices.
    Normally, one particular system is managed completely by one company. If for some
    reason the company is closed, the consumer is left in the lurch. The solution
    would be to allow open source home automation hardware and software. An interesting
    read on the challenges and opportunities in the field of home automation is an
    article by Microsoft Research, *Home Automation in the Wild: Challenges and Opportunities*
    ([https://www.microsoft.com/en-us/research/publication/home-automation-in-the-wild-challenges-and-opportunities/](https://www.microsoft.com/en-us/research/publication/home-automation-in-the-wild-challenges-and-opportunities/)).'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '智能家居仍处于初级阶段，主要原因是它们涉及高昂的拥有成本和互连设备的不灵活性。通常，一个特定的系统完全由一个公司管理。如果某些原因导致公司关闭，消费者就会陷入困境。解决方案将是允许开源家庭自动化硬件和软件。有关家庭自动化领域的挑战和机遇的一篇有趣文章是微软研究的一篇文章，*Home
    Automation in the Wild: Challenges and Opportunities* ([https://www.microsoft.com/en-us/research/publication/home-automation-in-the-wild-challenges-and-opportunities/](https://www.microsoft.com/en-us/research/publication/home-automation-in-the-wild-challenges-and-opportunities/))。'
- en: Summary
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: The focus of this chapter was personal and home AI-powered IoT solutions. The
    large-scale use of smartphones has brought wearable sensors to every person's
    reach, resulting in a plethora of personal apps. In this chapter, we explored
    and implemented some of the successful personal and home AI-powered IoT solutions.
    We learned about SuperShoes by MIT, shoes that can find their own path to the
    destination. We learned about CGM systems and implemented code to predict hyperglycemia.
    This chapter also demonstrated how personalized heart monitors can be implemented.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的重点是个人和家庭的AI驱动物联网解决方案。智能手机的大规模使用使得可穿戴传感器成为每个人都可以接触到的设备，导致了大量的个人应用的出现。在这一章节中，我们探讨并实施了一些成功的个人和家庭AI驱动的物联网解决方案。我们了解了麻省理工学院的SuperShoes，这是一种可以自主找到目的地路径的鞋子。我们了解了连续血糖监测系统，并编写了代码来预测高血糖。本章还展示了个性化心率监测器如何实施。
- en: While smart homes are still in their infancy, the chapter explored some of the
    most popular and useful smart home solutions. HAR, an application that exists
    at the boundary of smart homes and personal IoT, was introduced. We wrote some
    code using scikit-learn to classify the activity from data obtained using accelerometers.
    The chapter introduced some cool smart lighting applications and talked about
    home surveillance using videos.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管智能家居仍处于初级阶段，本章探讨了一些最流行和有用的智能家居解决方案。介绍了HAR，这是一种位于智能家居和个人物联网边界的应用。我们使用scikit-learn编写了一些代码，用于根据加速度计获取的数据分类活动。本章介绍了一些酷炫的智能照明应用，并讨论了使用视频进行家庭监控。
- en: In the next chapter, we will look at some case studies where the data obtained
    from IoT sensors is used to improve production and efficiency in industries.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将研究一些案例研究，其中从物联网传感器获得的数据被用来提高工业生产和效率。
