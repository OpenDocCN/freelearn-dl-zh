- en: '*Chapter 4*: Preparing a Headless Raspberry Pi for a Robot'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第4章*：为机器人准备无头Raspberry Pi'
- en: In this chapter, you will learn why the Raspberry Pi controller on a robot should
    be wireless and headless, what headless means, and why it's useful in robotics.
    You will see how to set up a Raspberry Pi directly as a headless device, and how
    to connect to this Raspberry Pi once on the network, and then send your first
    instructions to it. By the end of the chapter, you will have your own ready-to-use
    Raspberry Pi without needing to connect a screen, keyboard, or wired network to
    it, so it can be mobile in a robot.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将了解为什么机器人上的Raspberry Pi控制器应该是无线和无头（headless）的，无头意味着什么，以及为什么它在机器人技术中很有用。你将看到如何直接将Raspberry
    Pi设置为无头设备，以及如何在网络上一旦连接到这个Raspberry Pi，就发送你的第一条指令给它。到本章结束时，你将拥有自己的现成可用的Raspberry
    Pi，无需连接屏幕、键盘或有线网络，因此它可以作为机器人的移动设备。
- en: 'We''ll cover the following topics in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们将涵盖以下主题：
- en: What is a headless system and why is it useful in a robot?
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是无头系统，为什么它在机器人中很有用？
- en: Setting up Wi-Fi on the Raspberry Pi and enabling SSH
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Raspberry Pi上设置Wi-Fi并启用SSH
- en: Finding your Raspberry Pi on the network
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在网络上找到你的Raspberry Pi
- en: Using PuTTY or SSH to connect to your Raspberry Pi
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用PuTTY或SSH连接到你的Raspberry Pi
- en: Configuring Raspberry Pi OS
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置Raspberry Pi OS
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'To complete the exercises in this chapter, you will require the following:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成本章的练习，你需要以下内容：
- en: A Raspberry Pi, preferably a 3A+ (but a Pi 3 or 4 will do)
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个Raspberry Pi，最好是3A+（但Pi 3或4也可以）
- en: A USB power supply capable of 2.1 amps with a Micro-USB cable
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具备2.1安培输出能力的USB电源和Micro-USB线
- en: The MicroSD card you prepared in the previous chapter
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你在上一章中准备好的MicroSD卡
- en: A Windows, Linux, or macOS computer connected to the internet and able to read/write
    to SD cards
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一台连接到互联网并能够读写SD卡的Windows、Linux或macOS计算机
- en: A text editor on your computer – VS Code is a suitable multiplatform option
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算机上的文本编辑器 – VS Code是一个合适的跨平台选项
- en: PuTTY software on Windows (SSH software is already available on Mac and Linux
    desktops)
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows上的PuTTY软件（SSH软件已在Mac和Linux桌面上可用）
- en: 'The GitHub link for the code is as follows:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 代码的GitHub链接如下：
- en: '[https://github.com/PacktPublishing/Learn-Robotics-Programming-Second-Edition/tree/master/chapter4](https://github.com/PacktPublishing/Learn-Robotics-Programming-Second-Edition/tree/master/chapter4)'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PacktPublishing/Learn-Robotics-Programming-Second-Edition/tree/master/chapter4](https://github.com/PacktPublishing/Learn-Robotics-Programming-Second-Edition/tree/master/chapter4)'
- en: 'Check out the following video to see the Code in Action: [https://bit.ly/3bErI1I](https://bit.ly/3bErI1I)'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下视频以查看代码的实际应用：[https://bit.ly/3bErI1I](https://bit.ly/3bErI1I)
- en: What is a headless system, and why is it useful in a robot?
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是无头系统，为什么它在机器人中很有用？
- en: 'A **headless system** is a computer designed to be operated from another computer
    via a network, at times or in places where keyboard, screen, and mouse access
    to a device is inconvenient. Headless access is used for server systems, for building
    robots and making gadgets:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 一个**无头系统**是一种设计为通过网络从另一台计算机操作计算机的系统，在键盘、屏幕和鼠标访问设备不方便的时间和地点。无头访问用于服务器系统、构建机器人和制作小工具：
- en: '![](img/B15660_04_01.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_04_01.jpg)'
- en: Figure 4.1 – A Raspberry Pi tethered to a screen, keyboard, and mouse
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.1 – 连接到屏幕、键盘和鼠标的Raspberry Pi
- en: '*Figure 4.1* shows a system with a head where a user can sit in front of the
    device. You need to attach a screen, keyboard, and mouse to your robot, and hence
    it is not very mobile. You may be able to attach/detach them as required, but
    this is also inconvenient. There are portable systems designed to dock with Raspberry
    Pis like this, but when a robot moves, you''ll need to disconnect it or move with
    the robot.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '*图4.1*显示了一个有头的系统，用户可以坐在设备前面。你需要将屏幕、键盘和鼠标连接到你的机器人上，因此它不太灵活。你可能可以根据需要连接/断开它们，但这也很不方便。有便携式系统设计用来与像这样的Raspberry
    Pi对接，但当机器人移动时，你需要断开连接或与机器人一起移动。'
- en: 'At some events, I have seen robots with tiny onboard screens, controlled by
    a wireless keyboard and mouse. However, in this book, we use a robot as a headless
    device:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些活动中，我见过带有微型车载屏幕的机器人，由无线键盘和鼠标控制。然而，在这本书中，我们使用一个作为无头设备的机器人：
- en: '![](img/B15660_04_02.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_04_02.jpg)'
- en: Figure 4.2 – A Raspberry Pi on a robot in a headless configuration
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.2 – 以无头配置在机器人上的Raspberry Pi
- en: The Raspberry Pi in *Figure 4.2* is mounted on a robot as a headless device.
    This Raspberry Pi is not weighed down by a screen and keyboard; those are handled
    by another computer. Code, instructions, and information is sent to and from the
    Raspberry Pi via a wireless network from a laptop. Many code examples run autonomously,
    and the computer can start/stop these. We add indicator LEDs in [*Chapter 9*](B15660_09_Final_ASB_ePub.xhtml#_idTextAnchor171),
    *Programming RGB Strips in Python*. We also show you how to use a mobile phone
    to drive the robot in [*Chapter 17*](B15660_17_Final_ASB_ePub.xhtml#_idTextAnchor396),
    *Controlling the Robot with a Phone and Python*. The phone can start and stop
    autonomous behaviors, view the robot's status, or just drive it without needing
    to hook up the laptop at all. This Raspberry Pi is free from the screen and keyboard.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '*图4.2*中的树莓派作为无头设备安装在一个机器人上。这个树莓派没有被屏幕和键盘拖累；这些由另一台计算机处理。代码、指令和信息通过笔记本电脑的无线网络发送到树莓派。许多代码示例可以自主运行，计算机可以启动/停止这些操作。我们在[*第9章*](B15660_09_Final_ASB_ePub.xhtml#_idTextAnchor171)中添加了指示LED，*用Python编程RGB条带*。我们还在[*第17章*](B15660_17_Final_ASB_ePub.xhtml#_idTextAnchor396)中向你展示了如何使用手机控制机器人，*用手机和Python控制机器人*。手机可以启动和停止自主行为，查看机器人的状态，或者无需连接笔记本电脑就可以直接驾驶它。这个树莓派摆脱了屏幕和键盘的束缚。'
- en: Tip
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: Although you won't usually need a screen and keyboard, it is worth having these
    around in case you lose contact with the Raspberry Pi, and it refuses to respond
    via the network. You can then use a screen and keyboard to connect to it and see
    what is going on.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然你通常不需要屏幕和键盘，但如果你与树莓派失去联系，并且它拒绝通过网络响应，那么拥有这些设备是值得的。然后你可以使用屏幕和键盘连接到它，查看发生了什么。
- en: For our headless access to the Raspberry Pi, we will be using a **Secure Shell**
    (**SSH**). SSH gives you a command line to send instructions to the Pi and a file
    transfer system to put files onto it.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 为了无头访问树莓派，我们将使用**安全外壳**（**SSH**）。SSH为你提供了一个命令行来向Pi发送指令，以及一个文件传输系统来将文件上传到它。
- en: Making a Pi headless makes it free to roam around. It keeps a robot light by
    not needing to carry or power a screen and keyboard. Being headless makes a robot
    smaller since a monitor and keyboard are bulky. It also encourages you, the maker,
    to think about autonomous behavior since you can't always type commands to the
    robot.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 将树莓派设置为无头使其可以自由移动。它通过不需要携带或为屏幕和键盘供电来减轻机器人的重量。无头使机器人更小，因为显示器和键盘体积庞大。它还鼓励你，作为制造商，考虑自主行为，因为你不能总是向机器人输入命令。
- en: Setting up Wi-Fi on the Raspberry Pi and enabling SSH
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在树莓派上设置Wi-Fi并启用SSH
- en: 'Now you''ve seen what you get with a headless system, let''s modify the SD
    card so the Raspberry Pi starts up ready to use as a headless device. We need
    to set up Wi-Fi first:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经看到了无头系统可以得到什么，让我们修改SD卡，以便树莓派启动时可以作为无头设备使用。我们首先需要设置Wi-Fi：
- en: Remove and reinsert the MicroSD card we made earlier into your computer so that
    the computer can recognize the new state of the drive.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将我们之前制作的MicroSD卡从计算机中取出并重新插入，以便计算机可以识别驱动器的新状态。
- en: Now you will see the card shows up as two disk drives. One of the drives is
    called `boot`; Windows will ask whether you want to format the other drive. Click
    **Cancel** when Windows asks you. This part of the SD card holds a Linux-specific
    filesystem that Windows cannot read.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到这张卡显示为两个磁盘驱动器。其中一个驱动器被称为`boot`；当Windows询问你时，请点击**取消**。SD卡的这个部分包含一个Windows无法读取的特定于Linux的文件系统。
- en: 'Now, in `boot`, create two files as follows. I suggest using an editor such
    as VSCode for plain text files, seeing file extensions, and making empty files:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在`boot`中创建以下两个文件。我建议使用VSCode等编辑器来处理纯文本文件，查看文件扩展名，并创建空文件：
- en: '`ssh`: An empty file with no extension.'
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ssh`：一个没有扩展名的空文件。'
- en: '`wpa_supplicant.conf`: This file contains your Wi-Fi network configuration
    as shown here:'
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`wpa_supplicant.conf`：此文件包含你的Wi-Fi网络配置，如下所示：'
- en: '[PRE0]'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Eject the MicroSD card. Remember to use the menus to do so. This ensures that
    the files are entirely written before removing it.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 弹出MicroSD卡。请记住使用菜单来这样做。这确保在移除之前文件已经完全写入。
- en: Now, with these two files in place, you can use the MicroSD card to boot the
    Raspberry Pi. Plug the MicroSD card into the slot on the underside of the Raspberry
    Pi. It only fits into the slot in the correct orientation.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，有了这两个文件，你可以使用MicroSD卡来启动树莓派。将MicroSD卡插入树莓派底部的插槽中。它只能以正确的方向插入插槽。
- en: Finally, plug a Micro-USB cable into the side of the Raspberry Pi and connect
    it to a power supply. You should see lights blinking to show it is starting.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，将 Micro-USB 线缆插入树莓派的侧面并连接到电源。你应该会看到灯光闪烁，表明它正在启动。
- en: Important note
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: For a Raspberry Pi, you need a power supply providing at least 2.1 amps.
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于树莓派，你需要一个至少提供 2.1 安培电流的电源。
- en: Your Raspberry Pi headless system has now been set up. With this, we have taken
    a major step toward being mobile. Now we'll need to go find it on our network
    so we can connect to it.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 你的树莓派无头系统现在已经设置好了。有了这个，我们朝着移动化迈出了重要的一步。现在我们需要在我们的网络上找到它，以便我们可以连接到它。
- en: Finding your Pi on the network
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在网络上找到你的 Pi
- en: Assuming your SSID and PSK are correct, your Raspberry Pi is now registered
    on your Wi-Fi network. However, now you need to find it. The Raspberry Pi uses
    dynamic addresses (DHCP). Every time you connect it to your network, it may get
    a different address. Visiting the admin page on your Wi-Fi router and writing
    down the IP address works in the short term. Doing that every time the address
    changes is frustrating, and may not be available in some situations.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你的 SSID 和 PSK 是正确的，你的树莓派现在已经在你的 Wi-Fi 网络上注册。然而，现在你需要找到它。树莓派使用动态地址（DHCP）。每次你将其连接到网络时，它可能都会得到一个不同的地址。访问你的
    Wi-Fi 路由器的管理页面并记下 IP 地址在短期内是有效的。每次地址更改时都这样做会令人沮丧，并且在某些情况下可能不可用。
- en: Luckily, the Raspberry Pi uses a technology known as `raspberrypi.local`, and
    the Raspberry Pi will respond with the address to find it. This is also known
    by the names Zeroconf and Bonjour. So, the first thing you'll need to do is ensure
    your computer can do this.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，树莓派使用了一种名为 `raspberrypi.local` 的技术，树莓派会响应地址以找到它。这也被称为 Zeroconf 和 Bonjour。因此，你需要做的第一件事是确保你的电脑可以做到这一点。
- en: If you are using macOS, your computer will already be running the Bonjour software,
    which is already mDNS capable. Also, Ubuntu and Fedora desktop versions have had
    mDNS compatibility for a long time. On other Linux desktops, you will need to
    find their instructions for Zeroconf or Avahi. Many recent ones have this enabled
    by default.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用的是 macOS，你的电脑已经运行了 Bonjour 软件，它已经具备 mDNS 功能。此外，Ubuntu 和 Fedora 桌面版本已经很长时间具备
    mDNS 兼容性。在其他 Linux 桌面系统中，你需要查找它们的 Zeroconf 或 Avahi 指令。许多最新的系统默认已经启用此功能。
- en: But if you are using Windows, you will need the Bonjour software. So let's see
    how to set it up.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 但如果你使用的是 Windows，你需要 Bonjour 软件。所以让我们看看如何设置它。
- en: Setting up Bonjour for Microsoft Windows
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为 Microsoft Windows 设置 Bonjour
- en: 'If you have installed a recent version of Skype or iTunes, you will have this
    software. You can use this guide to check that it is already present and enable
    it: [https://smallbusiness.chron.com/enable-bonjour-65245.html](https://smallbusiness.chron.com/enable-bonjour-65245.html).'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你安装了较新的 Skype 或 iTunes 版本，你将拥有此软件。你可以使用此指南检查它是否已经存在并启用它：[https://smallbusiness.chron.com/enable-bonjour-65245.html](https://smallbusiness.chron.com/enable-bonjour-65245.html)。
- en: 'You can check whether it is already working with the following command in Command
    Prompt:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用以下命令在命令提示符中检查它是否已经工作：
- en: '[PRE1]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'If you see this, you have Bonjour installed already:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到这个，说明你已经安装了 Bonjour：
- en: '[PRE2]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'If you see this, you''ll need to install it:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到这个，你需要安装它：
- en: '[PRE3]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: To do so, browse to the Apple Bonjour For Windows site at [https://support.apple.com/downloads/bonjour_for_windows](https://support.apple.com/downloads/bonjour_for_windows)
    and download it, then install **Download Bonjour Print Services for Windows**.
    Once this has run, Windows will be able to ask for mDNS devices by name.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 要这样做，浏览到 Apple Bonjour For Windows 网站 [https://support.apple.com/downloads/bonjour_for_windows](https://support.apple.com/downloads/bonjour_for_windows)，下载它，然后安装
    **Download Bonjour Print Services for Windows**。一旦运行，Windows 将能够通过名称请求 mDNS 设备。
- en: Testing the setup
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 测试设置
- en: The Raspberry Pi's green light should have stopped blinking, and only a red
    power light should be visible. This indicates that the Pi has finished booting
    and has connected to the network.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派的绿灯应该停止闪烁，只应看到一个红色的电源灯。这表明 Pi 已经完成启动并连接到网络。
- en: 'In Windows, summon a command line by pressing the Windows key and type `CMD`
    in the windows search bar. In Linux or macOS, open Terminal. From Terminal, we
    will try to `ping` the Raspberry Pi, that is, find the Pi on the network and send
    a short message to get a response:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 中，通过按 Windows 键并在窗口搜索栏中输入 `CMD` 来召唤命令行。在 Linux 或 macOS 中，打开终端。从终端，我们将尝试
    `ping` 树莓派，即在网络上找到 Pi 并发送一条简短的消息以获取响应：
- en: '[PRE4]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'If everything has gone right, the computer will show that it has connected
    to the Pi:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一切顺利，计算机将显示它已连接到Pi：
- en: '[PRE5]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: What if you cannot reach the Raspberry Pi? In the next section, we'll try some
    troubleshooting steps.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你无法连接到树莓派怎么办？在下一节中，我们将尝试一些故障排除步骤。
- en: Troubleshooting
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 故障排除
- en: 'If the Raspberry Pi does not appear to be responding to the ping operation,
    these are some steps you can take to try to diagnose and remedy the situation.
    Try the following:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如果看起来树莓派没有响应ping操作，以下是一些你可以采取的步骤来尝试诊断和修复问题。尝试以下操作：
- en: Double-check your connections. You should have seen a few blinks of the green
    light and a persistent red light. If not, unplug the power, ensure that the SD
    card is seated firmly and that the power supply can give 2.1 amps, then try again.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仔细检查你的连接。你应该看到几次绿灯闪烁和一个持续的红灯。如果没有，请拔掉电源，确保SD卡牢固地插入，并且电源供应可以提供2.1安培的电流，然后再次尝试。
- en: Use your Wi-Fi access point settings with the Raspberry Pi booted and see if
    it has taken an IP address there.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用树莓派启动后的Wi-Fi接入点设置，看看它是否已经获取了那里的IP地址。
- en: If you find the Raspberry Pi on your Wi-Fi router, this may mean that mDNS is
    not running on your computer correctly. If you have not installed it, please go
    back and do so. On Windows, the different versions of Bonjour print services,
    Bonjour from Skype, and Bonjour from iTunes can conflict if installed together.
    Use the Windows add/remove functions to see whether there is more than one and
    remove all Bonjour instances, then install the official one again.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你发现树莓派在你的Wi-Fi路由器上，这可能意味着你的计算机上mDNS没有正确运行。如果你还没有安装它，请返回并安装。在Windows上，如果同时安装了不同版本的Bonjour打印服务、Skype的Bonjour和iTunes的Bonjour，可能会发生冲突。使用Windows的添加/删除功能查看是否安装了多个Bonjour实例，然后删除所有Bonjour实例，然后再次安装官方版本。
- en: 'Next, turn the power off, take out the SD card, place this back into your computer,
    and double-check that the `wpa_supplicant.conf` file is present and has the correct
    Wi-Fi details and country code. The most common errors in this file are the following:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，关闭电源，取出SD卡，将其放回你的电脑中，并再次确认`wpa_supplicant.conf`文件存在并且具有正确的Wi-Fi详情和国家代码。此文件中最常见的错误如下：
- en: a) Incorrect Wi-Fi details
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a) 错误的Wi-Fi详情
- en: b) Missing quotes or missing/incorrect punctuation
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b) 缺少引号或缺少/错误的标点符号
- en: c) An incorrect or missing country code
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: c) 错误或缺失的国家代码
- en: d) Keywords being in the wrong case (keywords should be lowercase, country code
    in uppercase)
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: d) 关键字大小写错误（关键字应为小写，国家代码为大写）
- en: The SSH file is removed when the Raspberry Pi starts. If you are sure it was
    there and has been removed, this means the Pi actually booted.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当树莓派启动时，SSH文件会被移除。如果你确定它曾经在那里并且已经被移除，这意味着Pi实际上已经启动了。
- en: Finally, you may need to boot the Pi with a screen and keyboard connected, and
    attempt to diagnose the issue. The display will tell you whether there are other
    issues with `wpa_supplicant.conf` or other problems. Use the screen text and search
    the web for answers. I cannot reproduce all those here, as there are many kinds
    of problems that could occur here. I also recommend asking on Twitter using the
    tag `#raspberrypi`, on Stack Overflow, or in the Raspberry Pi Forums at [https://www.raspberrypi.org/forums/](https://www.raspberrypi.org/forums/).
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，你可能需要将Pi与屏幕和键盘连接后启动，并尝试诊断问题。显示屏将告诉你是否有关于`wpa_supplicant.conf`或其他问题的其他问题。使用屏幕文本并在网上搜索答案。我无法在这里重现所有这些问题，因为这里可能发生许多不同类型的问题。我还建议使用标签`#raspberrypi`在Twitter上提问，在Stack
    Overflow上，或在树莓派论坛[https://www.raspberrypi.org/forums/](https://www.raspberrypi.org/forums/)上提问。
- en: We have now verified that our Pi is connected to the network, troubleshooting
    issues along the way. We've been able to find it with `ping`. Now we know it is
    there, let's connect to it.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经验证了我们的Pi已连接到网络，并在途中解决了故障排除问题。我们已经能够通过`ping`找到它。现在我们知道它在那里，让我们连接到它。
- en: Using PuTTY or SSH to connect to your Raspberry Pi
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用PuTTY或SSH连接到你的树莓派
- en: Earlier, we added a file to our Raspberry Pi boot named `ssh`. This activates
    the SSH service on the Pi. As mentioned before, SSH is an abbreviation for secure
    shell, intended for secure network access. In this case, we are not specifically
    targeting the secure encryption capabilities, but are using the remote networking
    capability to send instructions and files to and from the Raspberry Pi without
    having physical access to it.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 之前，我们在树莓派的引导文件中添加了一个名为`ssh`的文件。这激活了树莓派上的SSH服务。如前所述，SSH是安全壳的缩写，旨在提供安全的网络访问。在这种情况下，我们并不是特别针对安全的加密功能，而是使用远程网络功能，在不接触树莓派的情况下发送和接收指令和文件。
- en: Important note
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If you already use an SSH client, note that not all of the Windows command-line
    SSH clients support mDNS.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经使用SSH客户端，请注意，并非所有Windows命令行SSH客户端都支持mDNS。
- en: PuTTY is a handy tool for accessing SSH and is available for Windows, Linux,
    and Mac. Its installation information for these operating systems can be found
    at [https://www.ssh.com/ssh/putty/](https://www.ssh.com/ssh/putty/).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: PuTTY是一个方便的工具，用于访问SSH，适用于Windows、Linux和Mac。这些操作系统的安装信息可以在[https://www.ssh.com/ssh/putty/](https://www.ssh.com/ssh/putty/)找到。
- en: 'Once you have PuTTY installed from the preceding link, let''s get it connected
    to your Raspberry Pi. Follow along:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你从前面的链接安装了PuTTY，让我们将其连接到你的树莓派。请按照以下步骤操作：
- en: Start PuTTY. You will see a screen like in *Figure 4.3*. In the `raspberrypi.local`
    and click **Open** to log in to your Pi:![](img/B15660_04_03.jpg)
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动PuTTY。你将看到一个类似于*图4.3*的屏幕。在`raspberrypi.local`上点击**打开**以登录到你的树莓派：![](img/B15660_04_03.jpg)
- en: Figure 4.3 – Connecting to the Pi
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.3 – 连接到树莓派
- en: The first time you do this, PuTTY displays a security warning asking you to
    add the Pi's key if you trust it. Click **Yes**; it only asks you this again if
    another device with the same hostname (for example, a fresh Raspberry Pi) shows
    up with a different key.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一次这样做时，PuTTY会显示一个安全警告，要求你添加树莓派的密钥如果你信任它。点击**是**；如果出现具有相同主机名（例如，新的树莓派）但不同密钥的其他设备，它只会再次询问你。
- en: 'When you see the `pi`, press *Enter*, and use the password `raspberry`. You''ll
    now see something like *Figure 4.4*, showing that you have connected to the Pi:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你看到`pi`时，按*Enter*键，并使用密码`raspberry`。你现在将看到类似于*图4.4*的界面，显示你已经连接到树莓派：
- en: '![](img/B15660_04_04.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_04_04.jpg)'
- en: Figure 4.4 – Successfully connected
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.4 – 成功连接
- en: In this section, you've used PuTTY or your preferred SSH client to connect to
    the Raspberry Pi, setting you up to configure it, send commands to it, and interact
    with it. Next, we'll see how to configure it.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你已经使用PuTTY或你偏好的SSH客户端连接到树莓派，这让你可以配置它，向它发送命令，并与它交互。接下来，我们将看看如何配置它。
- en: Configuring Raspberry Pi OS
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置树莓派OS
- en: Now we are connected, let's do a few things to prepare the Raspberry Pi for
    use, such as changing the user password and changing the hostname to make the
    Pi more secure.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经连接上了，让我们做一些事情来为树莓派的使用做准备，比如更改用户密码和更改主机名以提高树莓派的安全性。
- en: 'We can perform many of these tasks with the `raspi-config` tool, a menu system
    to perform configuration tasks on Raspberry Pi OS. We start it with another tool,
    `sudo`, which runs `raspi-config` as root, a master user. Refer to the following
    command:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用`raspi-config`工具执行许多这些任务，这是一个用于在树莓派OS上执行配置任务的菜单系统。我们通过另一个工具`sudo`启动它，它以root（主用户）的身份运行`raspi-config`。请参考以下命令：
- en: '[PRE6]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The `raspi-config` interface will appear, as shown in *Figure 4.5*:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '`raspi-config`界面将显示，如图4.5所示：'
- en: '![](img/B15660_04_05.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_04_05.jpg)'
- en: Figure 4.5 – The raspi-config tool
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.5 – raspi-config工具
- en: Now we've accessed `raspi-config`, we can use it to change some of the settings
    on the Raspberry Pi.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经访问了`raspi-config`，我们可以使用它来更改树莓派上的一些设置。
- en: Renaming your Pi
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 重命名你的树莓派
- en: 'Every fresh Raspberry Pi image is called `myrobot`, but I am sure you can think
    of something better. You can change this later too. It can be letters, numbers,
    and dash characters only. Use the following steps:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 每个新的树莓派镜像都被称为 `myrobot`，但我相信你可以想到更好的名字。你稍后也可以更改它。它只能包含字母、数字和破折号字符。请按照以下步骤操作：
- en: In `raspi-config`, select **Network Options**, shown in *Figure 4.6*. Use the
    arrow keys on your keyboard to highlight and press *Enter* to select the entry:![](img/B15660_04_06.jpg)
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`raspi-config`中，选择**网络选项**，如图4.6所示。使用键盘上的箭头键突出显示并按*Enter*键选择条目：![](img/B15660_04_06.jpg)
- en: Figure 4.6 – Network options
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.6 – 网络选项
- en: Now select **Hostname** as shown in *Figure 4.7*:![](img/B15660_04_07.jpg)
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在选择**主机名**，如图4.7所示：![](img/B15660_04_07.jpg)
- en: Figure 4.7 – Change the hostname
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.7 – 更改主机名
- en: You should be on a screen waiting for hostname input. Type in a name for your
    robot (I called mine `myrobot`), then press *Enter* to set it. Please be more
    inventive than my name.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该会看到一个等待输入主机名的屏幕。为你的机器人输入一个名字（我的是`myrobot`），然后按*Enter*键设置。请比我的名字更有创意。
- en: You have now named your robot, which will be more important if you have other
    Raspberry Pis but also gives the robot a little character. Let's also change the
    password to something a bit less generic.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在已经为你的机器人命名了，如果你有其他的Raspberry Pi，这将更加重要，同时也给机器人增添了一点个性。让我们也把密码改得更不常见一些。
- en: Securing your Pi (a little bit)
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保护你的Pi（一点点）
- en: 'Right now, your Raspberry Pi has the same password as every other Raspberry
    Pi fresh from an image. It''s recommended you change it. Perform the following
    steps:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你的Raspberry Pi与每个从镜像中新鲜安装的Raspberry Pi有相同的密码。建议你更改它。执行以下步骤：
- en: In the top menu of `raspi-config`, select **Change User Password** (*Figure
    4.8*):![](img/B15660_04_08.jpg)
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`raspi-config`的顶部菜单中选择**更改用户密码**（*图4.8*）：![](img/B15660_04_08.jpg)
- en: Figure 4.8 – Changing the password
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.8 – 更改密码
- en: Type a new password for your robot – something you will remember, more unique
    than `raspberry`. It should not be anything you've used for something sensitive
    such as email or banking.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为你的机器人输入一个新的密码——一些你记得的，比`raspberry`更独特的东西。它不应该是你用于敏感事物（如电子邮件或银行）的任何密码。
- en: Changing the password personalizes the Raspberry Pi on your robot, and also
    drastically reduces the likelihood of someone else connecting to your robot and
    ruining your hard work. Now we've made configuration changes, we need to restart
    the Raspberry Pi for them to take effect.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 更改密码个性化了你的机器人上的Raspberry Pi，并且大大降低了其他人连接到你的机器人并破坏你辛勤工作的可能性。现在我们已经进行了配置更改，我们需要重启Raspberry
    Pi以使更改生效。
- en: Rebooting and reconnecting
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 重启并重新连接
- en: 'It''s time to finish the configuration and restart the Pi:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候完成配置并重启Pi了：
- en: Use the *Tab* button to get to the **Finish** item (*Figure 4.9*) and press
    *Enter*:![](img/B15660_04_09.jpg)
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用*Tab*键跳转到**完成**项（*图4.9*）并按*Enter*键：![](img/B15660_04_09.jpg)
- en: Figure 4.9 – Select Finish
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.9 – 选择完成
- en: The next screen asks whether you want to reboot the Pi. Select **Yes** and press
    *Enter* (*Figure 4.10*):![](img/B15660_04_10.jpg)
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一屏会询问你是否想要重启Pi。选择**是**并按*Enter*键（*图4.10*）：![](img/B15660_04_10.jpg)
- en: Figure 4.10 – Say Yes to rebooting
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.10 – 确认重启
- en: 'The Raspberry Pi will start to reset, and the PuTTY session will be disconnected
    as it does so (*Figure 4.11*). Wait for a few minutes; the green activity light
    on the Pi should blink a bit and then settle down. PuTTY will tell you it has
    lost connection to it. The Pi is now shut down. The red light will stay on until
    you remove the power:'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Raspberry Pi将开始重置，PuTTY会话也会在此时断开（如图4.11所示）。等待几分钟；Pi上的绿色活动灯会闪烁一下然后稳定下来。PuTTY会告诉你它已经失去了连接。Pi现在已关闭。红灯会一直亮着，直到你断开电源：
- en: '![](img/B15660_04_11.jpg)'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/B15660_04_11.jpg)'
- en: Figure 4.11 – PuTTY telling you the Pi connection has gone
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.11 – PuTTY告诉你Pi连接已断开
- en: PuTTY only sends commands to and from the robot; it does not understand that
    this command has shut down the Pi. It does not expect the connection to close.
    You and I know better, as we told the Pi to reboot. Click **OK** to dismiss the
    error.
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: PuTTY只发送命令到机器人；它不理解这个命令已经关闭了Pi。它不期望连接关闭。我们比其他人更清楚，因为我们告诉Pi重启。点击**确定**以关闭错误。
- en: Connect to it again with PuTTY using the new hostname you gave your robot (in
    my case, `myrobot`), with the `.local` ending and the fresh password, as shown
    in *Figure 4.12*:![](img/B15660_04_12.jpg)
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用PuTTY再次连接到你的机器人，使用你为机器人提供的新的主机名（在我的例子中，是`myrobot`），以`.local`结尾，并使用新密码，如图*图4.12*所示：![](img/B15660_04_12.jpg)
- en: Figure 4.12 – Reconnect to the Raspberry Pi
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图4.12 – 重新连接到Raspberry Pi
- en: 'Now, you should be able to log in and see your prompt as **pi@myrobot**, or
    whatever your robot''s name is, as shown in *Figure 4.13*:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你应该能够登录并看到你的提示符为**pi@myrobot**，或者你的机器人的名字是什么，如图*图4.13*所示：
- en: '![](img/B15660_04_13.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_04_13.jpg)'
- en: Figure 4.13 – Reconnected to the Raspberry Pi
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.13 – 重新连接到Raspberry Pi
- en: We are now reconnected to the Raspberry Pi. We can try a simple Linux command
    to see how much of the SD card we are using. Linux commands are often abbreviations
    of things you want to ask the computer to do.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已重新连接到Raspberry Pi。我们可以尝试一个简单的Linux命令来查看我们使用了SD卡多少空间。Linux命令通常是你要让计算机执行的事情的缩写。
- en: The `df` command in *Figure 4.13* shows the space used in the various storage
    locations connected to your Raspberry Pi. The additional `-h` makes `df` display
    this in human-readable numbers. It uses `G`, `M`, and `K` suffixes for gigabytes,
    megabytes, and kilobytes. Type the `df -h` command, as shown in the preceding
    screenshot, and it will show that `/dev/root` is close to the full size of the
    SD card, with some other devices taking up the rest of the space.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '*图4.13* 中的 `df` 命令显示了连接到你的树莓派的各个存储位置所使用的空间。额外的 `-h` 使得 `df` 以人类可读的数字显示。它使用
    `G`、`M` 和 `K` 后缀分别表示千兆字节、兆字节和千字节。输入 `df -h` 命令，如前一个屏幕截图所示，它将显示 `/dev/root` 接近SD卡的全尺寸，其他设备占据了剩余的空间。'
- en: Updating the software on your Raspberry Pi
  id: totrans-132
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更新你的树莓派软件
- en: 'One last thing to do here is to ensure your Raspberry Pi has up-to-date software
    on it. This is the kind of process you start off and leave going while getting
    a meal, as it will take a while. Type the `sudo apt update -y && sudo apt upgrade
    -y` command, and you should see something similar to the following:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里要做的最后一件事是确保你的树莓派上安装了最新的软件。这是一个你可以开始并离开去吃饭的过程，因为它会花费一些时间。输入 `sudo apt update
    -y && sudo apt upgrade -y` 命令，你应该会看到以下类似的内容：
- en: '[PRE7]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Please let the Pi continue until it is complete here, and do not interrupt or
    turn the power off until the `pi@myrobot:~ $` prompt has reappeared.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 请让Pi继续运行，直到这里完成，不要中断或关闭电源，直到 `pi@myrobot:~ $` 提示符重新出现。
- en: Tip
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: You've probably seen a pattern with `sudo` in a few of the commands. This command
    tells the Raspberry Pi to run the following command (such as `raspbi-config` or
    `apt`) as a *root* user, the Linux administrator/superuser. You can read it as
    *superuser do*. This is needed for software that will make changes to the system
    or perform updates. It's usually not required for user programs, though.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经在几个命令中看到了 `sudo` 的模式。此命令告诉树莓派以 *root* 用户（Linux管理员/超级用户）运行以下命令（如 `raspi-config`
    或 `apt`）。你可以将其读作 *superuser do*。这对于将更改系统或执行更新的软件是必需的。尽管如此，对于用户程序通常不需要。
- en: It's worth doing this update/upgrade step monthly while actively working on
    a project. With the Raspberry Pi up to date, you will be able to install additional
    software for the robot code. When the software gets stale, `apt-get` installations
    may not work. An update will usually solve that.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在积极进行项目工作的同时，每月进行一次此更新/升级步骤是值得的。当树莓派更新到最新状态时，你将能够为机器人代码安装额外的软件。当软件过时，`apt-get`
    安装可能不会工作。通常更新可以解决这个问题。
- en: Shutting down your Raspberry Pi
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关闭树莓派
- en: 'When you are done with the Pi for the session, shut it down as shown:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 当你完成Pi的会话时，按照以下方式关闭它：
- en: '[PRE8]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Wait for the green light activity to stop; PuTTY will detect that it has disconnected.
    You can now safely disconnect the power.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 等待绿灯活动停止；PuTTY 将检测到它已断开连接。你现在可以安全地断开电源。
- en: Important note
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Pulling power from the Raspberry Pi when it is not expected can cause the loss
    of files and SD card corruption. You may lose your work and damage the SD card.
    Always use the correct shutdown procedure.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 当树莓派未预期断电时，可能会导致文件丢失和SD卡损坏。你可能会丢失工作并损坏SD卡。始终使用正确的关机程序。
- en: Summary
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you've seen how to free a Raspberry Pi from a screen and keyboard
    by making it headless. You set up an SD card to connect to your Wi-Fi and to enable
    SSH so you could connect to it. You've used `raspi-config` to personalize your
    Pi and secure it with your own password. You then made the first small steps in
    looking around the Linux system it has running on it. You also ensured the Raspberry
    Pi is up to date and running the most current software. Finally, we saw how to
    safely put the Pi into shutdown mode, so that filesystem damage does not occur
    when you unplug it.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你看到了如何通过使其无头从屏幕和键盘中解放树莓派。你设置SD卡以连接到你的Wi-Fi并启用SSH，以便你可以连接到它。你使用了 `raspi-config`
    来个性化你的Pi并使用你自己的密码来保护它。然后，你迈出了探索它所运行的Linux系统的第一步。你还确保了树莓派是最新的，并运行了最新的软件。最后，我们看到了如何安全地将Pi置于关机模式，这样在拔掉电源时不会发生文件系统损坏。
- en: You have now learned how to make a Raspberry Pi headless. You have seen how
    to keep it upgraded and connected to your network and the Pi is ready to start
    building with. You can use this to build Raspberry Pi-powered gadgets, including
    robots.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经学会了如何制作无头树莓派。你已经看到了如何保持其更新并连接到你的网络，树莓派现在可以开始构建了。你可以用它来构建树莓派供电的小工具，包括机器人。
- en: In the next chapter, we look at ensuring you don't lose valuable code or configuration
    when things go wrong. We will learn about what can go wrong and how to use Git,
    SFTP, and SD card backups to protect our hard work.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将探讨如何确保在出现问题时不会丢失宝贵的代码或配置。我们将了解可能发生的问题以及如何使用 Git、SFTP 和 SD 卡备份来保护我们的辛勤工作。
- en: Assessment
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评估
- en: What other gadgets or projects could you build with a headless Raspberry Pi?
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以用无头树莓派构建哪些其他小工具或项目？
- en: Try giving your Raspberry Pi a different hostname and connecting to this locally
    with PuTTY and mDNS.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试给你的树莓派设置一个不同的主机名，并使用 PuTTY 和 mDNS 在本地连接。
- en: Try other Linux commands on the Raspberry Pi, such as `cd`, `ls`, `cat`, and
    `man`.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试在树莓派上使用其他 Linux 命令，例如 `cd`，`ls`，`cat` 和 `man`。
- en: Shut down the Raspberry Pi correctly after trying these.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在尝试这些操作后，请正确关闭树莓派。
- en: Further reading
  id: totrans-154
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'Please refer to the following to get more information:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 请参考以下内容以获取更多信息：
- en: '*Internet of Things with Raspberry Pi 3*, *Maneesh Rao*, *Packt Publishing*:
    This book uses a wired headless Raspberry Pi for the demonstrations and experiments
    in it.'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*《树莓派3物联网》*，*马内什·拉奥*，*Packt 出版公司*：这本书使用有线无头树莓派进行其中的演示和实验。'
