- en: '12'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '12'
- en: AI and the Internet of Things (IoT)
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 人工智能与物联网（IoT）
- en: Some people say the **Internet of things** (**IoT**) will turn out to become
    the fourth Industrial Revolution. Let's wait a few years until the smoke clears
    and then let historians figure out what sort of revolution we went through.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 有些人说，**物联网**（**IoT**）将最终成为第四次工业革命。让我们等几年，直到一切尘埃落定，再让历史学家来判断我们经历了怎样的革命。
- en: In any case, **connected objects** have been changing our lives for at least
    the past two decades. Given all that we have seen in recent years, we can safely
    say that IoT has become disruptive.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 无论如何，**互联物体**在过去二十年里至少已经改变了我们的生活。考虑到我们近年来所见所闻，我们可以肯定地说，物联网（IoT）已经成为一种颠覆性技术。
- en: Artificial intelligence has *just* begun its long journey through human intellect.
    New, incredible innovations await us. Understand cutting-edge machine learning
    and deep learning theory is only the beginning of your adventure. Take everything
    you see seriously and see how it can be incorporated into your projects.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 人工智能的*刚刚*开始了它在人类智慧中的漫长旅程。新的、令人难以置信的创新正等待着我们。理解前沿的机器学习和深度学习理论只是你冒险的开始。认真对待你所看到的一切，并看它如何融入到你的项目中。
- en: Your mind must remain open to accept the many innovations that are yet to come.
    For example, conceptual representation learning (see previous chapters) adds the
    power of human concepts to neural networks.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 你的思想必须保持开放，接受那些尚未到来的创新。例如，概念表示学习（参见前几章）将人类概念的力量添加到神经网络中。
- en: This chapter takes the technology of the previous chapter and applies it to
    the example of a self-driving car. The previous chapter used a webcam and a program
    and sent instructions to the conveyor belt. It was in the family of IoT. Let's
    add a **support vector machine** (**SVM**) to the program and take it out on the
    streets of a city to see what happens.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将上一章的技术应用于自动驾驶汽车的例子。上一章使用了网络摄像头和程序，并向输送带发送指令。这属于物联网的范畴。现在，我们将为程序添加一个**支持向量机**（**SVM**），并将其带到城市街头看看会发生什么。
- en: 'The chapter is divided into three main sections: a public service project,
    the configuration of the model, and running the model.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章分为三个主要部分：公共服务项目、模型配置和模型运行。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: A self-driving solution
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动驾驶解决方案
- en: Introducing a safe route parameter to trip planners
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为旅行规划器引入安全路线参数
- en: Applying CNNs to parking lots
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将CNN（卷积神经网络）应用于停车场
- en: Applying SVMs to safety on trip planning
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将SVM应用于旅行规划中的安全性
- en: Teaching an MDP to find the safest route (not necessarily the shortest way)
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 教授一个MDP（马尔可夫决策过程）来找到最安全的路线（不一定是最短的路线）
- en: Let's get started by outlining the problem and the goal of the project we'll
    be undertaking.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从概述我们将要进行的项目的问题和目标开始。
- en: The public service project
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 公共服务项目
- en: 'The overall project in this example is to implement a self-driving, home-to-homeless-shelter
    delivery service:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子中的总体项目是实现一个自动驾驶的从家庭到无家可归者庇护所的配送服务：
- en: Families at homes have clothing and food they would like to give to others that
    need them.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 家庭中有衣物和食物，希望将其捐赠给需要的人。
- en: The self-driving car can be started at a distance and goes to homes and takes
    the goods to the shelters.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动驾驶汽车可以远程启动，前往家庭并将货物运送到庇护所。
- en: The self-driving car does not need to have a base. It can park anywhere, go
    anywhere, and refuel at service stations with automatic electric recharging.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动驾驶汽车不需要停车基站。它可以随时停放，随时出发，并在服务站进行自动电动充电加油。
- en: In this chapter, we will focus on the self-driving car when it has finished
    a delivery and is looking for a parking lot with a parking space. We will need
    the information to make decisions.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将专注于自动驾驶汽车，当它完成配送并寻找有空位的停车场时。我们将需要这些信息来做出决策。
- en: Some IoT projects plan to put sensors on every parking space and send the information
    to control centers. The city council finds that too expensive. Instead, the city
    council has decided to use a more cost-effective solution. A webcam will be installed
    on all the possible parking lots in the project's grid. This smart grid is for
    transporting products from homes to shelters.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 一些物联网项目计划在每个停车位上安装传感器，并将信息传送到控制中心。市议会觉得这样做太贵了。相反，市议会决定采用一种更具成本效益的解决方案。该项目的网格中所有可能的停车场将安装网络摄像头。这个智能网格用于将物品从家庭运送到庇护所。
- en: We'll address this by first setting up an RL-DL-CRLMM model.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先通过设置RL-DL-CRLMM模型来解决这个问题。
- en: Setting up the RL-DL-CRLMM model
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置RL-DL-CRLMM模型
- en: This section describes how to set up the previous chapter's model for this project
    and add a few functions.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 本节描述了如何为这个项目设置上一章的模型，并添加一些功能。
- en: 'In *Chapter 11*, *Combining Reinforcement Learning and Deep Learning*, the
    RL-DL-CRLMM model analyzed webcam images of pieces of cut cloth to be sewed in
    real-time on a conveyor belt. The goal was to determine if they contained a gap
    (not too many pieces to sew) or not (a lot of pieces to sew). Then the model selected
    the best sewing station. A sewing station with a lot of work to do is best optimized
    with a small number of pieces to sew. A sewing station with little work to do
    will be best optimized with a large number of pieces to sew. By doing this, the
    RL-DL-CRLMM optimized the load on each sewing station, as shown in the following
    diagram:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在*第11章*，*《结合强化学习与深度学习》*中，RL-DL-CRLMM模型分析了实时传送带上待缝制布料的网络摄像头图像。目标是确定这些布片中是否存在空隙（没有太多布片待缝制）或没有空隙（有很多布片待缝制）。然后模型选择了最佳缝纫站。如果缝纫站有大量工作要做，最好优化为少量布片进行缝制。缝纫站工作量少时，最好优化为大量布片进行缝制。通过这种方式，RL-DL-CRLMM优化了每个缝纫站的工作负载，如下图所示：
- en: '![](img/B15438_12_01.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_01.png)'
- en: 'Figure 12.1: Apparel production flow'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.1：服装生产流程
- en: 'This leads to the following circular optimizing model:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 这将导致以下循环优化模型：
- en: '![](img/B15438_12_02.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_02.png)'
- en: 'Figure 12.2: Circular RL-DL-CRLMM'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.2：循环RL-DL-CRLMM
- en: 'This RL-DL-CRLMM model that we explored in *Chapter 11*, *Combining Reinforcement
    Learning and Deep Learning*, contains the following components:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在*第11章*，*《结合强化学习与深度学习》*中探讨的RL-DL-CRLMM模型包含以下组件：
- en: A CRL-CNN to see if there is a gap in the image. In this chapter, we will use
    the same model to see if there is a gap in a parking lot that represents an available
    parking space.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个CRL-CNN用来查看图像中是否有空隙。在本章中，我们将使用相同的模型来看是否在代表可用停车位的停车场中存在空隙。
- en: An optimizer will rely on an SVM to add the concept of safety to the choice
    of an itinerary. It will then use optimization rules to make decisions, as in
    *Chapter 11, Combining Reinforcement Learning and Deep Learning*.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 优化器将依赖于SVM，将安全性概念添加到行程选择中。然后它将使用优化规则做出决策，如*第11章，结合强化学习与深度学习*中所述。
- en: An MDP for the itinerary as described in *Chapter 1*, *Getting Started with
    Next-Generation Artificial Intelligence through Reinforcement Learning*.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如*第1章*所述的行程的MDP，*《通过强化学习开启下一代人工智能之旅》*。
- en: 'The RL-DL-CRLMM model of this chapter, which focuses on finding a parking lot
    with available parking space and go there will thus become:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的RL-DL-CRLMM模型，专注于寻找一个有可用停车位的停车场并前往那里，模型将变为：
- en: '![](img/B15438_12_03.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_03.png)'
- en: 'Figure 12.3: Circular RL-DL-CRLMM'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.3：循环RL-DL-CRLMM
- en: The CRL-CNN in this model looks for spaces in a parking lot instead of gaps
    on a conveyor belt.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 本模型中的CRL-CNN寻找的是停车场中的空位，而不是传送带上的空隙。
- en: The RL-DL-CRLMM model contains a **convolutional neural network** (**CNN**)
    and a **Markov decision process** (**MDP**) linked together by an optimizer. The
    optimizer contains an SVM (safety evaluations) and a set of rules.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: RL-DL-CRLMM模型包含一个**卷积神经网络**（**CNN**）和一个**马尔可夫决策过程**（**MDP**），通过一个优化器将它们连接起来。优化器包含一个SVM（安全性评估）和一组规则。
- en: This system will now be referred to as a CRLMM.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 该系统现在将被称为CRLMM。
- en: Applying the model of the CRLMM
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用CRLMM模型
- en: In *Chapter 9*, *Abstract Image Classification with Convolutional Neural Networks
    (CNNs)*, the CRLMM program, `CNN_STRATEGY_MODEL.py`, was trained to identify ![](img/B15483_11_028.png)
    (gamma concept) in outputs on the conveyor belt of a food processing factory.
    The end of the previous chapter brought ![](img/B15438_10_022.png) up to a higher
    abstraction level.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在*第9章*，*《使用卷积神经网络（CNN）进行抽象图像分类》*中，CRLMM程序`CNN_STRATEGY_MODEL.py`经过训练，用来实时识别食品加工厂传送带上的切割布片的![](img/B15483_11_028.png)（gamma概念）输出。上一章的结尾把![](img/B15438_10_022.png)提升到了更高的抽象层次。
- en: As long as a member of ![](img/B15438_12_003.png) (gamma) of the ![](img/B15438_10_005.png)
    dataset is in an undetermined state, its generalization encompasses ambivalent
    but similar concepts. Up to this chapter, these are the concepts ![](img/B15438_12_005.png)
    (uppercase gamma) has learned (conceptual representation learning).
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 只要![](img/B15438_12_003.png)（gamma）属于![](img/B15438_10_005.png)数据集中的一个未确定状态，它的泛化就包括了模棱两可但相似的概念。直到本章为止，这些就是![](img/B15438_12_005.png)（大写gamma）已经学习到的概念（概念表示学习）。
- en: '![](img/B15438_12_006.png) = {a gap, no gap, a load, no-load, not enough load,
    enough load, too much load, a space on a lane for a car, a distance between a
    high load of products and missing products on a conveyor belt, weights on sewing
    stations … *n*}'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/B15438_12_006.png) = {间隙，非间隙，负载，无负载，负载不足，负载足够，负载过多，车道上的停车空间，传送带上高负载产品与缺失产品之间的距离，缝纫站上的重物…
    *n*}'
- en: 'The next step in the chapter is to use the CRLMM built in the previous chapters
    to recognize a parking space in a parking lot and send a signal to the self-driving
    vehicle:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的下一步是使用前几章中构建的CRLMM来识别停车场中的停车位，并向自动驾驶车辆发送信号：
- en: '![](img/B15438_12_006.png) will now perceive gaps as space.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](img/B15438_12_006.png)现在将把间隙视为空间。'
- en: '![](img/B15438_12_006.png) will now perceive space as a distance (gap) between
    two objects.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](img/B15438_12_006.png)现在将把空间视为两个物体之间的距离（间隙）。'
- en: '![](img/B15438_12_006.png) will need a context to establish whether this space
    between two objects is a positive or negative distance.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](img/B15438_12_006.png)将需要一个上下文来判断这两个物体之间的空间是正距离还是负距离。'
- en: Let's take a look at the dataset that we'll use to accomplish our goals.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看我们将用来实现目标的数据集。
- en: The dataset
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据集
- en: The datasets used in *Chapter 9*, *Abstract Image Classification with Convolutional
    Neural Networks (CNNs)*, to this chapter are sample datasets. In real-life projects,
    it will take some work to obtain the right real-time frames from a webcam. There
    will be lighting constraints, prerequisites, and more. However, the philosophy
    remains the same.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在*第9章*，*卷积神经网络（CNNs）进行抽象图像分类*到本章使用的数据集是示例数据集。在实际项目中，获取来自摄像头的实时帧需要一些工作。可能会有照明限制、前提条件等。然而，基本理念保持不变。
- en: 'As in the previous chapters, the `dataset` directory of this chapter on GitHub
    contains the following:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如前几章所述，本章的`dataset`目录在GitHub上包含以下内容：
- en: The training set
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练集
- en: The test set
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试集
- en: The model trained by `CNN_CONCEPT_STRATEGY.py`
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由`CNN_CONCEPT_STRATEGY.py`训练的模型
- en: The `classify` directory used by `CNN_CONCEPT_STRATEGY.py`
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`CNN_CONCEPT_STRATEGY.py`使用的`classify`目录'
- en: As explained in the previous chapters, a full stream of frames from a well-configured
    webcam would take weeks, if not months, to prepare. They are projects in themselves.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 如前几章所述，从配置良好的摄像头流出的完整帧流可能需要几周甚至几个月才能准备好。它们本身就是项目。
- en: The project would first start by deciding to use a camera webcam or an IP camera
    that can send images to the CNN that is embedded in the RL-DL-CRLMM program. The
    CNN will classify each image sent by the video feed either as containing a gap
    or an available parking space or not.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 项目首先会决定使用摄像头或可以将图像发送到嵌入在RL-DL-CRLMM程序中的CNN的IP摄像头。CNN将对视频流发送的每张图像进行分类，判断它是否包含间隙或可用停车空间。
- en: A webcam is usually connected to a computer, which will, in turn, send information
    to a distant server. An IP camera can send information directly to distant machines.
    Both solutions are connected IoT objects. An IP camera can be more expensive.
    To prove that the solution is a good one, an implementation team might start with
    a webcam first. Once the project has been accepted, then an IP camera might prove
    to be better in the long run. In this chapter, we will refer to webcams as in
    a research project with limited funds to begin with. We will thus consider that
    the images come from a webcam.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 摄像头通常连接到计算机，然后计算机将信息发送到远程服务器。IP摄像头可以直接将信息发送到远程机器。这两种解决方案都是连接的物联网设备。IP摄像头可能更贵。为了证明解决方案是可行的，实施团队可能会先从摄像头开始。一旦项目被接受，IP摄像头可能从长远来看会更好。在本章中，我们将把摄像头当作是一个起初预算有限的研究项目。因此，我们假设图像来自摄像头。
- en: In this example, ![](img/B15438_12_006.png) has evolved into space (gap detection
    between (distance)) cars to find a parking space.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，![](img/B15438_12_006.png)已演变为空间（车与车之间的间隙检测），用于寻找停车位。
- en: 'The following is a simulated frozen frame with no ![](img/B15438_12_006.png)-space
    taken by a webcam located on a building, pointing down to a parking lot:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是没有！[](img/B15438_12_006.png)-空间的模拟冻结帧，摄像头位于一栋建筑物上，指向停车场：
- en: '![](img/B15438_12_04.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_04.png)'
- en: 'Figure 12.4: Simulated frozen frame'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.4：模拟的冻结帧
- en: 'I transformed the image to simulate some computer vision techniques that could
    have been used to simplify the image:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 我通过转换图像来模拟一些计算机视觉技术，这些技术本可以用于简化图像：
- en: '![](img/B15438_12_05.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_05.png)'
- en: 'Figure 12.5: Parking lot with a little to no gaps (not enough available parking
    spaces)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.5：停车场几乎没有空隙（停车位不足）
- en: 'The following frame represents a small but sufficient parking space on the
    right of the screen. The images in these examples were designed to explain how
    the system is built. I created the image for this example to show whether ![](img/B15438_12_006.png)-space
    is available or not. Once again, I simulated an image after a computer vision
    process, which is easy to do but beyond the scope of this book. It shows something
    like several available parking spaces in a higher-level representation of the
    parking lot:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 以下帧表示屏幕右侧一个小但足够的停车位。这些示例中的图像是为了解释系统是如何构建的。我为这个例子创建了这张图片，以显示是否有可用的停车位！[](img/B15438_12_006.png)。再次说明，我在计算机视觉处理后模拟了一张图像，这很容易做到，但超出了本书的范围。它展示了停车场中几种可用停车位的更高级别表示：
- en: '![](img/B15438_12_06.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_06.png)'
- en: 'Figure 12.6: Parking lot with a little to no gaps (not enough available parking
    spaces)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.6：停车场几乎没有空隙（停车位不足）
- en: Using the trained model
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用训练好的模型
- en: The model was trained by using the same `CNN_STRATEGY_MODEL.py` program as in
    *Chapter 9*, *Abstract Image Classification with Convolutional Neural Networks
    (CNNs)*.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 该模型是通过使用与*第9章*《卷积神经网络（CNN）的抽象图像分类》相同的`CNN_STRATEGY_MODEL.py`程序训练的。
- en: 'Just make sure that the directory in the header of the following program is
    pointing to `dataset/`, which is scenario number 2:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 只需确保以下程序头部中的目录指向`dataset/`，这是情境2：
- en: '[PRE0]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The model is stored in `/dataset/model`. To test the model, `CNN_CONCEPT_STRATEGY.py`,
    improved in the previous chapter, was used. Just change the messages and limit
    the frame classification loop to `2`, as shown in the following code snippet:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 模型存储在`/dataset/model`中。要测试模型，使用了前一章中改进的`CNN_CONCEPT_STRATEGY.py`。只需更改消息并将帧分类循环限制为`2`，如下所示的代码片段：
- en: '[PRE1]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The following loaded image was already resized before applying the CNN model:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 以下加载的图像在应用CNN模型之前已经调整过大小：
- en: '![](img/B15438_12_07.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_07.png)'
- en: 'Figure 12.7: Resized image'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.7：调整大小后的图像
- en: Classifying the parking lots
  id: totrans-79
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 对停车场进行分类
- en: We showed that the model works. However, in the following sections, we will
    simulate the images that are sent with a random function, not with the actual
    images.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经展示了模型的工作效果。然而，在接下来的章节中，我们将使用随机函数模拟发送的图像，而不是实际图像。
- en: Now that the CRLMM has been trained to distinguish a full parking lot from a
    parking lot with available space, once an available parking lot has been found,
    an SVM takes over as an intermediate step, as we'll see in the next section.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，CRLMM已经训练好了，可以区分满的停车场和有空位的停车场。一旦找到有空位的停车场，SVM会作为中间步骤接管，正如我们将在下一节看到的那样。
- en: Adding an SVM function
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加SVM功能
- en: The self-driving car has delivered its packages to the shelters. Now it has
    to find a parking lot and park there. Instead of having a base like many other
    systems, this saves the city the cost of many useless trips.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 自动驾驶汽车已经将包裹送到了避难所。现在它必须找到一个停车场并停在那里。与许多其他系统不同，它没有一个基地，这节省了城市许多无用的行程成本。
- en: Motivation – using an SVM to increase safety levels
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 动机——使用SVM提高安全性
- en: The support vector system adds a new function to itinerary calculations—**safety**.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 支持向量系统为行程计算添加了一个新功能——**安全性**。
- en: 'Most systems, such as Google Maps, focus on:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数系统，如Google Maps，关注的是：
- en: The shortest trip
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最短行程
- en: The fastest trip
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最快的行程
- en: Traffic
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交通
- en: However, self-driving cars have to take extra precautions. Many humans do not
    feel secure on some roads. Safety comes first, no matter what. Once a suitable
    parking lot has been found, the SVM has to avoid traffic.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，自动驾驶汽车必须采取额外的预防措施。许多人在某些道路上感到不安全。无论如何，安全第一。一旦找到合适的停车场，SVM必须避免交通。
- en: 'The goal is to find a path through traffic, even if the distance is longer.
    A *p* parameter allows for a *p*% variance in the distance. For example, 10% allows
    a 10% longer distance and will provide safe passage, as shown in the following
    SVM result:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 目标是找到一条穿过交通的路径，即使距离较长。一个*p*参数允许距离有*p*%的偏差。例如，10%允许距离延长10%，并且会提供安全通行，如下所示的SVM结果所示：
- en: '![](img/B15438_12_08.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_08.png)'
- en: 'Figure 12.8: Traffic path'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.8：交通路径
- en: It is important to note that the datapoints are **not** the actual coordinates
    but a representation in a higher dimension, as explained in the following section.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，数据点**不是**实际坐标，而是一个更高维度中的表示，具体解释见下节。
- en: Definition of a support vector machine
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 支持向量机的定义
- en: An SVM classifies data by transforming it into higher dimensions. It will then
    classify data into two classes, for example.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: SVM通过将数据转换为更高维度来对数据进行分类。然后，它会将数据分类为两类，例如。
- en: 'In this section, the SVM will be used to separate risky driving locations from
    safer driving locations:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，将使用SVM来区分有风险的驾驶位置和安全的驾驶位置：
- en: The example in the code is random (as in real-life traffic), but the model can
    be developed much further.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 代码中的示例是随机的（就像真实生活中的交通一样），但该模型可以进一步发展。
- en: 'Safety is the key to this model, so each driving location (road, crossing)
    possesses features related to this goal:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 安全性是该模型的关键，因此每个驾驶位置（道路、交叉口）都具有与此目标相关的特征：
- en: Number of accidents at that location
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该位置的事故数量
- en: Traffic at that location
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 该位置的交通状况
- en: Experience of driving through that location (near misses and no problems)
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在该位置的驾驶经验（近乎发生事故且没有问题）
- en: All of this data can be fed into an SVM program. The program will transform
    the data to make it linearly separable (see *Chapter 8, Solving the XOR Problem
    with a Feedforward Neural Network*).
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些数据都可以输入到SVM程序中。该程序将转换数据，使其线性可分（参见*第8章，通过前馈神经网络解决XOR问题*）。
- en: The blue dots on the left will be the good locations, and the brown ones on
    the right will be the risky ones. A function will read the latitude and longitude
    features of the datapoint in another table to convert them back into GPS format.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 左侧的蓝点代表良好的位置，而右侧的棕色点代表有风险的位置。一个函数将读取另一个表格中的数据点的纬度和经度特征，并将其转换回GPS格式。
- en: 'For example, a blue dot on the left might be:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，左侧的蓝点可能是：
- en: Location A
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 位置A
- en: One accident in the past ten years
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过去十年中的一次事故
- en: Zero problems driving through that point in 1 year
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年内通过该点没有问题
- en: 'A brown dot might be:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 一个棕色点可能是：
- en: Location D (a few blocks from A)
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 位置D（距离A几街区）
- en: Seventy-four accidents in 10 years
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 十年内发生74起事故
- en: Fifteen problems driving through that point in one year
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年内通过该点发生了15次问题
- en: The blue dots and brown dots thus have nothing to do with the real location
    on the preceding graph. The locations are **labels**. Their features have been
    separated as expected.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，蓝点和棕色点与前面图表中的实际位置无关。它们是**标签**。它们的特征已按预期分开。
- en: To send the data to a GPS guiding system, all that needs to be done is to find
    the GPS coordinates of the locations that are part of the initial dataset.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 为了将数据发送到GPS导航系统，只需要找到初始数据集中的位置的GPS坐标即可。
- en: Location A will be chosen, for example, instead of location D. Hence, the program
    looks into the dataset and finds its GPS location.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，会选择位置A，而不是位置D。因此，程序会查看数据集并找到其GPS位置。
- en: 'Let''s put some words to the following SVM graph:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们给以下SVM图加上些文字说明：
- en: '![](img/B15438_12_10.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_10.png)'
- en: 'Figure 12.10: SVM graph'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.10：SVM图
- en: The space between the dotted vertical lines is the **margin**. It's somewhat
    like the margin between two lines of a rugby or football team. When the players
    (datapoints) are lined up, an invisible space or margin separates them.
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点划线之间的空间是**边界**。它有点像橄榄球或足球队之间的边界。当球员（数据点）排成队时，一个看不见的空间或边界将它们分开。
- en: The dots that touch those margins are critical because they are the ones that
    decide where the margin will be in the first place. As the rugby or football players
    line up in clusters, the SVM will calculate this (refer to the following Python
    function). These special datapoints are called **support points**. They are also
    referred to as **support vectors**.
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与这些边界接触的点是关键的，因为它们决定了边界最初的位置。正如橄榄球或足球运动员排成队形一样，SVM会计算这一点（参见以下Python函数）。这些特殊的数据点被称为**支持点**。它们也被称为**支持向量**。
- en: The vertical line running in the middle of the margin is the **decision line**.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在边界中间的垂直线是**决策线**。
- en: Since a line separates the dots, the dataset is linearly separable. This means
    that a line can be drawn between the datapoints and can separate them into classes.
    In this case, the system wants to obtain safe locations (blue dots) and avoid
    unsafe locations (brown dots).
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于一条直线将这些点分开，因此数据集是线性可分的。这意味着可以在数据点之间画一条直线，并将它们分成不同的类别。在这种情况下，系统希望获取安全位置（蓝点）并避免不安全的位置（棕色点）。
- en: Now that we defined what an SVM is, let's implement it in Python.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们定义了什么是SVM，接下来我们将在Python中实现它。
- en: Python function
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Python函数
- en: 'The `sklearn` packages provide the following `svm` function:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '`sklearn`包提供了以下的`svm`函数：'
- en: '[PRE2]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The `make_blobs` function generates uniform data for this example in all directions.
    It is thus an **isotropic** distribution (*iso* = equal, *tropy* = way) of random
    data. A **blob** contains points of data. The points of data represent the concentration
    of cars in given areas, which were calculated using their longitude and latitude.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '`make_blobs`函数为本例生成各个方向上均匀的数据。因此，它是一个**各向同性**分布（*iso* = 相等，*tropy* = 方式）的随机数据。一个**blob**包含数据点。这些数据点代表特定区域内汽车的集中度，计算方式是根据它们的经纬度得出的。'
- en: scikit-learn contains a Gaussian factor for the generation function. A Gaussian
    kernel applies standard deviations from a mean. Imagine you are playing in a sandbox,
    and you make a little hill. Then, with your hand, you cut the pile in two. The
    mean is where you cut the sand pile; the standard deviation is shown by the slopes
    going down on both sides.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: scikit-learn包含一个高斯因子用于生成函数。高斯核应用从均值开始的标准差。想象你在沙盒中玩耍，做了一个小土丘。然后，你用手将土堆切成两半。均值就是你切割沙堆的位置；标准差则通过两侧下坡的坡度来表示。
- en: 'It might take days, and sometimes weeks, to put a good dataset together. But
    with scikit-learn, you can do it in one line, as shown in the following code snippet:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 收集一个好的数据集可能需要几天，甚至几周的时间。但使用scikit-learn，你可以通过一行代码完成，如下代码片段所示：
- en: '[PRE3]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This function offers many parameters. The ones used are as follows:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 这个函数提供了许多参数。使用的参数如下：
- en: '`n_samples`, which represents the number of points spread out between the clusters.
    In this example, `100` already represents sub-clusters of car concentrations in
    an area.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`n_samples`表示在集群之间分布的点的数量。在这个例子中，`100`已经代表了一个区域内汽车集中度的子集群。'
- en: '`Centers` is the number of centers from which to generate data. In this example,
    `2` represents areas close to the present location of the self-driving car and
    its future destination.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Centers`是生成数据的中心数量。在本例中，`2`表示接近当前自动驾驶汽车位置和未来目的地的区域。'
- en: '`random_state` is the seed by the random number generator. This is where the
    sequence of random numbers will start. This is because what we think is random
    is pseudo-random, so it has a deterministic basis.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`random_state`是随机数生成器的种子。这是随机数序列的起始点。因为我们认为是随机的，其实是伪随机的，所以它有一个确定性的基础。'
- en: 'In this example, a linear kernel is used to fit the model, as shown in the
    following code:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，使用了线性核来拟合模型，如下代码所示：
- en: '[PRE4]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: scikit-learn's SVM contains a parameter penalty, which explains the `C` in `svm.SVC`.
    There are many more options, but the key option is the kernel. A linear kernel
    will produce a linear separation, as shown in the preceding screenshot.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: scikit-learn的SVM包含一个惩罚参数，这就是`svm.SVC`中的`C`。还有许多其他选项，但关键的选项是核。线性核会产生线性分割，如前面的截图所示。
- en: 'An RBF kernel would produce a different result. The structure looks more regularized.
    As shown in the following screenshot, an RBF kernel acts as an efficient structural
    regularizing function:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 一个RBF核会产生不同的结果。结构看起来更具正则化。如以下截图所示，RBF核作为一种高效的结构正则化函数：
- en: '![](img/B15438_12_11.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_11.png)'
- en: 'Figure 12.11: Regularized structure path'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.11：正则化结构路径
- en: Bear in mind that the SVM can be used for image recognition on the MNIST and
    CIFAR datasets, for example. Artificial intelligence provides more than one way
    to solve a given problem. It is up to you to choose the right tools by having
    a flexible trial-and-error approach where necessary.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，SVM可用于MNIST和CIFAR数据集上的图像识别。例如，人工智能提供了多种解决给定问题的方法。选择合适的工具取决于你灵活的试错方法。
- en: 'The plotting line instructions start at line 300\. The main line of code to
    take into account is the function that will find and use the decision line (refer
    to the preceding definition) and scatter the datapoints on both sides of the margin.
    This is achieved by using the following `decision_function`:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 绘图行指令从第300行开始。需要考虑的主要代码行是那个用于找到并使用决策线的函数（参见前面的定义），并在边界两侧分散数据点。这个通过使用以下`decision_function`来实现：
- en: '[PRE5]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The result will be displayed, as shown previously. The SVM is now a component
    of the CRLMM in this self-driving car (SDC) model. We are ready the run the CRLMM
    to find an available parking space for the SDC.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将如之前所示显示。现在，SVM已成为这个自动驾驶汽车（SDC）模型中CRLMM的一部分。我们准备好运行CRLMM，以寻找自动驾驶汽车的可用停车位。
- en: Running the CRLMM
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 运行CRLMM
- en: 'The self-driving car''s mission is a circular (no beginning, no end) one like
    the CRLMM described in the previous chapter:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 自动驾驶汽车的任务是一个循环任务（没有开始，也没有结束），就像前一章中描述的CRLMM一样：
- en: If it is in a parking lot, it can be activated by a home or a shelter.
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果它处于一个停车场，可以通过家或避难所来激活。
- en: If it is at a given home, it will go to a shelter.
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果它在某个家中，它会前往避难所。
- en: If it is at a shelter, it can go to a home or a parking space.
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果它处于一个避难所，可以去一个家或一个停车位。
- en: If it needs recharging, this can be done at a recharging space (or more probably
    at a parking space), which is already the case in some cities.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果需要充电，可以在充电空间（或者更可能是在停车空间）进行充电，这在一些城市已经实现。
- en: At one point, the self-driving car has to go from a specific home to a parking
    space. This part of its itinerary is the subject of the following sections.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在某一时刻，自动驾驶汽车必须从一个特定的家出发，前往一个停车位。其行程的这一部分是以下章节的主题。
- en: Finding a parking space
  id: totrans-152
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 寻找停车位
- en: '`CRL-MM-IoT_SVM.py` uses a fine-tuned version of `RL_DL.py` described in the
    previous chapter.'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '`CRL-MM-IoT_SVM.py`使用了前一章中描述的精调版`RL_DL.py`。'
- en: A no-![](img/B15438_12_006.png) (no gamma, no gap, no space) result is not acceptable.
    The result we are looking for is an image with a gap.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 一个无-![](img/B15438_12_006.png)（无伽玛，无间隙，无空位）结果是不可接受的。我们寻找的结果是带有间隙的图像。
- en: 'If the `crlmm` function, which classifies parking lot images into full or available
    space, returns a `0`, the program detects it and displays a message. The code
    samples contain the line number of the following code excerpt:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 如果`crlmm`函数（该函数将停车场图像分类为已满或可用空间）返回`0`，程序将检测到并显示一条消息。代码样本包含以下代码片段的行号：
- en: '[PRE6]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The program displays the following full sign and closes it after a few seconds:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 程序显示以下完整的标志，并在几秒钟后关闭：
- en: '![](img/B15438_12_12.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_12.png)'
- en: 'Figure 12.12: Parking lot status'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.12：停车场状态
- en: 'The program must find a parking space. It will thus try searches of good parking
    lots as shown in this code snippet:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 程序必须找到一个停车位。因此，它将尝试搜索好的停车场，如以下代码片段所示：
- en: '[PRE7]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: A thousand searches looks like a lot, but it isn't difficult for a machine learning
    program.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 一千次搜索看起来很多，但对于机器学习程序来说并不困难。
- en: 'Furthermore, looking for available parking spaces in a large city can be excruciating.
    More often than not, it will not be suitable: there will not be sufficient available
    parking spaces to be certain of finding one in the time it will take to get there.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，在大城市寻找可用停车位可能非常痛苦。往往情况下，它不适用：可能没有足够的空闲停车位来确保你能够在到达目的地的时间内找到一个。
- en: 'For this prototype, the number of optimal searches is limited to `2`. Beyond
    that value, the following `CRLMM` function is activated:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个原型，最佳搜索次数限制为`2`。超过该值时，将激活以下`CRLMM`函数：
- en: '[PRE8]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: After two fruitless searches, the program activates `a`, a flag for the `CRLMM`
    function.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在两次无果的搜索后，程序激活了`a`，这是`CRLMM`函数的标志。
- en: 'The `CRLMM` function now contains a random search function, which simulates
    the choice of a parking lot and provides a first-level status:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '`CRLMM`函数现在包含一个随机搜索功能，模拟选择一个停车场并提供一个一级状态：'
- en: '[PRE9]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The status represents a probabilistic estimate of the availability of the parking
    lot. The `a` flag simulates a program yet to be added that will scan all the parking
    lots and run this function to find an available space.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 状态表示对停车场可用性的概率估计。`a`标志模拟一个尚未添加的程序，该程序将扫描所有停车场并运行此函数以找到一个可用的停车位。
- en: To present a prototype at an initial meeting, you will always need enough to
    convince, but if you go too far, the cost of doing this becomes a risk if your
    idea is rejected.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在初次会议上展示原型时，你总是需要足够的材料来说服别人，但如果做得过头，成本将成为一种风险，尤其是在你的想法被拒绝的情况下。
- en: 'So, if `a` is activated, the system simulates a scan (to be developed) and
    forces the status to `1`, as shown in the following code snippet:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果激活了`a`，系统会模拟扫描（待开发）并将状态强制设为`1`，如以下代码片段所示：
- en: '[PRE10]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'The program then continues and runs the CNN trained to identify an available
    parking lot (refer to the screenshot that follows), as explained in the preceding
    configuration section:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 程序接着继续运行，并使用训练好的CNN来识别一个可用的停车场（参考以下截图），如前面的配置部分所解释：
- en: '![](img/B15438_12_13.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_13.png)'
- en: 'Figure 12.13: Webcam freezes a frame of a parking lot'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.13：网络摄像头冻结停车场的一帧
- en: 'Now that a parking lot with available space has been found (the empty spaces
    on the top left of the frame), the search function stops, and the following `break`
    instruction is activated:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，已经找到一个有空车位的停车场（画面左上角的空白区域），搜索功能停止，接下来的 `break` 指令被激活：
- en: '[PRE11]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The `break` instruction is reached once a parking space has been found. Once
    an available parking space has been detected, we can decide how to get to the
    parking lot.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦找到停车位，就会达到 `break` 指令。一旦检测到可用停车位，我们就可以决定如何到达停车场。
- en: Deciding how to get to the parking lot
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 决定如何到达停车场
- en: 'The CRLMM program has found a suitable parking lot, as shown in the following
    code, when `crlmm==1`:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 当 `crlmm==1` 时，CRLMM 程序找到了一个合适的停车场，如以下代码所示：
- en: '[PRE12]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'It displays the following message and a sign:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 它显示以下信息和一个标志：
- en: '![](img/B15438_12_14.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_14.png)'
- en: 'Figure 12.14: Parking lot status'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.14：停车场状态
- en: Now that we found an available parking space, we need to find a safe route for
    the SDC. This means the SDC will avoid traffic to make it easier for the autonomous
    machine learning program. Now it is time to activate the function.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们找到了一个可用的停车位，我们需要为自动驾驶车辆找到一条安全的路线。这意味着自动驾驶系统将避开交通，以便更容易进行自主机器学习程序。现在是时候激活该功能了。
- en: Support vector machine
  id: totrans-186
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 支持向量机
- en: The CRLMM now demands a safe route, even if it means taking longer (time or
    distance). Self-driving vehicles require a strict safety-comes-first policy.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: CRLMM 现在要求选择一条安全的路线，即使这意味着需要更长的时间（或距离）。自动驾驶车辆需要严格遵循安全优先的政策。
- en: 'The program reaches the following SVM function:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 程序达到了以下的 SVM 功能：
- en: '[PRE13]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The SVM described in the configuration section provides a safe path through
    traffic, as shown in this screenshot of the result:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 配置部分中描述的 SVM 提供了穿越交通的安全路径，如下图所示：
- en: '![](img/B15438_12_15.png)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_15.png)'
- en: 'Figure 12.15: Traffic graph'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.15：交通图
- en: For example, in this random case (traffic will be random most of the time),
    the blue dots on the left represent sparser traffic, and the brown dots represent
    areas with denser traffic. The goal, in real-life implementation, is to provide
    information to the MDP in the program so that it will find paths through sparser
    traffic for safety reasons to limit the errors an SDC can make in denser traffic.
    The weights of the statistics of past accidents and the car's experience can also
    be added to create a deeper vision of this safety model trip planner.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在这个随机的案例中（大多数情况下交通是随机的），左边的蓝点表示交通较稀疏的区域，棕色的点表示交通较密集的区域。现实中的目标是为程序中的 MDP 提供信息，使其能够找到通过稀疏交通的路径，以确保安全，减少自动驾驶系统在密集交通中可能出现的错误。过去事故的统计权重和车辆经验也可以被加以利用，创建一个更深层次的安全模型旅行规划器。
- en: 'Suppose the self-driving car has to go to a point in the brown area. The SVM
    will:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 假设自动驾驶车辆需要前往棕色区域的一个点，SVM 将：
- en: Suggest an itinerary that goes through blue dot areas as much as possible and
    only then in brown areas.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 建议尽量走过蓝点区域，只在棕色区域中行驶。
- en: Send the information to Google Maps. This will require an additional script
    that will read a dataset that contains GPS coordinates for each datapoint in the
    SVM.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将信息发送到 Google Maps。这将需要一个额外的脚本，用来读取一个包含每个数据点 GPS 坐标的数据集。
- en: Many drivers feel unsafe on loaded freeways or in dense cities. Adding the safest
    route function to mapping software would help.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 许多驾驶员在繁忙的高速公路或密集的城市中感到不安全。将最安全路线功能加入到地图软件中将会有所帮助。
- en: The SVM brought the datapoints to a higher level (refer to the explanation in
    the configuration section of the chapter).
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: SVM 将数据点提升到更高的层级（请参考本章配置部分的解释）。
- en: The points represented in an SVM function are **not** the actual locations but
    an abstract representation. The dividing line needs to go through a function that
    will transform that information into a real location datapoint.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: SVM 功能中表示的点**不是**实际的位置，而是一个抽象的表示。分割线需要通过一个功能，将这些信息转化为实际位置的数据点。
- en: Once the SVM boundaries have been converted into location datapoints, the itinerary
    or trip graph is activated.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦 SVM 边界被转换为位置数据点，行程或旅行图就会被激活。
- en: The itinerary graph
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 行程图
- en: 'The prototype shows a simulation of an itinerary graph based on the SVM recommendations
    and its weight vector through the following function call:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 原型展示了一个基于 SVM 推荐和权重向量的行程图仿真，通过以下功能调用：
- en: '[PRE14]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The following graph displays the safest itinerary in red, even if it takes
    longer (time or distance):'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表显示了最安全的路线（用红色表示），即使这意味着需要更长的时间（或距离）：
- en: '![](img/B15438_12_16.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_16.png)'
- en: 'Figure 12.16: The optimizer chose the safest itinerary'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.16：优化器选择了最安全的行程
- en: For the purpose of the prototype, the SVM was not directly connected to the
    graph, which would require costly hours.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 出于原型的目的，SVM并未直接连接到图中，这将需要昂贵的时间成本。
- en: 'Instead, the following `random.randint` function was inserted, which simulates
    the random availability of parking space in any case:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，插入了以下`random.randint`函数，模拟了任何情况下停车位的随机可用性：
- en: '[PRE15]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Bear in mind that it would be useless to execute further development for a prototype
    as regards the initial presentation to a prospect or manager.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，对于向潜在客户或经理的初步展示，进一步开发原型是没有意义的。
- en: This type of prototype is more powerful than a slideshow because it proves your
    legitimacy. Slideshows are static and don't prove your abilities on this particular
    subject. A prototype will show your expertise. Once we have the safest locations,
    we can update the weight vector for the MDP, as in the previous chapter.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 这种原型比幻灯片展示更强大，因为它证明了你的合法性。幻灯片是静态的，无法证明你在特定主题上的能力。一个原型将展示你的专业知识。一旦我们获得了最安全的位置，就可以像上一章那样更新MDP的权重向量。
- en: The weight vector
  id: totrans-212
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 权重向量
- en: 'The weight vector is displayed. In this model, the weights represent the locations,
    just like in the previous chapter. However, in this chapter, the weights are a
    rating:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 权重向量被显示出来。在这个模型中，权重代表位置，就像在上一章中一样。然而，在本章中，权重是一个评级：
- en: Each weight has a high safety rank when a few accidents have occurred around
    that area in the past *n* years. This is a **safety rank**. This ranking should
    be part of our itinerary software. We should be informed.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当某个区域在过去*n*年内发生过少量事故时，每个权重都会有一个较高的安全排名。这就是**安全排名**。这个排名应当成为我们行程软件的一部分，我们应该被告知。
- en: The self-driving car's experience will customize each weight. It is its own
    driving record. Near misses because of its faulty software will bring the weight
    down. Good track records will take the weights up. What seems easy for a human
    might be difficult for software, and vice versa.
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动驾驶汽车的经验将根据每个权重进行定制。这是其自身的驾驶记录。由于软件故障导致的差点事故会降低权重。良好的行驶记录将提升权重。对人类来说看似简单的事情，可能对软件来说是困难的，反之亦然。
- en: 'The system now displays the weights used with an internal update program to
    be developed if the prototype is accepted. The following code calls the function
    that manages the weights of the safest routes for the self-driving vehicle and
    displays a histogram:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，系统显示了使用的权重，并将在原型通过后开发一个内部更新程序。以下代码调用了一个管理自动驾驶汽车最安全路线权重的函数，并显示了一个直方图：
- en: '[PRE16]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![](img/B15438_12_17.png)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_12_17.png)'
- en: 'Figure 12.17: Histogram of the updated weights vertex (safest routes)'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.17：更新后的权重顶点的直方图（最安全的路线）
- en: We detected an available parking space, asked an SVM to provide the safest areas
    to go through to get to that parking space, updated the weight of each area, and
    sent the information to the MDP to calculate a safe route.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 我们检测到了一个可用的停车位，要求SVM提供通往该停车位的最安全路径，更新了每个区域的权重，并将信息发送给MDP计算安全路径。
- en: Summary
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter, like the previous chapter, described a connected IoT process with
    no humans involved. This trend will expand into every field in the years to come.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 本章与上一章一样，描述了一个没有人工参与的物联网连接过程。这一趋势将在未来几年扩展到各个领域。
- en: This also shows that knowing how to use a tool requires hard work, especially
    when learning artificial intelligence. Imagining a solution for a given market
    requires more than hard work. Creativity does not come with work. It develops
    by freeing your mind from any form of constraint.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 这也表明，掌握如何使用工具需要努力，尤其是在学习人工智能时。为特定市场构思解决方案不仅仅需要努力工作。创造力不是靠工作获得的，它是在摆脱任何形式约束的过程中培养出来的。
- en: Once the solution has been imagined, then comes the fine line between developing
    too much for a presentation and not showing enough. A CRLMM provides the kind
    of framework that helps build a technical solution (CNN, MDP, SVM, and optimizers)
    while keeping everyday concepts that others understand in mind.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦解决方案被构思出来，就面临着一个微妙的界限：是为展示开发过多，还是展示不足。CRLMM提供了一种框架，帮助构建技术解决方案（CNN、MDP、SVM和优化器），同时考虑到他人理解的日常概念。
- en: The chapter also shows that an artificial intelligence model can contain an
    ensemble of algorithms, RL, DL, SVM, and CRL cognitive approaches, and more.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 本章还展示了一个人工智能模型可以包含一组算法，包括RL、DL、SVM和CRL认知方法等。
- en: The next chapter will take us deeper under the hood of neural networks and TensorFlow
    2 by peeking inside the ANN's processes.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 下一章将带我们更深入地了解神经网络和 TensorFlow 2，窥视人工神经网络（ANN）的内部过程。
- en: Questions
  id: totrans-227
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Driving quickly to a location is better than safety in any situation. (Yes |
    No)
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在任何情况下，快速到达目的地总比安全更重要。（是 | 否）
- en: Self-driving cars will never really replace human drivers. (Yes | No)
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 自动驾驶汽车永远无法真正取代人类司机。（是 | 否）
- en: Will a self-driving fire truck with robots be able to put out a fire one day?
    (Yes | No)
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 未来是否会有带机器人灭火的自动驾驶消防车？（是 | 否）
- en: Do major cities need to invest in self-driving cars or avoid them? (Invest |
    Avoid)
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大城市是否需要投资自动驾驶汽车，还是应该避免它们？（投资 | 避免）
- en: Would you trust a self-driving bus to take children to school and back? (Yes
    | No)
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会信任自动驾驶公交车带孩子上学放学吗？（是 | 否）
- en: Would you be able to sleep in a self-driving car on a highway? (Yes | No)
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你能在高速公路上的自动驾驶汽车里睡觉吗？（是 | 否）
- en: Would you like to develop a self-driving program for a project for a city? (Yes
    | No)
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你想为一个城市的项目开发一个自动驾驶程序吗？（是 | 否）
- en: Further reading
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入阅读
- en: 'For more information on SVMs, refer these links: [http://scikit-learn.org/stable/modules/svm.html](http://scikit-learn.org/stable/modules/svm.html),
    [http://scikit-learn.org/stable/auto_examples/svm/plot_separating_hyperplane.html#sphx-glr-auto-examples-svm-plot-separating-hyperplane-py](http://scikit-learn.org/stable/auto_examples/svm/plot_separating_hyperplane.html#sphx-glr-auto-examp)'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 欲了解更多关于支持向量机（SVM）的信息，请参考以下链接：[http://scikit-learn.org/stable/modules/svm.html](http://scikit-learn.org/stable/modules/svm.html)，[http://scikit-learn.org/stable/auto_examples/svm/plot_separating_hyperplane.html#sphx-glr-auto-examples-svm-plot-separating-hyperplane-py](http://scikit-learn.org/stable/auto_examples/svm/plot_separating_hyperplane.html#sphx-glr-auto-examp)
