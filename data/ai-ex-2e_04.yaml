- en: '4'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '4'
- en: Optimizing Your Solutions with K-Means Clustering
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 K-均值聚类优化你的解决方案
- en: No matter how much we know, the key point is the ability to deliver an **artificial
    intelligence** (**AI**) solution. Implementing a **machine learning** (**ML**)
    or **deep learning** (**DL**) program remains difficult and will become more complex
    as technology progresses at exponential rates.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 无论我们知道多少，关键点是能够交付一个**人工智能**（**AI**）解决方案。实现一个**机器学习**（**ML**）或**深度学习**（**DL**）程序仍然很困难，随着技术按指数级进步，它将变得越来越复杂。
- en: There is no such thing as a simple or easy way to design AI systems. A system
    is either efficient or not, beyond being either easy or not. Either the designed
    AI solution provides real-life practical uses, or it builds up into a program
    that fails to work in various environments beyond the scope of its training sets.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 设计 AI 系统没有简单或轻松的方法。一个系统要么高效，要么不高效，而不仅仅是轻松或不轻松。设计的 AI 解决方案要么在现实生活中提供实际的用途，要么就会变成一个在超出其训练集范围的各种环境中无法工作的程序。
- en: This chapter doesn't deal with how to build the most difficult system possible
    to show off our knowledge and experience. It faces the hard truth of real-life
    delivery and ways to overcome obstacles. For example, without the right datasets,
    your project will never take off. Even an unsupervised ML program requires reliable
    data in some form or other.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章并不涉及如何构建一个尽可能复杂的系统来炫耀我们的知识和经验。它直面现实生活中的交付难题，并探讨克服障碍的方法。例如，没有合适的数据集，你的项目永远无法起步。即使是无监督的机器学习程序，也需要某种形式的可靠数据。
- en: Transportation itineraries on the road, on trains, in the air, in warehouses,
    and increasingly in outer space require well-tuned ML algorithms. The staggering
    expansion of e-commerce generates huge warehouse transportation needs with automated
    guided vehicles (AGVs), then endless miles on the road, by train, or by air to
    deliver the products. Distance calculation and optimization is now a core goal
    in many fields. An AGV that optimizes its warehouse distance to load or unload
    trucks will make the storage and delivery processes faster for customers that expect their
    purchases to arrive immediately.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 道路、火车、飞机、仓库，以及越来越多的外层空间的运输路线都需要经过精心调试的机器学习（ML）算法。电子商务的惊人扩展带来了巨大的仓库运输需求，需要自动引导车辆（AGV），然后是无尽的道路、火车或空运，去交付产品。距离计算和优化现已成为许多领域的核心目标。一辆优化仓库距离的
    AGV，能够更快地装卸卡车，会使得存储和配送过程对那些期待他们的购买品立即到达的客户来说更为高效。
- en: This chapter provides the methodology and tools needed to overcome everyday
    AI project obstacles with k-means clustering, a key ML algorithm.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章提供了克服日常 AI 项目障碍所需的方法论和工具，重点介绍了 K-均值聚类这一关键的机器学习算法。
- en: 'This chapter covers the following topics:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖以下主题：
- en: Designing datasets
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设计数据集
- en: The design matrix
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设计矩阵
- en: Dimensionality reduction
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 降维
- en: Determining the volume of a training set
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定训练集的规模
- en: k-means clustering
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: K-均值聚类
- en: Unsupervised learning
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无监督学习
- en: Data conditioning management for the training dataset
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练数据集的数据处理管理
- en: Lloyd's algorithm
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 劳埃德算法
- en: Building a Python k-means clustering program
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建一个 Python K-均值聚类程序
- en: Hyperparameters
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 超参数
- en: Test dataset and prediction
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试数据集与预测
- en: Saving and using an ML model with Pickle
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Pickle 保存和使用机器学习模型
- en: We'll begin by talking about how to optimize and manage datasets.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从如何优化和管理数据集开始讨论。
- en: Dataset optimization and control
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据集优化与控制
- en: At one point, a manager or customer will inevitably ask an AI expert about the
    exact data required for an ML project, and in which format it's needed. Providing
    an answer will take some hard thinking and work.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在某个时刻，经理或客户不可避免地会问 AI 专家，具体需要什么数据来进行机器学习（ML）项目，以及需要的数据格式是什么。提供一个答案将需要一些深入思考和工作。
- en: One might wonder why the data is not open, like when we download ready-to-use
    datasets to learn AI algorithms. In corporate life, there are security rules and processes.
    Often the data required is on one or more servers. You will not be granted permission
    to do anything you want. You will have to specify your needs and requests. Obtaining
    data in the way required for AI comes at a cost for a corporation. You will have
    to justify your requests.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 有人可能会想，为什么数据不能像我们下载现成的用于学习 AI 算法的数据集那样公开。在公司工作中，有安全规则和流程。通常，所需的数据存储在一个或多个服务器上。你不能随意做任何事情。你必须明确你的需求和请求。以
    AI 所需的方式获取数据对公司来说是有成本的。你必须为你的请求提供合理的理由。
- en: Start by properly designing the dataset and choosing the right ML model. The
    dataset and ML model will fit the fundamental requirement to optimize AGV distances.
    Each AGV in a given warehouse must reduce the distance it takes to go from a pier
    (where boats might drop off cargo) to a storage area, from one storage area to
    another area (packaging, for example), and from a storage area to a pier. This will
    bring the overall costs of a warehouse down and maximize profit.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 从设计数据集和选择合适的机器学习模型开始。数据集和机器学习模型将符合优化自动引导车（AGV）距离的基本要求。每个在特定仓库中的AGV必须减少从码头（船只可能卸货的地方）到存储区、从一个存储区到另一个区域（例如包装区），以及从存储区到码头的距离。这将降低仓库的总体成本并最大化利润。
- en: Designing a dataset and choosing an ML/DL model
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设计数据集并选择机器学习（ML）/深度学习（DL）模型
- en: 'On paper, finding a good model for an AGV comes down to minimizing the distance
    it takes to move something from point A to point B. Let''s consider a scenario
    where we want to move products from a warehouse over to a pier. The sum of the
    distances *D* could be a way to measure the process:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 从纸面上看，找到一个合适的AGV模型就是最小化它从A点到B点移动所需的距离。假设我们想将产品从仓库运送到码头。距离之和*D*可以作为衡量该过程的一种方式：
- en: '![](img/B15438_04_001.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_04_001.png)'
- en: '*f*(*p*) represents the action of going from a warehouse location to a pier
    and the distance it represents. It takes you from the location in a shop where
    you picked something up, (*p*), and the door of the shop on your way out. You
    can imagine that if you go straight from that location, pay, and go out, then
    that is the shortest way. But if you pick the product up, wander around the shop
    first, and then go out, the distance (and time) is longer. The sum of all of the
    distances of all the people wandering in this shop, for example, is *D*.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '*f*(*p*)表示从仓库位置到码头的动作及其代表的距离。它从你在商店里拿起物品的位置（*p*），到你出门时商店的门口。你可以想象，如果你从那个位置直接走过去，付款后出门，那就是最短的路线。但是，如果你先拿起产品，在商店里漫游一会儿，然后再出去，那么距离（和时间）就会更长。所有人在商店里漫游的所有距离之和，例如，就是*D*。'
- en: 'The concept of the problem to solve in any self-guided bot system can be summed
    up as follows:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 任何自我引导的机器人系统中需要解决的问题可以总结为以下几个要点：
- en: '**find the wanderers**'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**寻找漫游者**'
- en: How can a bot wander? It is automatic and is often guided by efficient ML programs.
    But a bot, like any other form of transportation, often encounters obstacles.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人如何漫游？它是自动的，通常由高效的机器学习程序引导。但机器人，就像其他任何交通工具一样，常常会遇到障碍。
- en: When a bot encounters an obstacle, either it stops, waits, or takes another
    route.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 当机器人遇到障碍时，要么停下，要么等待，要么选择另一条路线。
- en: 'We now have a paradigm to investigate and implement:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有一个范式来进行调查和实施：
- en: Detect the wanderers
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检测漫游者
- en: Optimize the choice of bots
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 优化机器人选择
- en: We all know that the shortest point from location A to location B is a straight
    line. Right? Well, in a warehouse, as in life, it is not always true! Suppose
    you are in your car going in a straight line from A to B but there is a huge traffic
    jam. It could take a very long time to go a relatively short distance. If you
    took a right turn and drove around the jam, you might save a lot of time. You
    end up consuming more gas, and the cost of driving from A to B goes up. You are
    a wanderer.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们都知道，从A地点到B地点的最短路径是一条直线。对吧？然而，在仓库中，就像在生活中一样，这并不总是成立！假设你在车里直线行驶从A到B，但却遇到了一场巨大的交通堵塞。可能需要很长时间才能走完相对较短的距离。如果你绕过堵塞，右转并开车绕行，可能节省大量时间。你最后会消耗更多的油，而从A到B的行驶成本也会上升。你就是一个漫游者。
- en: In real-life traffic, there is not much you can do. You cannot decide that cars
    can only drive at certain hours on a road going from A to B. You cannot decide
    to send the cars to the locations that minimize traffic. In real life, this would
    mean telling the driver to go to another mall, another restaurant, or any other
    similar location to avoid building up traffic. That would not work!
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在现实生活中的交通中，你几乎不能做什么。你不能决定某些路段的车辆只能在特定时段行驶，从A点到B点的路上。你不能决定让汽车走最小化交通的路线。在现实中，这就意味着告诉司机去另一个商场、餐馆或任何其他类似的地方，以避免交通堵塞。这是行不通的！
- en: But if you are a warehouse manager that can control all of the AGVs, there is
    a lot you can do about this. You can make sure that AGVs make it quickly to their
    locations over a very short distance and come back to make room for other AGVs
    and thus reduce costs. You can detect the wanderers and configure your schedule
    and AGVs so that they minimize cost and maximize profit. No profit, no warehouse.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 但是如果你是一个可以控制所有AGV的仓库经理，你能做的事情就很多了。你可以确保AGV在非常短的距离内快速到达目的地，然后返回为其他AGV腾出空间，从而减少成本。你可以检测到“迷路”的AGV，并配置你的日程和AGV，使它们最小化成本并最大化利润。没有利润，就没有仓库。
- en: Approval of the design matrix
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 设计矩阵的批准
- en: 'The plan is to first obtain as much data as possible and then choose an ML/DL
    model. The dataset must contain all locations the bots (the AGVs) come from on
    their way to the piers on a given day. It''s a location-to-pier analysis. Their
    distances are recorded in their system to provide the basis of an excellent design
    matrix. A design matrix contains a different example on each row, and each column
    is a feature. The following format fits the need:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 计划是首先获取尽可能多的数据，然后选择一个ML/DL模型。数据集必须包含AGV（机器人）在某一天从各个位置到达码头的所有位置数据。这是一个位置到码头的分析。它们的距离会被记录在系统中，提供了一个出色设计矩阵的基础。设计矩阵中的每一行包含不同的示例，每一列是一个特征。以下格式符合需求：
- en: '| **Index** | **Bot #** **(AGV)** | **Start (from location)** **Timestamp:**
    **yyyy,mm,dd,hh,mm** | **End (at the pier)** **Timestamp:** **yyyy,mm,dd,hh,mm**
    | **Location** | **Pier number** | **Distance** **Meters** |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| **索引** | **机器人 #** **(AGV)** | **起始位置** **时间戳:** **yyyy,mm,dd,hh,mm** | **结束位置（码头）**
    **时间戳:** **yyyy,mm,dd,hh,mm** | **位置** | **码头编号** | **距离** **米** |'
- en: '| 001 | 1 | year-month-day-hour-minute | year-month-day-hour-minute | 80 |
    7 | 92 |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| 001 | 1 | 年-月-日-时-分 | 年-月-日-时-分 | 80 | 7 | 92 |'
- en: '| 002 | 2 |  |  |  |  |  |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '| 002 | 2 |  |  |  |  |  |'
- en: '| 003 | 3 |  |  |  |  |  |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| 003 | 3 |  |  |  |  |  |'
- en: '| 004 | 4 |  |  |  |  |  |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| 004 | 4 |  |  |  |  |  |'
- en: '| 005 | 5 |  |  |  |  |  |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| 005 | 5 |  |  |  |  |  |'
- en: 'The design matrix is one of the best ways to design an ML solution. In this
    case:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 设计矩阵是设计ML解决方案的最佳方式之一。在这种情况下：
- en: '**Index**: The mission number of the bot'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**索引**：机器人的任务编号'
- en: '**Bot #**: Identifies the vehicle'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**机器人 #**：标识该车辆'
- en: '**Start**: Timestamp when the bot left a location'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**起始时间**：机器人离开位置的时间戳'
- en: '**End**: Timestamp when the bot reaches a pier where a truck is waiting to
    be loaded'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**结束时间**：机器人到达等待装载的码头的时间戳'
- en: '**Location**: The location in the warehouse where a product should be retrieved'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**位置**：仓库中应该取货的地方'
- en: '**Distance**: The distance from the location to the pier in meters'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**距离**：从位置到码头的距离，单位为米'
- en: Distance is expressed in meters in the metric system. The metric system is the
    world's most reliable measurement system because it works in base 10 without having
    to resort to conversions.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 距离在公制系统中以米为单位。公制系统是世界上最可靠的计量系统，因为它采用基数为10的计算方式，无需进行单位换算。
- en: A yard has to be divided by 3 to obtain feet. A foot has to be divided into
    12 to obtain inches. To work in smaller units, a 1/16th of an inch may be necessary.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 一码必须除以3才能得到英尺。一英尺必须除以12才能得到英寸。为了在更小的单位上工作，可能需要1/16英寸。
- en: A meter is 100 centimeters, and a centimeter is 10 millimeters, then we can
    use 1/100 of a millimeter, and so on.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 一米等于100厘米，一厘米等于10毫米，那么我们可以用1/100的毫米，依此类推。
- en: Run your calculations with the metric system even if you have to produce reports
    in other units of measurement.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你需要以其他单位提供报告，也要使用公制系统进行计算。
- en: Getting approval on the format of the design matrix
  id: totrans-58
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 获取设计矩阵格式的批准
- en: Real-life implementations differ from experimenting with ready-to-use downloadable
    datasets. Information does not come easy in corporations.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 现实中的实施与使用现成的可下载数据集进行实验不同。企业中的信息获取并不容易。
- en: 'In this example, in a real-life situation, let''s suppose:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，在实际情况中，假设：
- en: The bot number is not stored in the mainframe, but in the local system that
    manages the AGVs.
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器人编号不存储在主机中，而是存储在管理AGV的本地系统中。
- en: In the mainframe, there is a start time, which is when an AGV picks up its load
    at the location, and an end time when it reaches the pier.
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在主机中，有一个开始时间，即AGV在位置上提取货物的时间，和一个结束时间，即它到达码头的时间。
- en: The location can be obtained in the mainframe as well as the pier.
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 位置可以在主机中获得，也可以在码头获取。
- en: No distance is recorded.
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不记录距离。
- en: It would be necessary to have access to the data in the AGV's local system to
    retrieve the AGV number and correlate it with the data in the mainframe.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 必须访问AGV本地系统中的数据，以提取AGV编号，并将其与主机中的数据关联。
- en: 'However, things are not so simple in a large organization. For example:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在一个大型组织中，事情并不像看起来那么简单。例如：
- en: Retrieving data from the AGV guiding system might not be possible this fiscal
    year. Those vehicles are expensive, and no additional budget can be allocated.
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从AGV引导系统中提取数据在本财年内可能无法实现。那些车辆很昂贵，无法分配额外的预算。
- en: Nobody knows the distance from a location to a pier. As long as the AGVs deliver
    the right products on time at the right piers, nobody so far has been interested
    in distances.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有人知道从一个位置到码头的距离。只要AGV能准时将正确的产品送到正确的码头，迄今为止没有人关心距离问题。
- en: The AGV mission codes in the mainframe are not the same as in the local AGV
    guiding system, so they cannot be merged into a dataset without development.
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主机中的AGV任务代码与本地AGV引导系统中的代码不同，因此在没有开发的情况下无法将其合并到数据集中。
- en: An AI project, like any other project, can slip away in no time. If a project
    comes to a standstill, it might just be shelved. Designing datasets requires imagination
    and responsiveness.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 一个AI项目，像任何其他项目一样，可以在短时间内失去动力。如果一个项目停滞不前，它可能就会被搁置。设计数据集需要想象力和应变能力。
- en: Keeping an AI project alive means moving quickly.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 让一个AI项目保持活力意味着要快速推进。
- en: If the project does not move quickly, it will lose momentum. The actors of the
    project will turn to other projects that are moving more quickly for their company
    and their careers.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 如果项目进展不快，它将失去动力。项目的参与者将转向其他进展更快的项目，以推动他们的公司和职业发展。
- en: Suppose your project stops because nobody can provide the distances you need
    to build your model. If you have the start time, end time, and speed, then you
    can work around the problem and calculate the distances yourself. If your team
    does not find this solution quickly, then the project will be at a standstill.
    The top management will say that the team costs too much to be focused on a project
    that is not moving ahead, no matter what. The project can be shelved right then
    and there.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你的项目停滞了，因为没有人能提供你需要的距离数据来构建模型。如果你有开始时间、结束时间和速度，那么你可以绕过这个问题，自己计算距离。如果你的团队没有迅速找到这个解决方案，项目就会陷入停滞。高层管理会说，团队的成本太高，不应该继续专注于一个停滞不前的项目，无论如何，这个项目可能会马上被搁置。
- en: Dimensionality reduction will not only help the AI model; it will also make
    it easier to gather information.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 降维不仅能帮助AI模型，它还会使信息收集变得更为容易。
- en: Dimensionality reduction
  id: totrans-75
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 降维
- en: Dimensionality reduction can be applied to reduce the number of features in,
    for example, an image. Each pixel of a 3D image, for example, is linked to a neuron,
    which in turn brings the representation down to a 2D view with some form of function.
    For example, converting a color image into shades of a now-gray image can do the
    trick. Once that is done, simply reducing the values to, for example, 1 (light)
    or 0 (dark), makes it even easier for the network. Using an image converted to
    0 and 1 pixels makes some classification processes more efficient, just like when
    we avoid a car on the road. We just see the object and avoid it.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 降维可以应用于减少图像中的特征数。例如，3D图像的每个像素都与一个神经元相连，这个神经元通过某种函数将表示转换成2D视图。例如，将彩色图像转换为灰色图像的不同灰度即可完成此操作。完成后，只需将数值减少到例如1（亮）或0（暗），就能更轻松地进行网络处理。使用转换为0和1像素的图像可以使某些分类过程更加高效，就像我们在路上避开一辆车一样。我们只是看到了那个物体并避开它。
- en: We perform dimensionality reduction all day long. When you walk from one office
    to another on the same floor of a building requiring no stairs or an elevator,
    you are not thinking that the Earth is round and that you're walking over a slight
    curve.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 我们整天都在做降维。当你在同一楼层的两间办公室之间走动时，你不需要爬楼梯或乘电梯，你并不会想着地球是圆的，你正在走在一条微微弯曲的路径上。
- en: You have performed a **dimensionality reduction**. You are also performing a
    **manifold** operation. It means that locally, on that floor, you do not need
    to worry about the global roundness of the Earth. Your manifold view of the Earth
    in your dimensionality reduction representation is enough to get you from your
    office to another one on that floor.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经执行了**降维**操作。你也在执行**流形**操作。这意味着在本楼层的局部区域，你不需要担心地球的全球曲率。在你的降维表示中的流形视图已经足够让你从办公室走到楼层的另一间办公室。
- en: When you pick up your cup of coffee, you focus on not missing it and aiming
    for the edges of it. You don't think about every single **feature** of that cup,
    such as its size, color, decoration, diameter, and the exact volume of coffee
    in it. You identify the edge of the cup and pick it up. That is dimensionality
    reduction. Without dimensionality reduction, nothing can be accomplished. It would
    take you 10 minutes to analyze the cup of coffee and pick it up in that case!
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '当你拿起咖啡杯时，你会专注于不把它弄掉，并瞄准杯子的边缘。你不会思考杯子的每一个**特征**，比如它的大小、颜色、装饰、直径以及杯子里咖啡的确切容量。你只是识别杯子的边缘并拿起它。这就是降维。没有降维，什么也做不成。在那种情况下，你可能需要10分钟才能分析杯子并把它拿起来！  '
- en: When you pick that cup of coffee up, you test to see whether it is too hot,
    too cold, or just fine. You don't put a thermometer in the cup to obtain the precise
    temperature. You have again performed a dimensionality reduction of the features
    of that cup of coffee. Furthermore, when you picked it up, you computed a manifold
    representation by just observing the little distance around the cup, reducing
    the dimension of information around you. You are not worrying about the shape
    of the table, whether it was dirty on the other side, and other features.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '当你拿起那杯咖啡时，你会测试它是否过热、过冷，还是正好。你不会往杯子里放一个温度计来精确测量温度。你再次进行了降维操作，忽略了那杯咖啡的其他特征。此外，当你拿起杯子时，你通过仅观察杯子周围的小范围距离来计算一个流形表示，从而减少了周围信息的维度。你不会担心桌子的形状，或者桌子另一侧是否脏了等其他特征。  '
- en: ML and DL techniques such as dimensionality reduction can be viewed as tools
    and can be used in any field to speed up calculation times.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '机器学习（ML）和深度学习（DL）技术，如降维，可以被视为工具，能够在任何领域中加速计算过程。  '
- en: 'Although we often relate dimensionality reduction to ML and DL, dimensionality
    reduction is as old as mathematics and even humanity! Somebody, long ago, went
    to a beach and saw that the sun was beautiful. That person, for the first time
    in humanity, drew a circle in the sand. The circle was not in 3D like the sun,
    nor did it have color, but the humans around that person were astonished:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '尽管我们经常将降维与机器学习和深度学习相关联，但降维的概念与数学甚至人类历史一样古老！很久以前，有人去了海滩，看到了美丽的太阳。那个人第一次在人类历史上，在沙滩上画了一个圆圈。这个圆圈不像太阳那样具有三维效果，也没有颜色，但周围的人都感到震惊：  '
- en: A group of humans were watching the sun
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '一群人正在观察太阳  '
- en: A human took the color out
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '有人把颜色移除  '
- en: The human also took the 3D view out
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '这个人还把3D视图移除  '
- en: They represented the sun with a circle in a much smaller dimensional space
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '他们用一个圆圈在更小的维度空间中表示太阳  '
- en: The first mathematician was born!
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '第一位数学家诞生了！  '
- en: A k-means clustering algorithm provides an efficient way to represent the bot
    example we are dealing with in this chapter. Each location will form a cluster,
    as explained in the next section.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 'k-means聚类算法提供了一种高效的方法来表示我们在本章中处理的机器人示例。每个地点将形成一个聚类，下一节将对此进行解释。  '
- en: 'A workaround to the missing data problem would be to run the k-means clustering
    algorithm with the following data format:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '解决缺失数据问题的一种方法是使用以下数据格式运行k-means聚类算法：  '
- en: '| **Index** | **Location** | **Start from location: Timestamp: yyyy,mm,dd,hh,mm**
    | **End at location: Timestamp: yyyy,mm,dd,hh,mm** |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| **索引** | **位置** | **起始位置：时间戳：yyyy,mm,dd,hh,mm** | **结束位置：时间戳：yyyy,mm,dd,hh,mm**
    |'
- en: '| 001 |  |  |  |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| 001 |  |  |  |  '
- en: The volume of a training dataset
  id: totrans-92
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '训练数据集的体量  '
- en: In this model, we will focus on six locations to analyze. Six locations are
    chosen in the main warehouse with a group of truck loading points. Taking around
    5,000 examples into account, that should represent the work of all the 25 AGVs
    purchased by **AGI-AI** running 24 hours a day.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '在这个模型中，我们将专注于分析六个地点。六个地点选在主仓库内，靠近一组卡车装卸点。考虑到大约5,000个样本，这些样本应该代表**AGI-AI**公司购买的25辆AGV（自动导引车）全天24小时运行的工作情况。  '
- en: Now that we've talked about optimizing and controlling a dataset, let's move
    on to coming up with actual solutions. In the next section, we'll talk about implementing
    k-means clustering.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '现在我们已经讨论了如何优化和控制数据集，接下来让我们来讨论实际解决方案。在下一节中，我们将讲解如何实现k-means聚类。  '
- en: Implementing a k-means clustering solution
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '实施k-means聚类解决方案  '
- en: The dataset requires preprocessing to be converted into a prototype to prove
    the financial value of the project.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '数据集需要经过预处理，以便转换为一个原型，从而证明该项目的财务价值。  '
- en: Never implement an ML solution in a corporate environment without knowing how
    much profit it represents and the cost of getting the job done. Without profit,
    a company will not survive. ML, like any other investment, must provide a return
    on investment (ROI). In our case, ML will reduce the cost of transportation in
    the warehouse by reducing AGV distances.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在企业环境中，绝对不要实施机器学习解决方案，除非你知道它代表的利润和完成工作的成本。没有利润，公司无法生存。机器学习，像任何其他投资一样，必须提供投资回报率（ROI）。在我们的案例中，机器学习将通过减少AGV的行驶距离来降低仓库的运输成本。
- en: The vision
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 愿景
- en: 'The primary goal of an ML project involving bots can be summed up in one sentence:
    finding profit by optimizing bot activity. Achieving that goal will lead to obtaining
    a budget for a full-scale project.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 一个涉及机器人的机器学习项目的主要目标可以用一句话总结：通过优化机器人活动找到利润。实现这个目标将获得全面项目的预算。
- en: 'The data provided does not contain distances. However, an estimation can be
    made per location as follows:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 提供的数据不包含距离。然而，可以按位置估算距离，方法如下：
- en: distance = (end time – start time)/average speed of a bot
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 距离 = (结束时间 – 开始时间)/机器人平均速度
- en: The start location is usually a loading point near a pier in this particular
    warehouse configuration.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个特定的仓库配置中，起始位置通常是靠近码头的装载点。
- en: The data
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据
- en: 'The data provided contains start times *s*[t], end times *end*[t], and delivery
    locations. To calculate distances, we can use the following equation:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 提供的数据包含开始时间*s*[t]、结束时间*end*[t]和交付位置。为了计算距离，我们可以使用以下公式：
- en: '*d*[i](*ll*) = (*end*[t] – *s*[t])/*v*'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '*d*[i](*ll*) = (*end*[t] – *s*[t])/*v*'
- en: '*v* = velocity of the AGV per minute'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*v* = AGV每分钟的速度'
- en: '*end*[t] – *s*[t] is expressed in minutes'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*end*[t] – *s*[t]的单位是分钟'
- en: '*d*[i] = estimated distance an AGV has gone in a given time'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*d*[i] = 估计AGV在给定时间内走过的距离'
- en: 'A preprocessing program will read the initial file format and data and output
    a new file, `data.csv`, in the following reduced dimensionality format with two
    features:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 一个预处理程序将读取初始文件格式和数据，并输出一个新的文件，`data.csv`，其格式为具有两个特征的降维格式：
- en: '| **Distance** | **Location** |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| **距离** | **位置** |'
- en: '| 55 | 53 |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| 55 | 53 |'
- en: '| 18 | 17 |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| 18 | 17 |'
- en: Conditioning management
  id: totrans-113
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 预处理管理
- en: 'Data conditioning means preparing the data that will become the input of the
    system. **Poor conditioning** can have two outcomes:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 数据预处理意味着准备将作为系统输入的数据。**差的预处理**可能会产生两种结果：
- en: Bad data containing noise that makes no difference (large volumes and minor errors)
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 含有噪声的坏数据不会产生差异（大数据量和小错误）
- en: Bad data containing noise that makes a difference (regardless of volumes, the data
    influences the outcome)
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 含有噪声的坏数据会影响结果（无论数据量多大，数据都会影响最终结果）
- en: In this particular case, let's suppose that out of the 5,000 records provided
    for the dataset, 25 distances are not reliable. A 0.005% noise level should not
    be a problem. The amount of acceptable noise depends on each project. It cannot
    be an arbitrary figure.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个特定的例子中，假设在提供的5000条数据记录中，25个距离数据不可靠。0.005%的噪声水平不应成为问题。可接受的噪声量取决于每个项目，不能是一个随意的数字。
- en: Sometimes, noise will have a profound effect, and sometimes it will not. Suppose
    2,500 records out of 5,000 records contained noise. Maybe the 2,500 remaining
    records provide a sufficient variety of samples to produce a reliable result.
    In another case, maybe, 10 missing samples out of 5,000 records will stop a project
    because those 10 samples were the only ones of a special kind that could critically
    change the calculations.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，噪声会产生深远的影响，有时则不会。假设5000条记录中有2500条包含噪声，也许剩下的2500条记录提供了足够多样的样本，从而得出可靠的结果。另一方面，也许5000条记录中缺失了10个样本，这就可能导致项目无法进行，因为这10个样本是唯一能够影响计算结果的特殊类型。
- en: You will have to experiment and determine the level of acceptable noise for
    a given project.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要进行实验并确定给定项目的可接受噪声水平。
- en: Let's get our hands dirty and analyze the data.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们动手分析数据吧。
- en: 'The location numbers start at #1\. #1 is near the loading point of the products.
    The bot has to bring the products to this point. To be more precise, in this warehouse
    configuration, the bot goes and gets a box (or crate) of products and brings them
    back to location 1\. At location 1, humans check the products and package them.
    After that, humans carefully load the products in the delivery trucks.'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 位置编号从#1开始。#1靠近产品的装载点。机器人需要将产品带到这个位置。更准确地说，在这个仓库配置中，机器人去取一个箱子（或板条箱）并将其带回位置1。在位置1，人工检查产品并进行包装。之后，人工将产品小心地装载到送货卡车上。
- en: 'The distance from one location to the next is about 1 meter. For example, from
    location 1 to location 5, the distance is about 5 meters, or 5 m. Also, since
    all locations lead to location 1 for the AGVs in this model, the theoretical distances
    will be calculated from location 1\. To generalize the rule and define a distance
    *d*[i] for a location *lj* the calculation can be simplified:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 从一个位置到下一个位置的距离大约是 1 米。例如，从位置 1 到位置 5，距离约为 5 米或 5 m。此外，由于所有位置在这个模型中都会引导 AGV 到位置
    1，理论上的距离将从位置 1 开始计算。为了概括这个规则并定义位置 *lj* 的距离 *d*[i]，计算可以简化如下：
- en: '*d*[i](*lj*)=*lj*'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '*d*[i](*lj*) = *lj*'
- en: '*d*[i] is expressed in meters. Since the locations start at number 1 through
    *n*, the location number is equal to the approximate distance from the first location
    from which the bots depart.'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '*d*[i] 以米为单位表示。由于位置编号从 1 到 *n*，因此位置编号等于从机器人出发的第一个位置的近似距离。'
- en: Let us suppose that, looking at the data, it quickly appears that many distances
    are superior to their location numbers. That is strange because the distance should
    be about equal to the location. Thus, by reducing the number of dimensions and
    focusing on approximations of the main features, key concepts can be represented.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 假设通过查看数据，我们很快发现许多距离值大于它们的定位编号。这很奇怪，因为距离应该大致等于位置。因此，通过减少维度的数量并专注于主要特征的近似值，关键概念可以得到表达。
- en: The time has come to build a strategy and a program.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候建立一个策略和程序了。
- en: The strategy
  id: totrans-127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 策略
- en: 'As in all ML projects, there are key standard corporate guidelines that should
    not be avoided:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 就像所有机器学习项目一样，有一些关键的标准公司指南是不应忽视的：
- en: Quickly write a proof of concept (POC). A POC will prove that the ML solution
    will be efficient. In this case, bot activity will be visualized.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 快速编写一个概念验证（POC）。POC将证明机器学习解决方案的有效性。在这种情况下，机器人活动将被可视化。
- en: Check the results in detail.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 详细检查结果。
- en: Calculate the potential optimized profit with a solution that is yet to be found.
    Profit will justify the investment. The cost can be an indicator. But then cost
    reduction must be sufficient to increase profit by a significant rate for a given
    corporation.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算通过尚未找到的解决方案优化后的潜在利润。利润将证明投资是值得的。成本可以作为一个指标。但此后，成本的降低必须足够大，以显著提高给定公司的利润。
- en: Obtain approval with a solid case and obtain a green light for the project.
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供充分的案例来获得批准，并为项目争取绿灯。
- en: Now that our strategy is clear, we can choose a model. k-means clustering is
    a good algorithm to start with for this project. It will create clusters that
    almost literally represent the areas in which the AGVs should be located. By choosing
    simple dimensions, the visual representation is close enough to reality for a
    user to understand the calculations.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们的策略已经明确，我们可以选择一个模型。k-means 聚类是一个适合开始此项目的好算法。它将创建几个聚类，这些聚类几乎字面上代表了自动导引车（AGV）应当位于的位置区域。通过选择简单的维度，视觉表示足够接近现实，用户能够理解计算过程。
- en: The k-means clustering program
  id: totrans-134
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: k-means 聚类程序
- en: k-means clustering is a powerful unsupervised learning algorithm. We often perform
    k-means clustering in our lives. Take, for example, a lunch you want to organize
    for a team of about 50 people in an open space that can just fit those people.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: k-means 聚类是一种强大的无监督学习算法。我们在生活中经常进行 k-means 聚类。例如，假设你要为约50人的团队组织午餐，这个开放空间恰好能容纳这些人。
- en: Your friend and another friend first decide to set up a table in the middle.
    Your friend points out that the people in that room will form a big cluster *k*,
    and with only one table in the geometric center (or centroid) *c*, it will not
    be practical. The people near the wall will not have access to the main table,
    as shown in the following figure.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 你的朋友和另一位朋友首先决定在中间设立一张桌子。你的朋友指出，房间里的人会形成一个大的聚类 *k*，而只有一个位于几何中心（或质心） *c* 的桌子，这将不切实际。靠近墙壁的人将无法接触到主桌子，如下图所示。
- en: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/1table.png](img/B15438_04_01.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/1table.png](img/B15438_04_01.png)'
- en: 'Figure 4.1: A scenario where people try to cluster around a single table'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.1：人们尝试围绕一张桌子聚集的场景
- en: The people not close to the table (the rectangle in the middle) will not have
    easy access to the table.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 离桌子较远的人（图中间的矩形区域）将不容易接触到桌子。
- en: You now try two tables (centroids) *c*[1] and *c*[2] in various places for two
    clusters of people *k*[1] and *k*[2].
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在尝试在不同位置为两组人群 *k*[1] 和 *k*[2] 设置两个中心点（质心） *c*[1] 和 *c*[2]。
- en: The people *x*[1] to *x*[n] form a dataset *X*. When imagining *X*, it appears
    that the table is not in the right place.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 人群*x*[1]到*x*[n]构成了数据集*X*。当想象数据集*X*时，发现表格的位置不对。
- en: The best thing to do is to move a table *c*, and then estimate that the mean
    distance of the people (a subset of *X*) to the table will be about the same in
    their group or cluster *k*. The same is done for the other table. You draw a line
    with chalk on the floor to make sure that each group or cluster is at about the
    mean distance from its table.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 最好的做法是移动表格*c*，然后估算人群（*X*的一个子集）到该表格的平均距离将在其所在的组或聚类*k*内大致相同。其他表格也会按相同方式处理。你可以在地板上画一条线，以确保每个组或聚类与其表格的平均距离大致相同。
- en: 'This intuitive approach to k-means clustering can be summed up as follows:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 这种直观的k均值聚类方法可以总结如下：
- en: '**Step 1**: You have been drawing lines with chalk to decide which group (cluster
    *k*) each person *x* will be in, by looking at the mean distance from the table
    *c*.'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**步骤 1**：你已经用粉笔画线，决定每个人*x*将属于哪个组（聚类*k*），通过查看该人到表格*c*的平均距离。'
- en: '**Step 2**: You have been moving the tables around accordingly to optimize
    step 1.'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**步骤 2**：你已经根据需要调整了表格的位置，以优化步骤 1。'
- en: 'A Python program simulating a three-table model computed using k-means clustering
    would produce the following result:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 一个模拟使用k均值聚类计算的三表模型的Python程序将生成以下结果：
- en: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/3tables.png](img/B15438_04_02.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/3tables.png](img/B15438_04_02.png)'
- en: 'Figure 4.2: A three-table model computed by k-means clustering'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.2：通过k均值聚类计算出的三表模型
- en: Having provided an intuitive example, let's talk about the mathematical definition
    of k-means clustering.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在提供了直观的例子之后，接下来我们讨论k均值聚类的数学定义。
- en: The mathematical definition of k-means clustering
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: k均值聚类的数学定义
- en: Dataset *X* provides *N* points. These points or data points are formed by using
    distance as the *x*-axis in a Cartesian representation and the location as the
    *y*-axis in a Cartesian representation. This low-level representation is a white
    box approach, even if the data is processed and transformed by the algorithm.
    A white box approach is when the process is transparent, and we can actually see
    what the algorithm is doing. A black box is when an input goes into a system,
    and we will not be able to understand what the system did by just looking at the
    result.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集*X*提供了*N*个数据点。这些数据点是通过将距离作为笛卡尔坐标系中的*x*轴、位置作为*y*轴来表示的。即使数据经过算法处理和转换，这种低级别的表示方式仍然是一种白盒方法。白盒方法指的是过程透明，我们可以实际看到算法在做什么。黑盒方法则是输入进入系统后，我们仅凭结果无法理解系统的操作。
- en: However, high-level representations are required to represent more features
    through clusters. In that case, it will not be possible to see a direct link between
    the actual meanings and their ML representation. We will explore these high-dimensional
    representations in the chapters to come.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，高级表示方法需要通过聚类表示更多特征。在这种情况下，就无法直接看到实际意义与其机器学习表示之间的联系。我们将在接下来的章节中探讨这些高维表示。
- en: 'If you have one bot in location 1 as the first record of your file, it will
    be represented as *x* axis = 1 and *y* axis = 1 by the black dot, which is the
    data point, as shown in the following diagram:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的文件中第一条记录是位于位置1的机器人，它将通过黑点表示为*x*轴=1，*y*轴=1，如下图所示：
- en: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/05/B09946_06_2.jpg](img/B15438_04_03.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/05/B09946_06_2.jpg](img/B15438_04_03.png)'
- en: 'Figure 4.3: Cartesian representation'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.3：笛卡尔坐标表示
- en: 'In this example, 5,000 records are loaded from `data.csv`, which is in the
    same directory as the program. The data is unlabeled with no linear separation.
    The goal is to allocate the *X* data points to *K* clusters. The number of clusters
    is an input value. Each cluster will have its geometric center or centroid. If
    you decide to have three clusters *K*, then the result will be as follows:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，5,000条记录从`data.csv`中加载，文件与程序位于同一目录下。这些数据没有标签，且没有线性可分。目标是将*X*数据点分配到*K*个聚类中。聚类的数量是输入值。每个聚类将有其几何中心或质心。如果你决定使用三个聚类*K*，那么结果将如下所示：
- en: Three clusters *K* in three colors in a visual representation
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三个聚类*K*，在视觉表示中采用三种颜色
- en: Three geometric centers or centroids representing the center of the mean of the
    sum of distances of *x* data points of that cluster
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三个几何中心或质心，表示该簇中 *x* 数据点的距离之和的平均中心
- en: If you decide on six clusters, then you will obtain six centroids, and so on.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你决定有六个簇，那么你将得到六个质心，依此类推。
- en: 'Described in mathematical terms, the formula in respect of ![](img/B15438_04_002.png),
    ![](img/B15438_04_003.png) is as follows:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 用数学术语描述，关于 ![](img/B15438_04_002.png)， ![](img/B15438_04_003.png) 的公式如下：
- en: '![](img/B15438_04_004.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_04_004.png)'
- en: The sum of each *k* (cluster) from 1 to the number of clusters *K* of the sum
    of all distances of members *x*[i] to *x*[n] of each cluster *K* from their position
    to the geometric center (centroid) ![](img/B15438_04_005.png) must be minimized.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 每个 *k*（簇）的成员 *x*[i] 到 *x*[n] 的每个簇 *K* 的位置到几何中心（质心） ![](img/B15438_04_005.png)
    的所有距离之和，必须最小化。
- en: The smaller the distance from each member *x* to centroid ![](img/B15438_04_005.png),
    the more the system is optimized. Note that the distance is squared each time
    because this is a Euclidean distance in this version of the algorithm.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 每个成员 *x* 到质心 ![](img/B15438_04_005.png) 的距离越小，系统就越优化。请注意，距离每次都会平方，因为这是算法版本中的欧几里得距离。
- en: 'The Euclidean distance, in one dimension, is the distance between two points,
    *x* and *y*, for example, expressed as follows:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在一维情况下，欧几里得距离是两个点 *x* 和 *y* 之间的距离，例如，可以表达如下：
- en: '![](img/B15438_04_007.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_04_007.png)'
- en: The distance between *x* and *y* expressed in Euclidean distance is not the
    real distance that an AGV will actually travel inside a warehouse. The model in
    the chapter was built so that the distances would remain sufficiently realistic
    to make good clusters and improve the organization of the warehouse. It's sufficient
    because an AGV will often go in nearly straight lines from a pier to the closest
    aisle and then to a storage point, for example.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 用欧几里得距离表示的 *x* 和 *y* 之间的距离，并不是一个自动导引车（AGV）在仓库内实际行驶的距离。本章中构建的模型是为了确保距离足够现实，以便形成良好的簇并改善仓库的组织结构。这是足够的，因为
    AGV 经常会从一个货位直线行驶到最近的走道，再到存储点，例如。
- en: To calculate the actual distances, we often use Manhattan distances. Manhattan
    distances are taxi-cab distances. You calculate the distance up a block then to
    the left, for example, another block and so on, adding the distances along the
    way. This is because you can't drive through the buildings.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 为了计算实际的距离，我们常常使用曼哈顿距离。曼哈顿距离是出租车的行驶距离。例如，你先沿着一个街区走，再向左走另一个街区，依此类推，沿途加总各段距离。这是因为你不能穿过建筑物。
- en: In our case, it would be like saying that a taxi-cab can only, more or less,
    drive up and down a given avenue, like a bus, and avoid turning right or left.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的情况下，就像说出租车只能在某个大街上大致上下行驶，像公交车一样，避免右转或左转。
- en: We will use Lloyd's algorithm with Euclidean distances to estimate the clusters
    that AGVs will have to stay in to avoid wandering.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用欧几里得距离的 Lloyd 算法来估算 AGV 必须保持的簇，以避免它们四处游走。
- en: Lloyd's algorithm
  id: totrans-170
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Lloyd 算法
- en: There are several variations of Lloyd's algorithm. But all of them follow a
    common philosophy.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: Lloyd 算法有几种变体。但所有变体都遵循一个共同的哲学。
- en: For a given *x*[n] (data point), the distance from the centroid ![](img/B15438_04_005.png)
    in its cluster must be less than going to another center, just like how a person
    in the lunch example wants to be closer to one table rather than having to go
    far to get a sandwich because of the crowd.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 对于给定的 *x*[n]（数据点），其簇中质心 ![](img/B15438_04_005.png) 与其他中心的距离必须小于去其他中心的距离，就像在午餐例子中，一个人希望靠近一张桌子，而不是因为人群拥挤而远去拿三明治。
- en: 'The best centroid ![](img/B15438_04_005.png) for a given *x*[n] is as follows:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 对于给定的 *x*[n]，最佳质心 ![](img/B15438_04_005.png) 如下所示：
- en: '![](img/B15438_04_010.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_04_010.png)'
- en: This calculation is done for all ![](img/B15438_04_005.png) (centroids) in all
    the clusters from *k*[1] to *K*.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 这个计算对于所有簇 *k*[1] 到 *K* 中的所有质心 ![](img/B15438_04_005.png) 都会进行。
- en: Once each *x*[i] has been allocated to a *K*[k], the algorithm recomputes ![](img/B15438_04_005.png)
    by calculating the means of all the points that belong to each cluster and readjusts
    the centroid ![](img/B15438_04_013.png).
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦每个 *x*[i] 被分配到一个 *K*[k]，算法就会重新计算 ![](img/B15438_04_005.png)，方法是计算每个簇中所有点的均值，并重新调整质心
    ![](img/B15438_04_013.png)。
- en: We've now covered all of the concepts that we need to begin coding. Let's get
    into the Python program!
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经涵盖了开始编码所需的所有概念。让我们开始编写 Python 程序吧！
- en: The Python program
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Python 程序
- en: '`k-means_clustering_1.py`, the Python program, uses the `sklearn` library,
    `pandas` for data analysis (only used to import the data in this program), and
    `matplotlib` to plot the results as data points (the coordinates of the data)
    and clusters (data points classified in each cluster with a color). First, the
    following models are imported:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '`k-means_clustering_1.py` 这个 Python 程序使用了 `sklearn` 库，`pandas` 进行数据分析（在本程序中仅用于导入数据），以及
    `matplotlib` 用于绘制结果，展示数据点（数据的坐标）和聚类（每个聚类中被分类的数据点及其颜色）。首先，以下模型被导入：'
- en: '[PRE0]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Next, we'll go through the stages of implementing k-means clustering.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将逐步介绍实现 k-means 聚类的各个阶段。
- en: 1 – The training dataset
  id: totrans-182
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 1 – 训练数据集
- en: 'The training dataset consists of 5,000 lines. The first line contains a header
    for maintenance purposes (data checking), which is *not* used. k-means clustering
    is an **unsupervised learning** algorithm, meaning that it classifies unlabeled
    data into cluster-labeled data to make future predictions. The following code
    displays the dataset:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 训练数据集包含 5000 行。第一行包含一个用于维护的标题（数据检查），但该行 *不* 被使用。k-means 聚类是一种 **无监督学习** 算法，意味着它将未标记的数据分类为带有聚类标签的数据，以进行未来预测。以下代码展示了数据集：
- en: '[PRE1]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The `print(dataset)` line can be useful (though not necessary) to check the
    training data during a prototype phase or for maintenance purposes. The following
    output confirms that the data was correctly imported:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '`print(dataset)` 这一行可以在原型阶段或维护过程中用于检查训练数据（虽然不是必须的）。以下输出确认数据已正确导入：'
- en: '[PRE2]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 2 – Hyperparameters
  id: totrans-187
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2 – 超参数
- en: '**Hyperparameters** determine the behavior of the computation method. In this
    case, two hyperparameters are necessary:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '**超参数**决定了计算方法的行为。在这种情况下，需要两个超参数：'
- en: The `k` number of clusters that will be computed. This number can and will be
    changed during the case study meetings to find out the best organization process,
    as explained in the next section. After a few runs, we will intuitively set `k`
    to `6`.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`k` 将被计算的聚类数量。这个数字可以并且将在案例研究会议中进行调整，以找出最佳的组织过程，如下节所述。经过几次运行后，我们将直观地将 `k` 设置为
    `6`。'
- en: 'The *f*-number of features that will be taken into account. In this case, there
    are two features: distance and location.'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*f* – 将被考虑的特征数量。在这种情况下，有两个特征：距离和位置。'
- en: 'The program implements a k-means function, as shown in the following code:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 程序实现了一个 k-means 函数，如下代码所示：
- en: '[PRE3]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Note that the `Features` hyperparameter is commented. In this case, the number
    of features is implicit and determined by the format of the training dataset,
    which contains two columns.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，`Features` 超参数已被注释。在这种情况下，特征的数量是隐式的，并且由训练数据集的格式决定，该数据集包含两列。
- en: 3 – The k-means clustering algorithm
  id: totrans-194
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3 – k-means 聚类算法
- en: '`sklearn` now does the job using the training dataset and hyperparameters in
    the following lines of code:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '`sklearn` 现在使用训练数据集和以下代码行中的超参数完成这项工作：'
- en: '[PRE4]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The `gcenters` array contains the geometric centers or centroids and can be
    printed for verification purposes, as shown in this snippet:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '`gcenters` 数组包含几何中心或质心，可以打印出来以进行验证，如下代码片段所示：'
- en: '[PRE5]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: These geometric centers need to be visualized with labels for decision-making
    purposes.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 这些几何中心需要通过标签进行可视化，以便用于决策。
- en: 4 – Defining the result labels
  id: totrans-200
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4 – 定义结果标签
- en: 'The initial unlabeled data can now be classified into cluster labels, as shown
    in the following code:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 初始的未标记数据现在可以被分类为聚类标签，如以下代码所示：
- en: '[PRE6]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Colors can be used for semantic purposes beyond nice display labels. A color
    for each top customer or leading product can be assigned, for example.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色可以用于超越简单显示标签的语义目的。例如，可以为每个主要客户或领先产品分配一种颜色。
- en: 5 – Displaying the results – data points and clusters
  id: totrans-204
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5 – 显示结果 – 数据点和聚类
- en: 'To make sense to a team or management, the program now prepares to display
    the results as **data points** and **clusters**. The data will be represented
    as coordinates and the clusters as colors with a **geometric center** or **centroid**,
    as implemented in this code:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使团队或管理层能够理解，程序现在准备将结果显示为 **数据点** 和 **聚类**。数据将以坐标的形式表示，而聚类则以颜色表示，每个聚类都有一个 **几何中心**
    或 **质心**，如以下代码所实现：
- en: '[PRE7]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The dataset is now ready to be analyzed. The data has been transformed into
    data points (Cartesian points) and clusters (the colors). The *x* points represent
    the geometric centers or centroids, as shown in the following screenshot:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集现在已经准备好进行分析。数据已被转换为数据点（笛卡尔坐标点）和聚类（颜色）。*x* 点代表几何中心或质心，如下图所示：
- en: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/KMeansClusters.jpg](img/B15438_04_04.png)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/KMeansClusters.jpg](img/B15438_04_04.png)'
- en: 'Figure 4.4: Output (data points and clusters)'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.4：输出（数据点和集群）
- en: Test dataset and prediction
  id: totrans-210
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 测试数据集和预测
- en: 'In this case, the test dataset has two main functions. First, some test data
    confirms the **prediction** level of the trained and now-labeled dataset. The
    input contains random distances and locations. The following code implements the
    output that predicts which cluster the data points will be in:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，测试数据集有两个主要功能。首先，一些测试数据验证了训练后并已标记数据集的**预测**水平。输入数据包含随机距离和位置。以下代码实现了预测数据点所属集群的输出：
- en: '[PRE8]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The second purpose, in the future, will be to enter data for **decision-making**
    purposes, as explained in the next section.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个目的，将是在未来为**决策**目的输入数据，如下节所述。
- en: Saving and loading the model
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保存和加载模型
- en: 'In this section, `k-means_clustering_1.py` will save the model using Pickle.
    Pickle, a Python library, saves the model in a serialized file, as shown at the
    end of the program:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，`k-means_clustering_1.py`将使用Pickle保存模型。Pickle是一个Python库，将模型保存在一个序列化文件中，如程序结尾所示：
- en: '[PRE9]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The Python Pickle module is imported in the header of the program:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: Python的Pickle模块在程序头部导入：
- en: '[PRE10]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Now, the model, `kmeans`, is saved in a file named `kmc_model.sav`.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，模型`kmeans`已保存为名为`kmc_model.sav`的文件。
- en: 'To test this model, we will now open `k-means_clustering_2.py` to load the
    model without any training involved and make predictions:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试该模型，我们现在打开`k-means_clustering_2.py`，加载模型并进行预测，而不涉及任何训练：
- en: '[PRE11]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '`kmc_model.save` is loaded and plugged into a classifier called `kmeans`.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '`kmc_model.save`被加载并插入到名为`kmeans`的分类器中。'
- en: '`x_test` same test data as in `k-means_clustering_1.py`:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '`x_test`与`k-means_clustering_1.py`中的测试数据相同：'
- en: '[PRE12]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'We now run and display the predictions:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们运行并展示预测结果：
- en: '[PRE13]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The predictions are the same as in `k-means_clustering_1.py`:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 预测结果与`k-means_clustering_1.py`中的相同：
- en: '[PRE14]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Each prediction is an output cluster number from 0 to 5 of the corresponding
    coordinates used as input. For example, [40.0,67] is a part of cluster #0.'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 每个预测是一个输出集群编号，从0到5，对应于作为输入的坐标。例如，[40.0,67]属于集群#0。
- en: The next step is to analyze the results.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是分析结果。
- en: Analyzing the results
  id: totrans-231
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分析结果
- en: The following image shows the gain zone. The gain zone is the zone in which
    the distances exceed the value 80.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图像显示了收益区。收益区是距离超过80的区域。
- en: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/KMeansClusters_2.jpg](img/B15438_04_05.png)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/KMeansClusters_2.jpg](img/B15438_04_05.png)'
- en: 'Figure 4.5: Gain zone area'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.5：收益区
- en: The gain zone area provides useful information.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 收益区提供了有用的信息。
- en: From the computations made, that gain zone shows the losses made on the locations
    displayed. It takes a sample of the possible locations into account. 10% of the
    total distance could be saved.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 根据计算结果，收益区显示了在展示位置上的损失。它考虑了可能位置的样本。总距离的10%可能会被节省。
- en: The cause is that the bots are not going directly to the right locations, but
    are *wandering* around unplanned obstacles.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 原因在于机器人并没有直接前往正确的位置，而是*在未规划的障碍物周围徘徊*。
- en: The average distance from one location to another is 1 meter. The AGVs all start
    from location 0 or 1\. So the distance is strictly proportional to the locations
    in this particular example.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 从一个位置到另一个位置的平均距离是1米。自动导引车（AGV）都从位置0或1开始。因此，在这个特定示例中，距离与位置严格成正比。
- en: To find the gain zone of a location, you draw a red horizontal line from location
    80, for example, and a vertical line from a distance 80 (add a couple of meters
    to take small variances into account).
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 要找出某个位置的收益区，您可以从位置80画一条红色水平线，并从距离80画一条垂直线（可以加上几米来考虑小的变化）。
- en: Data analysis is made easier by data visualization. Visualizing the clusters
    makes it easier for management to understand the outputs and make decisions.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 数据可视化使得数据分析变得更加简便。通过可视化集群，管理层更容易理解输出结果并做出决策。
- en: None of the data points on the 80-location line should be beyond the maximum
    limit. The limit is 80 meters + a small variance of a few meters. Beyond that
    line, on the right-hand side of the figure, is where the company is losing money,
    and something must be done to optimize the distances. This loss zone is the gain
    zone for a project. The gain zone on the k-means cluster results shows that some
    of the locations of 40 to 60 exceed a distance of 80 meters.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 80位置线上的任何数据点都不应超过最大限制。该限制为80米 + 几米的小偏差。在该线的右侧，公司正在损失资金，必须采取措施优化距离。这个损失区域是项目的收益区域。k均值聚类结果显示，40到60位置的一些位置超过了80米的距离。
- en: Bot virtual clusters as a solution
  id: totrans-242
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 作为解决方案的机器人虚拟集群
- en: Planners anticipate bot tasks. They send them to probable locations from which
    they will have to pick up products and bring them back to the truck-loading points.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 规划者预计机器人任务。他们将它们发送到可能的位置，从那里他们将不得不接收产品并将其带回卡车装载点。
- en: In the following example, we will take the example of AGVs that are assigned
    to a cluster area for locations 40 to 60\. If an AGV goes further, up to location
    70, for example, a penalty of 10 virtual (estimated) meters is added to its performance.
    It is easy to check. If an AGV is detected at location 70, it is out of its area.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的示例中，我们将以分配给位置40到60区域的AGV为例。例如，如果AGV进一步到达70位置，那么其性能将增加10虚拟（估计）米的惩罚。这很容易检查。如果检测到AGV位于70位置，则它已经超出了其区域。
- en: The business rule for the AGV assigned to locations 40 to 60 is that it must
    never exceed location 60\. If the software planning the events works well, it
    will never assign the AGV to an area exceeding location 60\. Business rules must
    thus be provided to the planners.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 分配给位置40到60的AGV的业务规则是，它不能超过60位置。如果计划事件的软件运行良好，它将不会分配AGV到超过60位置的区域。因此，必须向规划者提供业务规则。
- en: 'One of the solutions is to provide AGV virtual clusters as a business rule,
    as shown in the following screenshot:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案之一是提供AGV虚拟集群作为业务规则，如下截图所示：
- en: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/KMeansClusters3.jpg](img/B15438_04_06.png)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![https://packt-type-cloud.s3.amazonaws.com/uploads/sites/2134/2018/02/KMeansClusters3.jpg](img/B15438_04_06.png)'
- en: 'Figure 4.6: AGV virtual clusters'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.6：AGV虚拟集群
- en: 'The rules are as follows:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 规则如下：
- en: '**Rule 1**: The line in the middle represents a new business rule. In phase
    1 of the project, an AGV used for locations 40 to 60 cannot go beyond 60 meters
    plus a small variance line.'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规则 1**：中间的线代表一个新的业务规则。在项目的第一阶段，用于位置40到60的AGV不能超过60米加一个小的偏差线。'
- en: '**Rule 2**: A cluster will represent the pick-up zone for an AGV. The centroid
    will now be its parking zone. Distances will be optimized until all the clusters
    respect rule 1\. If rule 1 is not followed, the AGVs will travel unnecessary distances,
    increasing the overall cost of transporting goods in the warehouse.'
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规则 2**：一个集群将代表AGV的取货区。质心现在将是其停车区。直到所有集群都遵守规则1为止，将优化距离。如果不遵循规则1，则AGV将行驶不必要的距离，增加了仓库中货物运输的总成本。'
- en: The limits of the implementation of the k-means clustering algorithm
  id: totrans-252
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: k均值聚类算法的实施限制
- en: 'In this chapter, an example was explored. When the volumes increase, the features
    reach high-level abstract representations, and noise pollutes the data, humans
    face several problems:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，探索了一个示例。随着体积的增加，特征达到高级抽象表示，并且噪声污染数据，人类面临几个问题：
- en: How do we analyze a result that surpasses human analytical capacity?
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何分析超出人类分析能力的结果？
- en: Is the algorithm reliable for larger datasets that may contain features that
    were overlooked?
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于可能包含被忽视的特征的更大数据集，该算法是否可靠？
- en: In *Chapter 5*, *How to Use Decision Trees to Enhance k-Means Clustering*, we
    will explore these problems and find solutions.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 在第5章《如何使用决策树增强k均值聚类》中，我们将探讨这些问题并找到解决方案。
- en: Summary
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: Up to this point, we have explored Python with the NumPy, TensorFlow, scikit-learn,
    pandas, and Matplotlib libraries. More platforms and libraries will be used in
    this book. In the months and years to come, even more languages, libraries, frameworks,
    and platforms will appear on the market.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经使用了Python的NumPy、TensorFlow、scikit-learn、pandas和Matplotlib库进行了探索。本书将使用更多的平台和库。在未来的几个月和几年里，市场上将出现更多的语言、库、框架和平台。
- en: '*However, AI is not only about development techniques*. Building a k-means
    clustering program from scratch requires careful planning. The program relies
    on data that is rarely available as we expect it. That''s where our imagination
    comes in handy to find the right features for our datasets.'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '*然而，AI不仅仅是关于开发技术*。从零开始构建一个k-means聚类程序需要仔细的规划。该程序依赖于我们期望的、但往往难以获得的数据。这时，我们的想象力就显得格外重要，用来为我们的数据集找到合适的特征。'
- en: Once the dataset has been defined, poor conditioning can compromise the project.
    Some small changes in the data will lead to incorrect results.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦数据集被定义，数据条件不良可能会危及项目。一些数据的小变化会导致错误的结果。
- en: Preparing the training dataset from scratch takes much more time than we would
    initially expect. AI was designed to make life easier, but that's after a project
    has been successfully implemented. The problem is that building a solution requires
    major dataset work and constant surveillance.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 从零开始准备训练数据集比我们最初预期的要花费更多时间。AI的设计初衷是为了让生活更轻松，但那是在项目成功实施之后。问题在于，构建一个解决方案需要大量的数据集工作和持续的监控。
- en: Then comes the hard work of programming a k-means clustering solution that must
    be explained to a team. Lloyd's algorithm comes in very handy to that effect by
    reducing development time.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 然后就到了编写k-means聚类解决方案的艰苦工作，这需要向团队解释。Lloyd算法通过减少开发时间在这方面非常有用。
- en: In the next chapter, *When and How to Use Artificial Intelligence*, we will
    seek solutions to the limits of k-means clustering problems through dataset techniques.
    We will also explore random forests and enter the world of ensemble meta-algorithms,
    which will provide assisted AI to humans to analyze machine thinking.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章，*何时以及如何使用人工智能*，我们将通过数据集技术寻找解决k-means聚类问题的方案。我们还将探索随机森林，并进入集成元算法的世界，这将为人类提供辅助AI，以分析机器思维。
- en: Questions
  id: totrans-264
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Can a prototype be built with random data in corporate environments? (Yes |
    No)
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在企业环境中，是否可以使用随机数据构建原型？（是 | 否）
- en: Do design matrices contain one example per matrix? (Yes | No)
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设计矩阵是否包含每个矩阵一个示例？（是 | 否）
- en: AGVs can never be widespread. (Yes | No)
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: AGV永远不会普及。（是 | 否）
- en: Can k-means clustering be applied to drone traffic? (Yes | No)
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: k-means聚类能应用于无人机交通吗？（是 | 否）
- en: Can k-means clustering be applied to forecasting? (Yes | No)
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: k-means聚类能应用于预测吗？（是 | 否）
- en: Lloyd's algorithm is a two-step approach. (Yes | No)
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Lloyd算法是一种两步走的方法。（是 | 否）
- en: Do hyperparameters control the behavior of the algorithm? (Yes | No)
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 超参数是否控制算法的行为？（是 | 否）
- en: Once a program works, the way it is presented does not matter. (Yes | No)
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦程序可以运行，展示方式就不再重要。（是 | 否）
- en: k-means clustering is only a classification algorithm. It's not a prediction
    algorithm. (Yes | No)
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: k-means聚类仅仅是一个分类算法。它不是预测算法。（是 | 否）
- en: Further reading
  id: totrans-274
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'The scikit-learn website contains additional information on k-means clustering:
    [http://scikitlearn.org/stable/modules/generated/sklearn.cluster.KMeans.html](http://scikitlearn.org/stable/modules/generated/sklearn.cluster.KMeans.html)'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: scikit-learn网站提供了关于k-means聚类的更多信息：[http://scikitlearn.org/stable/modules/generated/sklearn.cluster.KMeans.html](http://scikitlearn.org/stable/modules/generated/sklearn.cluster.KMeans.html)
- en: 'You can find Python''s data analysis library here: [https://pandas.pydata.org/](https://pandas.pydata.org/)'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以在这里找到Python的数据分析库：[https://pandas.pydata.org/](https://pandas.pydata.org/)
