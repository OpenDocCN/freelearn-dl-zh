- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Combining Reinforcement Learning and Deep Learning
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结合强化学习与深度学习
- en: Amazon is one of the world's leading e-retailers, with sales over US$ 250 billion.
    Amazon's e-store sales exceed all of its other activities, such as AWS subscription
    services (premium, for example), retail third-party seller services, and physical
    stores.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊是全球领先的电子零售商之一，销售额超过2500亿美元。亚马逊的电子商店销售额超过了其其他所有业务，如AWS订阅服务（例如高级服务）、零售第三方卖家服务以及实体店。
- en: This chapter focuses on apparel production activity, one of Amazon's markets
    for which the company recently registered a patent. Prime Wardrobe even offers
    a try-and-easy-return service. This new activity requires planning and scheduling.
    Amazon took the matter seriously and registered a patent for an apparel manufacturing
    system to control the production process of its apparel products.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章聚焦于服装生产活动，这是亚马逊最近为其市场之一注册的专利。Prime Wardrobe甚至提供试穿并轻松退货的服务。这一新活动需要进行规划和调度。亚马逊对此十分重视，并为服装制造系统控制其服装产品的生产过程注册了专利。
- en: Artificial intelligence already plays a role in automatic planning and scheduling
    in the apparel business, from customer orders through to delivery.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 人工智能已经在服装行业的自动化规划和调度中发挥作用，从客户订单到交付全过程都涵盖在内。
- en: Google has successfully combined deep learning and reinforcement learning (Q-learning)
    in a **deep Q-network** (**DQN**), a system that can beat humans at video games
    and other tasks. Google's AlphaGo DQN has obtained impressive results.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌成功地将深度学习与强化学习（Q学习）结合在一个**深度Q网络**（**DQN**）中，该系统能够在视频游戏和其他任务中超越人类。谷歌的AlphaGo
    DQN取得了令人印象深刻的成绩。
- en: In this chapter, we go beyond merely describing Amazon's process or Google's
    process in particular. I added on my real-life implementations of what we will
    explore and build in Python from scratch. As such, we will combine the ideas of
    several systems (Amazon, Google, and my implementations).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章不仅仅描述亚马逊的流程或特别是谷歌的流程。我还加入了我在现实生活中的实施案例，这些内容我们将从头开始使用Python进行探索和构建。因此，我们将结合多个系统（亚马逊、谷歌和我的实现）中的一些思想。
- en: We will add an innovation for the apparel manufacturing industry by adding a
    **conceptual representation learning metamodel** (**CRLMM**) to reinforcement
    learning.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过将**概念表示学习元模型**（**CRLMM**）添加到强化学习中，为服装制造业带来创新。
- en: We will go from scratch to a prototype that could be implemented on-site, the
    foundations are being established for further applications in the coming chapters.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从零开始，逐步构建一个可以在现场实施的原型，基础设施正在为接下来的章节中的更多应用奠定基础。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Planning and scheduling today and tomorrow
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 今天和明天的规划与调度
- en: Further generalization of the CRLMM described in *Chapter 10*, *Conceptual Representation
    Learning*, applied to an apparel production process
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进一步概括第*10章*中描述的CRLMM，应用于服装生产过程中的概念表示学习
- en: Feeding the CRLMM **convolutional neural network (CNN)** with a simulation of
    frames coming from a webcam on a production line
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为CRLMM的**卷积神经网络（CNN）**提供来自生产线摄像头的帧的模拟输入
- en: Introducing an optimizer that will use weights applied to production stations to
    input a reward matrix to a **Markov decision process (MDP)**, which will then
    update the weights
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 引入一个优化器，它将使用应用于生产站点的权重，通过奖励矩阵输入到**马尔可夫决策过程（MDP）**中，进而更新这些权重。
- en: Building a program that will run continuously (no beginning, no end) on a production
    line using all the three components mentioned previously
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建一个将在生产线中持续运行的程序（没有开始，也没有结束），并使用之前提到的三个组件。
- en: We'll begin by talking about planning and scheduling today and tomorrow. The
    market is slowing moving from preplanned processes to real-time processes. Let's
    see how.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从今天和明天的规划与调度开始。市场正从预定的流程慢慢转向实时流程。让我们看看具体是如何做到的。
- en: Planning and scheduling today and tomorrow
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 今天和明天的规划与调度
- en: 'When Amazon decided to launch Prime Wardrobe, it brought a new service to its
    customers, enabling them to order, try out, and purchase clothing, shoes, and
    other accessories. The customer can establish a purchase plan. A purchase plan
    is a list of tasks to be carried out in a given time. An example of a purchase
    plan could be:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 当亚马逊决定推出Prime Wardrobe时，它为客户带来了一个新服务，使他们能够订购、试穿并购买衣物、鞋子和其他配饰。客户可以建立一个购买计划。购买计划是一个在特定时间内需要完成的任务清单。购买计划的一个例子可能是：
- en: Filling a box with clothing
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将衣物放入箱子中
- en: Trying on the clothing at home
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在家试穿衣物
- en: Returning the clothing if it does not fit
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果衣物不合身，则退货
- en: Purchasing the items that are kept
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 购买保留的商品
- en: 'Once the customer agrees to follow this plan, the time sequence becomes crucial:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦客户同意按照这个计划进行，时间顺序变得至关重要：
- en: First, a box must be chosen.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 首先，必须选择一个盒子。
- en: Then, there is a delivery period.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，是一个配送期。
- en: Then, there is a trial period (you cannot try the products forever). During
    this period, the customer can choose not to purchase anything.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后是一个试用期（你不能永远试用产品）。在此期间，客户可以选择不购买任何商品。
- en: Finally, the customer confirms the purchase.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最终，客户确认购买。
- en: Irrespective of whether Amazon Prime Wardrobe will remain a service in years
    to come, the precedent is set; just as physical book stores disappear every year,
    shopping for clothing online will continue to expand and occupy more of the market.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 无论亚马逊Prime Wardrobe是否能在未来几年继续作为一项服务，先例已然设立；就像实体书店每年消失一样，在线购买服装将继续扩展，并占据更多市场份额。
- en: On top of that distribution, corporations will continue to expand their production
    sites to become manufacturing-distributing giants. Warehouses will progressively
    replace many stores as per the warehouse examples provided in some of the chapters in
    this book.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，企业将继续扩展其生产基地，成为制造与分销巨头。仓库将逐步取代许多商店，正如本书某些章节中所提供的仓库示例。
- en: '**Supply chain management (SCM)**, combined with APS, has become a necessity.
    SCM-APS constraints vary constantly on a global market (depending on the manufacturer).
    APS stands for advanced planning and scheduling or automated planning and scheduling.
    We will explore the difference between these two concepts in a following section,
    *A real-time manufacturing revolution*. We will go beyond Amazon''s approach to
    the subject since delivering in real-time has become a constraint for all of the
    actors on the market.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**供应链管理（SCM）**与APS相结合，已成为一种必需品。SCM-APS约束在全球市场上不断变化（取决于制造商）。APS代表先进的计划与调度或自动化的计划与调度。我们将在接下来的部分《实时制造革命》中探讨这两个概念的区别。我们将超越亚马逊对这一主题的处理，因为实时交付已成为市场上所有参与者的一个约束。'
- en: The pressure of the market has encouraged Amazon to produce its own clothing.
    Amazon has produced its in-house fashion labels with apparel and accessories sold
    worldwide.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 市场的压力促使亚马逊开始生产自有品牌服装。亚马逊已经推出了自有品牌的时尚标签，涵盖全球销售的服装和配饰。
- en: To prove that it means business, Amazon registered several patents, including
    one for a *blended reality mirror*, an apparel manufacturing system, and more.
    With a blended reality mirror, a person can visualize how the clothing will fit.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 为了证明其确实有意开展业务，亚马逊注册了多个专利，包括一项用于*混合现实镜子*、服装制造系统等的专利。有了混合现实镜子，顾客可以直观地看到衣物的合身效果。
- en: In the following sections, we will explore the planning and scheduling side
    of Amazon's apparel in-house manufacturing plans, which will have the same effect
    on apparel factories as it did on physical book stores and all types of shops.
    Many new jobs will emerge, such as hundreds of thousands of jobs in the artificial
    intelligence business, on websites, and in marketing and SCM. Many jobs will disappear
    as well. The improvements made will boost medical progress and also the defense
    industry. The social and economic implications are beyond the scope of this book,
    and possibly beyond our comprehension, as in all disruptive eras in the past.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分中，我们将深入探讨亚马逊服装自营生产计划的规划与调度方面，这将对服装工厂产生与以前对实体书店和所有类型商店相同的影响。许多新的工作将会出现，如人工智能领域、网站开发以及市场营销和SCM相关的数十万个工作岗位。同时，也将有许多工作消失。所做的改进将促进医疗进步，并且推动国防工业的发展。社会和经济的影响超出了本书的范围，可能也超出了我们的理解，就像历史上所有的颠覆性时代一样。
- en: We will focus in detail on the main aspects of Amazon's patented custom clothing
    process. As mentioned previously, irrespective of whether it proves successful,
    the precedent is set.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将详细关注亚马逊专利定制服装过程的主要方面。如前所述，无论是否成功，先例已经设定。
- en: A real-time manufacturing process
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实时制造过程
- en: Today, a customer wants to obtain a purchased product as soon as possible. If
    the waiting time is too long, the customer will go somewhere else. Delivering
    in nearly real-time has become a key concept in marketing for any company. Amazon's
    approach has always been real-time. Pushing the physical limits of centuries of
    commerce, Amazon's brand takes the manufacturing process right beyond the cutting
    edge.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 今天，客户希望尽快获得购买的产品。如果等待时间过长，客户会转向其他地方。几乎实时交付已成为任何公司营销的关键概念。亚马逊的方法一直是实时的。突破了数百年的商业物理限制，亚马逊的品牌将制造过程推向了前沿。
- en: Amazon must expand its services to face competition
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 亚马逊必须扩展其服务以应对竞争。
- en: Amazon could have avoided a great deal of upheaval if it continued to purchase
    products from its suppliers rather than manufacture them. Instead of researchers
    spending a great deal of time developing artificial intelligence capable of solving
    the conveyor belt problem, several sensors could be installed with traditional
    software solutions.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果亚马逊继续从供应商那里购买产品，而不是自己制造，可能会避免许多动荡。研究人员花费大量时间开发能够解决传送带问题的人工智能时，可以通过安装几个传感器并使用传统软件解决方案来实现。
- en: Humanity could also have continued to use horses instead of cars and paper instead
    of computers. In the short term, we would have avoided a great deal of work and
    change associated with the requirements and impacts of these technologies. However,
    in the long term, it is progress and innovation that wins out.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 人类本可以继续使用马匹代替汽车，使用纸张代替计算机。在短期内，我们可以避免与这些技术的要求和影响相关的大量工作和变革。然而，从长远来看，最终获胜的是进步和创新。
- en: Once a disruptive innovation has been successfully launched by a company, the
    competition must either follow suit or disappear. Amazon needs to continue to
    get involved in the process that comes before simply storing goods in its warehouses.
    By getting involved in manufacturing, for example, they can reduce the time it
    takes to deliver a product to a customer. Amazon thus came up with this apparel
    manufacturing patent along with 3D printers, and other innovations to increase
    its productivity.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦公司成功推出了一项颠覆性创新，竞争对手要么跟随，要么消失。亚马逊需要继续参与那些仅仅将商品存储在仓库之前的流程。例如，通过参与制造，亚马逊可以缩短将产品交付给客户所需的时间。于是，亚马逊提出了这项服装制造专利，并结合3D打印机等创新提高其生产力。
- en: In the same sense, the field of artificial intelligence needs to be pushed beyond
    its ever-expanding comfort zone constantly. Researchers must be confronted with
    difficult industrial problems to gain experience and produce new algorithms capable of
    achieving higher levels of machine learning and meeting greater challenges.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，人工智能领域也需要不断推动超越其不断扩展的舒适区。研究人员必须面临艰难的行业问题，积累经验，产生能够实现更高层次机器学习和应对更大挑战的新算法。
- en: A real-time manufacturing revolution
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 一场实时制造革命
- en: Artificial intelligence software, though spectacular, is not the only revolution
    that is changing our lives forever. In the 1950s and 1960s, the consumers were
    discovering the joy of purchasing new products such as dishwashers, color televisions,
    and cool radios. They were so happy to be able to obtain these products that they
    were willing to wait days if not weeks to obtain the exact model they dreamt of.
    The supplier could sit on an order for a few days and then get slowly to work.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管人工智能软件非常引人注目，但它并不是唯一改变我们生活的革命性技术。在1950年代和1960年代，消费者们正在发现购买新产品的乐趣，例如洗碗机、彩色电视和时尚收音机。他们为能够获得这些产品而感到无比高兴，以至于愿意等待几天甚至几周才能得到他们梦寐以求的具体型号。供应商可以将订单积压几天，然后再慢慢开始工作。
- en: Today the consumer has lost that patience. If somebody wants to buy a product
    online, it has to be delivered within days. If not, the consumer will turn to
    another supplier. This puts pressure on the supplier, who must immediately start
    the process of delivering. Real-time is that process of starting to get things
    done in the seconds you are notified of a request.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如今，消费者已经失去了那份耐心。如果某人想在线购买一件产品，它必须在几天内送到。如果不行，消费者就会转向其他供应商。这对供应商施加了压力，迫使其立即启动交付流程。实时性就是在你收到请求通知的几秒钟内开始着手完成事情的过程。
- en: Real-time is a strong force that is changing every process in the world.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 实时性是改变全球每一个过程的强大力量。
- en: Today, apparel manufacturing, and manufacturing in general, follow an advanced
    planning and scheduling process. "Advanced" means both a sophisticated algorithm
    and also an anticipating (planning in advance) process. The planning in advance
    aspect of AI algorithms is going through a revolution.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 今天，服装制造业以及一般制造业都遵循先进的规划与调度过程。“先进”既指复杂的算法，也指预见性的（提前计划的）过程。AI算法中提前规划的方面正在经历一场革命。
- en: Amazon, as all manufacturing processes, requires automated planning and scheduling
    to meet shortening delivery times.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊和所有制造过程一样，需要自动化规划和调度以满足缩短的交货时间。
- en: The fundamental difference between the two systems is the time factor, as shown
    in the following comparison table. The difference between an advanced and an automated
    system seems small, but Amazon, like others, will change the course of history
    through those differences. Both systems, in theory, can do both types of tasks.
    In practice, these methods will specialize in their niches in the years to come.
    To manufacture an airplane, a sophisticated *advanced* algorithm still needs to
    plan in *advance* (days to weeks) with a lot of manual decision making. To manufacture
    basic T-shirts, *automated* planning can be done quickly and automatically in
    real-time (seconds to hours)
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 两个系统的根本区别是时间因素，以下对比表中有所显示。先进系统和自动化系统之间的差异看似微小，但像亚马逊这样的公司将通过这些差异改变历史进程。理论上，两种系统都可以完成这两种任务。在实践中，这些方法将在未来几年里在各自的细分领域中专业化。制造飞机时，一个复杂的*先进*算法仍然需要提前*计划*（几天到几周），并且需要大量人工决策。制造基本的T恤时，*自动化*规划可以快速且自动地在实时中完成（秒到小时）。
- en: The trend of automated planning and scheduling is becoming a time-squashed version
    of advanced planning and scheduling.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 自动化规划与调度的趋势正成为先进规划与调度的压缩版。
- en: 'The figures in the following table do not reflect the exact numbers but the
    trends:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格中的数字并不反映准确的数值，而是反映趋势：
- en: '| **Function** | **Advanced planning and scheduling** | **Automated planning
    and scheduling** |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| **功能** | **先进的规划与调度** | **自动化的规划与调度** |'
- en: '| Long-term plan  | 1 month to 5 years | A few days to less than a month |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| 长期计划 | 1个月到5年 | 几天到不到一个月 |'
- en: '| Short-term plan | 1 day | 1 minute |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| 短期计划 | 1天 | 1分钟 |'
- en: '| Production or event measurement | Taken into account on a daily basis in
    general | Real-time |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| 生产或事件测量 | 一般每日考虑 | 实时 |'
- en: '| Scheduling | 1 hour to 1 week | Real-time |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| 调度 | 1小时到1周 | 实时 |'
- en: '| Re-planning when there is a problem | 1 hour to 1 month | Real-time |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| 有问题时的重新规划 | 1小时到1个月 | 实时 |'
- en: '| Re-scheduling | 1 hour to 1 week | Real-time |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| 重新调度 | 1小时到1周 | 实时 |'
- en: '| Resource adjustment | 1 day to 1 month | Real-time |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| 资源调整 | 1天到1个月 | 实时 |'
- en: '| Load balancing | 1 hour to 1 week | Real-time |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| 负载均衡 | 1小时到1周 | 实时 |'
- en: '| Automatic functions of planning and scheduling | 80% | 99% |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| 规划与调度的自动化功能 | 80% | 99% |'
- en: 'Although this table contains approximate information, the underlying trend
    is extremely strong. We''ve seen the differences between the concepts of advanced
    and automated; let''s also clarify the differences between planning and scheduling:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这个表格包含的是近似信息，但背后的趋势非常强劲。我们已经看到了先进与自动化概念的区别，接下来我们也来澄清计划与调度之间的区别：
- en: 'A **plan** consists of processes preparing production for the future: purchasing
    material components and adapting human resources and physical resources. Amazon,
    for example, has a yearly business plan: putting together the necessary resources
    in advance to be ready for production. This implies purchasing or building warehouses,
    hiring employees, and purchasing basic material resources (boxes, labels, and
    other components).'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计划**由为未来生产做准备的过程组成：采购物料组件、调整人力资源和物理资源。例如，亚马逊有一份年度商业计划：提前整合必要资源以准备生产。这意味着要采购或建设仓库、雇佣员工，以及采购基本物料资源（如箱子、标签和其他组件）。'
- en: '**Scheduling** confronts the plan with the time factor on a shorter horizon.
    Scheduling determines when each part of the plan will come first and be produced.
    For example, now that the warehouse is built or purchased (plan), at what time
    (schedule) should packaging start working next Monday and for the weeks to come?'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**调度**是在较短时间范围内与时间因素对照的计划。调度决定了计划中的每个部分何时开始优先生产。例如，现在仓库已经建设或采购（计划），那么下周一和接下来的几周，包装工作应该在什么时间开始（调度）？'
- en: A schedule can be regarded as a zoomed-in version of a plan.
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 日程可以看作是计划的放大版。
- en: If somebody walks into Jeff Bezos' office with a plan to build a warehouse at
    a given location with the cost and general timing of the implementation, that
    is fine. That person is presenting a two-year project. The project will start
    in 10 months and go on for two years.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有人走进杰夫·贝索斯的办公室，带着在某个地点建立仓库的计划，说明实施的成本和大致时间安排，那是可以的。那个人正在呈现一个为期两年的项目。这个项目将在10个月后启动，并持续两年。
- en: 'Then, that person might (I suggest not!) say: *The plan is great since it will
    be ready in 10 months. But I''m worried about the daily schedule in 1 year of
    shift #2 at 4 p.m. Should they start at 7:30 a.m. or 7:45?* Jeff Bezos will no
    longer be listening. That zoom level is not part of his job description. He has
    to focus on a higher level. It is useless for a top manager to know what''s going
    to happen a year from now at 4 p.m.!'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，那个人可能（我建议不要！）说：“*计划很棒，因为10个月后就能完成。但我担心1年后第二班次下午4点的日程安排。他们应该在早上7:30开始，还是7:45？*”杰夫·贝索斯将不再听。他不会关注这个细节。那个级别不在他的工作描述中。他必须专注于更高层次的事务。对于一位高层管理者来说，知道一年后下午4点会发生什么是毫无意义的！
- en: An advanced planning and scheduling system mostly imports data from ERPs to
    make plans in the future. An automated planning and scheduling program mostly
    detects data with sensors to react and optimize in real-time. The present chapter
    deals with automated planning programs, not advanced planning and scheduling systems.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 一个先进的计划与排程系统通常从企业资源规划（ERP）中导入数据，以制定未来的计划。而自动化计划与排程程序则主要通过传感器检测数据，实时反应并优化。当前章节讨论的是自动化计划程序，而不是先进的计划与排程系统。
- en: 'Think of the evolution between an advanced APS and an automated APS as a logistic sigmoid
    function applied to planning-scheduling time squashing. Here are some examples:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 将先进的APS与自动化APS之间的演变视为应用于计划排程时间压缩的后勤 sigmoid 函数。以下是一些例子：
- en: The advanced plan to manufacture a car spans a month to a year.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 先进的制造汽车计划跨度为1个月到1年。
- en: 'The Google Maps itinerary automated plan for a self-driving car at its starting
    point: a few seconds to a minute, depending on the connection status of that location.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化计划的谷歌地图行程，用于自动驾驶汽车在起点的时间：几秒到一分钟，具体取决于该地点的连接状态。
- en: 'The schedule to manufacture a car: 1 day to 1 month.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 制造一辆汽车的时间表：1天到1个月。
- en: The schedule to pilot a self-driving car following the Google Maps itinerary
    = *real-time*
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按照谷歌地图行程来驾驶自动驾驶汽车的时间表 = *实时*
- en: To sum it up, the present trend represents a revolution in the history of human
    processes.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，当前的趋势代表了人类过程历史上的一场革命。
- en: Amazon's manufacturing patent reflects the revolution of real-time applied to
    every field.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊的制造专利反映了实时应用革命在各个领域的变革。
- en: 'Planning has moved up to planning in real-time, as shown in the following equation:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 规划已转向实时规划，如下方公式所示：
- en: '![](img/B15483_11_001.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15483_11_001.png)'
- en: 'In which:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 其中：
- en: '*x* is a quantity to produce or any unit event.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*x* 是生产的数量或任何单位事件。'
- en: '*t*[x] is the time (*t*) it takes for *x* to start and end.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*t*[x] 是 *x* 开始和结束所需的时间 (*t*)。'
- en: A logistic function squashes *t*[x].
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个后勤函数会压缩 *t*[x]。
- en: '![](img/B15483_11_002.png) (lambda) is the learning factor; the more a task
    is carried out, the more it is optimized.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](img/B15483_11_002.png) (lambda) 是学习因子；一个任务执行得越多，它就越被优化。'
- en: '*X*[t] is the total weight of a group of *n* tasks at a given time *t*:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '*X*[t] 是在给定时间 *t* 下，一组 *n* 个任务的总权重：'
- en: '*X*[t] = {*x*[1], *x*[2], *x*[3] … *x*[n]}'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '*X*[t] = {*x*[1], *x*[2], *x*[3] … *x*[n]}'
- en: 'The difference between *X*[t] and *Z*(*X*[t]) is:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '*X*[t] 和 *Z*(*X*[t]) 之间的差异是：'
- en: '*X*[t] is the actual time it takes to manufacture products.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*X*[t] 是制造产品所需的实际时间。'
- en: '*Z*(*X*[t]) is not the actual time it takes. *Z*(*X*[t]) is the result of an
    activation function that squashes time as an output of *X*[t] in an RL-DL-CRLMM
    network. *Z*(*X*[t]) is a weighting factor.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Z*(*X*[t]) 不是实际所需的时间。*Z*(*X*[t]) 是一个激活函数的结果，它将时间作为 *X*[t] 在 RL-DL-CRLMM 网络中的输出进行压缩。*Z*(*X*[t])
    是一个权重因子。'
- en: 'The key to reducing the weighting factor further is a physical production process
    and other physical events (outputs, for example), that I call lambda: ![](img/B15483_11_003.png)
    signifies all the improvements in real-life production that can reduce the production
    cycle as well as the natural events, such as production output.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 进一步减少权重因子的关键是物理生产过程和其他物理事件（例如输出等），我称之为 lambda：![](img/B15483_11_003.png) 代表了所有能够减少生产周期的现实生产改进，以及像生产输出等自然事件。
- en: In *Chapter 10*, *Conceptual Representation Learning*, ![](img/B15483_11_004.png)
    was introduced to reduce gaps. In this chapter, ![](img/B15438_10_003.png) will
    be generalized a step further to optimize ![](img/B15483_11_006.png).
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在*第10章*，*概念表示学习*中，![](img/B15483_11_004.png)被引入以减少差距。在本章中，![](img/B15438_10_003.png)将进一步概括，以优化![](img/B15483_11_006.png)。
- en: This means that an RL-DL-CRLMM system will optimize the manufacturing process.
    We will now explore a game-changing automated apparel manufacturing process and
    build it in Python.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着RL-DL-CRLMM系统将优化制造过程。我们现在将探索一种改变游戏规则的自动化服装制造过程，并用Python构建它。
- en: CRLMM applied to an automated apparel manufacturing process
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将CRLMM应用于自动化服装制造过程
- en: With an automated planning and scheduling system, not an advanced planning and
    scheduling system, Amazon has brought apparel manufacturing closer to the consumer.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊通过自动化的计划和调度系统，而不是先进的计划和调度系统，将服装制造带得更接近消费者。
- en: Artificial intelligence will boost existing processes. In this section, an RL-DL-CRLMM
    system will optimize an apparel manufacturing process.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 人工智能将推动现有流程。在本节中，RL-DL-CRLMM系统将优化服装制造过程。
- en: An apparel manufacturing process
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 服装制造过程
- en: 'Amazon''s apparel manufacturing patent can be summarized as follows:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊的服装制造专利可以总结如下：
- en: '**P1**: Grouping apparel customer orders by products and sizes. This process
    has been around since the origins of industrial apparel manufacturing centuries
    ago.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P1**：按产品和尺寸对服装客户订单进行分组。这个过程自工业服装制造的起源以来就存在了。'
- en: '**P2**: Automatically cutting lays. A lay is a stack of pieces of cloth. It
    is like cutting a circle in a stack (lay) of several pieces of paper at the same
    time.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P2**：自动切割铺布。铺布是一叠布料。它就像在一叠几张纸上同时切割一个圆圈。'
- en: '**P3**: Moving the packs of the parts of clothing to the assembly lines on
    conveyor belts (see *Chapter 10*, *Conceptual Representation Learning*).'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P3**：将服装零件的包裹通过传送带移动到组装线（见*第10章*，*概念表示学习*）。'
- en: '**P4**: Other operations depending on the products (packaging or printing or
    other).'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P4**：根据产品的不同，执行其他操作（如包装、印刷或其他）。'
- en: '**P5**: Storing and optimizing the distribution process through warehouses
    and deliveries and many more processes (tracking and data analysis, for example,
    finding late deliveries and optimizing their routes).'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P5**：通过仓库和配送优化存储和分配过程，以及更多的流程（例如，跟踪和数据分析，找到迟到的配送并优化其路线）。'
- en: 'The following diagram represents the production flow at an apparel manufacturing
    company. First, the fabric is cut, and then it is stacked in piles and sent by
    a conveyor belt to sewing stations to assemble the clothing:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表示了一个服装制造公司的生产流程。首先，布料被切割，然后堆叠在一堆堆中，通过传送带送到缝纫站以组装服装：
- en: '![](img/B15438_11_01.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_01.png)'
- en: 'Figure 11.1: Apparel production flow'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.1：服装生产流程
- en: 'A webcam is set up right over P3, the conveyor belt. The following image represents
    the webcam above the conveyor belt:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 一个网络摄像头安装在P3上方，即传送带上。下图展示了安装在传送带上的网络摄像头：
- en: '![](img/B15438_11_02.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_02.png)'
- en: 'Figure 11.2: Webcam freezing frames on a conveyor belt'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.2：网络摄像头在传送带上冻结帧
- en: The webcam freezes a frame (within the red rectangle) every *n* seconds. The
    frame is the input of the CRL-CNN described later.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 网络摄像头每*n*秒冻结一帧（在红色矩形内）。该帧是稍后描述的CRL-CNN的输入。
- en: This image is a representation of the concepts. In reality, the webcam may be
    located at the beginning of the conveyor belt, or even over the output of the
    cutting process. For the prototype in this chapter, keep in mind that every *n*
    seconds, a frozen frame is sent to the trained CNN.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 这张图片是对概念的表示。实际上，网络摄像头可能位于传送带的起点，甚至在切割过程的输出上方。对于本章中的原型，请记住，每隔*n*秒钟，会将一个静止帧发送给训练过的CNN。
- en: 'This P1 to P5 flowchart provides a general idea of an apparel manufacturing
    process. In an actual company, many more processes are required: market studies,
    designing products, testing prototypes, adding manufacturing processes for jeans
    (making holes with a laser, for example), and much more.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 这个P1到P5的流程图提供了一个服装制造过程的总体概念。在实际公司中，还需要更多的过程：市场调研、设计产品、测试原型、为牛仔裤增加制造工艺（例如，用激光打孔）等。
- en: Every process described so far was invented individually 30+ years ago, including
    automatic cutting and conveyor belts applied to the apparel business. *What's
    new here?* springs to mind in the case of many apparel experts reading about Amazon.
    And that is the mind trap! Thinking that Amazon's apparel patent does not contain
    new components is a mistake.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 迄今为止描述的每个过程都是30多年前单独发明的，包括应用于服装行业的自动切割和输送带。对于许多阅读过亚马逊相关专利的服装专家来说，*这里有什么新鲜的？*
    这一问题跃然心头。而这正是心智陷阱！认为亚马逊的服装专利没有包含新的组件是一个错误。
- en: '**Time squashing** is the core of the Amazon innovation process. Bringing manufacturing
    closer to the consumer in near-real time is a revolution that will become disruptive.
    Add 3D printers to the time squashing equation, and you will easily picture the
    future of our consumer markets. However, artificial intelligence has the right
    to enter the optimizing competition as well.'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '**时间压缩**是亚马逊创新过程的核心。将制造过程与消费者的需求几乎实时对接是一场颠覆性的革命。将3D打印机加入到时间压缩的方程式中，你将轻松想象我们未来的消费市场。然而，人工智能也有权进入优化竞争之中。'
- en: To illustrate this, let's build an AI model that optimizes P3, the conveyor
    belt. Many solutions already exist as well, but an RL+DL can most probably beat
    them just as it will in many fields.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明这一点，让我们构建一个优化 P3（输送带）的 AI 模型。虽然现有很多解决方案，但一个 RL+DL 很可能会胜过它们，就像在许多领域一样。
- en: The first step is to generalize the ![](img/B15483_11_007.png) model described
    in *Chapter 10*, *Conceptual Representation Learning*, a bit further through training.
    Then, the RL-DL-CRLMM can be built. We will first explore how the CRLMM is trained
    to analyze web frames in production.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是通过训练进一步推广 *第10章*，*概念表示学习* 中描述的 ![](img/B15483_11_007.png) 模型。然后，RL-DL-CRLMM
    可以被建立。我们将首先探讨 CRLMM 如何被训练来分析生产中的网页帧。
- en: Training the CRLMM
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 训练 CRLMM
- en: '*Chapter 10*, *Conceptual Representation Learning*, introduced CRLMMs using
    ![](img/B15438_10_010.png) (gap concepts) to illustrate one.'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '*第10章*，*概念表示学习*，介绍了 CRLMM，使用 ![](img/B15438_10_010.png)（缝隙概念）来说明一个示例。'
- en: 'In the previous chapters, conceptual subsets around ![](img/B15438_10_022.png)
    (gap concepts) were designed as follows:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在前几章中，围绕 ![](img/B15438_10_022.png)（缝隙概念）设计了概念子集，如下所示：
- en: '![](img/B15483_11_010.png), which contains *pg*[i] (*p* = positive) and *ng*[i]
    (*n* = negative subsets)'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_IMG
  zh: '![](img/B15483_11_010.png)，其中包含 *pg*[i] (*p* = 正向) 和 *ng*[i] (*n* = 负向子集)'
- en: '*ng*[1] is a subset of ![](img/B15483_11_011.png); *ng*[1] = {missing, not
    enough, slowing production down … bad},'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*ng*[1] 是 ![](img/B15483_11_011.png) 的子集； *ng*[1] = {缺失， 不足，降低生产效率 … 不良},'
- en: '*pg*[2] is a subset of ![](img/B15483_11_007.png); *pg*[2] = *pg*[2] = {good
    production flow, no gap}'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*pg*[2] 是 ![](img/B15483_11_007.png) 的子集； *pg*[2] = *pg*[2] = {良好生产流动，无缝隙}'
- en: '*g*[2] = {loaded}'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*g*[2] = {已加载}'
- en: '*g*[3] = {unloaded},'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*g*[3] = {未加载},'
- en: '*pg*[4] = {traffic jam, heavy traffic … too much traffic}'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*pg*[4] = {交通堵塞，重度交通 … 交通过于拥堵}'
- en: '*ng*[5] = {open lane, light traffic … normal traffic}'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*ng*[5] = {畅通车道，轻度交通 … 正常交通}'
- en: '`CNN_STRATEGY_MODEL.py` needs to be trained to recognize ![](img/B15483_11_013.png)
    in an apparel production environment as well as remember how to recognize former
    ![](img/B15438_10_028.png) concepts:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '`CNN_STRATEGY_MODEL.py` 需要被训练来识别服装生产环境中的 ![](img/B15483_11_013.png)，并记住如何识别以前的
    ![](img/B15438_10_028.png) 概念：'
- en: The cutting section P2 (A and B) output of apparel packs flowing on a conveyor
    belt (P3).
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服装包在输送带（P3）上流动的切割段 P2（A 和 B）输出。
- en: Remember how to classify the cakes of the food processing company to teach the
    model to recognize more situations.
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 记住如何对食品加工公司的蛋糕进行分类，以便教模型识别更多情况。
- en: Remember how to perform a traffic analysis (see *Chapter 10*, *Conceptual Representation
    Learning*).
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 记住如何进行交通分析（见 *第10章*，*概念表示学习*）。
- en: Learn how to be able to classify an abstract representation of a gap.
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学会如何分类缝隙的抽象表示。
- en: Generalizing the unit training dataset
  id: totrans-127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 推广单元训练数据集
- en: To generalize the unit training dataset, six types of images were created. Each
    image represents a webcam frame taken over a conveyor belt every *n* seconds.
    Four images are figurative in the sense of figurative painting. Two images bring
    the CRLMM program to a higher level of abstraction.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 为了推广单元训练数据集，创建了六种类型的图像。每个图像表示每隔 *n* 秒由摄像头拍摄的一帧图像，图像展示了一个经过输送带的场景。四张图像是具象的，具有具象绘画的意义。两张图像将
    CRLMM 程序提升到了更高的抽象层次。
- en: Food conveyor belt processing – positive p![](img/B15483_11_015.png) and negative
    n![](img/B15483_11_016.png) gaps
  id: totrans-129
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 食品输送带处理 – 正向 p![](img/B15483_11_015.png) 和负向 n![](img/B15483_11_016.png) 缝隙
- en: In the food processing industry example (see *Chapter 9*, *Abstract Image Classification
    with Convolutional Neural Networks (CNNs)*, a gap on the conveyor belt was most
    often negative, a *negative gamma* = *n![](img/B15483_11_017.png)*.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在食品加工行业的例子中（参见*第 9 章*，*使用卷积神经网络（CNN）进行抽象图像分类*），传送带上的间隙大多数时候是负的，*负伽马* = *n![](img/B15483_11_017.png)*。
- en: 'The following frame shows that the first line of production is complete, but
    not lines two and three:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 以下画面显示第一条生产线已完成，但第二和第三条生产线尚未完成：
- en: '![](img/B15438_11_03.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_03.png)'
- en: 'Figure 11.3: Food conveyor belt processing frame'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.3：食品传送带处理框架
- en: On the contrary, with approximately no gaps, the load on the conveyor belt was
    viewed as positive, a *positive gamma* = *p![](img/B15483_11_018.png)*.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，当传送带上几乎没有间隙时，负载被视为正的，*正伽马* = *p![](img/B15483_11_018.png)*。
- en: 'The following frame shows that there is an acceptable number of products per
    line:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 以下画面显示每条生产线的产品数量是可接受的：
- en: '![](img/B15438_11_04.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_04.png)'
- en: 'Figure 11.4: Food conveyor belt processing frame'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.4：食品传送带处理框架
- en: As the preceding images show, whatever the product is on a conveyor belt, a
    gap remains a gap, an empty space. We will now apply our model to other gaps whatever
    the object may be. In this case, we will detect gaps on an apparel conveyor belt.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面图像所示，无论传送带上的产品是什么，间隙始终是一个间隙，都是空的空间。我们现在将应用我们的模型来处理其他间隙，不论对象是什么。在这种情况下，我们将检测服装传送带上的间隙。
- en: Apparel conveyor belt processing – undetermined gaps
  id: totrans-139
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 服装传送带处理 – 未确定的间隙
- en: A gap in an apparel conveyor belt process is most often undetermined. This constitutes
    a major optimization problem in itself. Naturally, if the conveyor belt is empty
    or saturated, the variance will attract the attention of a human operator. However,
    most of the time, optimization solves the problem.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在服装传送带的处理中，间隙通常是未确定的。这本身构成了一个主要的优化问题。当然，如果传送带为空或已饱和，方差将引起人工操作员的注意。然而，大多数时候，优化能够解决这个问题。
- en: 'The following frame shows a relatively well-loaded production flow of apparel
    packs of pieces of clothing to be assembled (by sewing them together) further
    down the line:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 以下画面展示了相对较为满载的服装包生产流，服装需要在生产线上进一步组装（通过缝制）。
- en: '![](img/B15438_11_05.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_05.png)'
- en: 'Figure 11.5: Well-loaded production flow'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.5：满载的生产流
- en: 'The following frame clearly shows a gap, meaning that the quantity that will
    be sent to a sewing station will not be high:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 以下画面清楚地显示了一个间隙，意味着将送到缝制站的数量不会很高：
- en: '![](img/B15438_11_06.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_06.png)'
- en: 'Figure 11.6: Production flow (gap)'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.6：生产流（间隙）
- en: 'Several observations are necessary to optimize this problem:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 为了优化这个问题，需要做几个观察：
- en: The conveyor belt real-time problem excludes running advanced planning and scheduling.
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传送带的实时问题排除了高级规划和调度。
- en: This problem requires real-time automated planning and scheduling.
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这个问题需要实时自动化的规划和调度。
- en: The automated planning and scheduling solution will have to both plan and schedule
    in real-time.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化规划和调度解决方案将必须同时进行实时规划和调度。
- en: It will take planning constraints into account (as explained in the following
    sections) to predict outputs.
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它将考虑规划约束（如以下章节所解释）来预测输出。
- en: It will take scheduling constraints into account to optimize the sewing sections.
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它将考虑调度约束，以优化缝制部分。
- en: Amazon and others have slowly, but surely, brought many planning horizon problems
    (longer) down to shorter scheduling horizons, pushing the limits of SCM further
    and further.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊等公司已经慢慢但坚定地将许多规划视野问题（更长时间的）缩短到更短的调度视野，将供应链管理（SCM）的极限推得越来越远。
- en: The beginning of an abstract notion of gaps
  id: totrans-154
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 间隙抽象概念的开始
- en: The gaps shown have negative or positive properties depending on the context.
    The CRLMM model now has to learn a meta conceptual abstract representation of
    all the gaps mentioned hitherto. These gaps are all flow gaps of one sort or another.
    Something is moving from one point to another in small packs. The packs, therefore,
    are often not the same size, and this causes gaps to form.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 显示的间隙具有负面或正面属性，具体取决于上下文。CRLMM 模型现在需要学习所有前面提到的间隙的元概念抽象表示。这些间隙都是某种类型的流动间隙。某些东西正在从一个点移动到另一个点，且是以小包的形式进行的。因此，这些包的大小通常不同，这导致了间隙的产生。
- en: These concepts can be applied to cattle herds, horse races, team sport attacks
    (football, soccer, rugby, basketball, handball, and other fields), Olympic races,
    marathons, conveyor belts, and much more.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 这些概念可以应用于牛群、赛马、团队运动进攻（如足球、橄榄球、篮球、手球等各类领域）、奥运比赛、马拉松、传送带等诸多场景。
- en: 'When the packs in the flow are close to each other, an individual mental image
    crops up. Each person has a customized version. The following image is a generalized
    representation of a no-gap concept:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 当流中的包接近时，个体的心理图像浮现出来。每个人都有一个定制版本。下图展示了一个无间隙概念的泛化表示：
- en: '![](img/B15438_11_07.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_07.png)'
- en: 'Figure 11.7: A generalized representation of a no-gap concept'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.7：一个无间隙概念的泛化表示
- en: 'Then, the packs have leaders and followers. Then, an abstract representation
    comes up as well. The following image shows a generalized representation of a
    gap concept:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，包中有领导者和跟随者。接着，抽象表示也随之出现。下图展示了一个概念间隙的泛化表示：
- en: '![](img/B15438_11_08.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_08.png)'
- en: 'Figure 11.8: A generalized representation of a gap concept'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.8：一个间隙概念的泛化表示
- en: Humans do not have a flow detection gap function for each thing they are observing. Humans
    have one brain that contains physical memories or other datasets, but, more importantly,
    they have abstract datasets.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 人类对于他们观察的每个事物并没有流动检测间隙的功能。人类的大脑包含了物理记忆或其他数据集，但更重要的是，他们还拥有抽象数据集。
- en: Every single one of us billions of thinking bipeds has extremely efficient abstract
    datasets. The meta-concept shown previously means that through inferences, a human
    has a central meta-concept with a dataset of memories that fit with it through experience.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 我们每一个数十亿的思维类人双足动物都拥有极其高效的抽象数据集。前面展示的元概念意味着通过推理，人类拥有一个中心元概念，并通过经验将符合它的记忆数据集融入其中。
- en: A meta-model uses these datasets. The dataset in the `dataset` directory contains
    the beginning of a CRLMM system. The program will learn what a *flow gap* is and
    then apply it to what it sees by analyzing the context.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 一个元模型使用这些数据集。`dataset`目录中的数据集包含了一个CRLMM系统的起始部分。程序将学习什么是*流间隙*，然后通过分析上下文将其应用于它所看到的事物。
- en: 'This goal of this dataset leads to a CRLMM, as explained in the following sections
    in which:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 这个数据集的目标是导向一个CRLMM，正如以下章节所解释的那样：
- en: The abstract learned meta-concept is applied to a situation; in this case, a
    frame.
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 抽象学习到的元概念应用于一个情境；在此情况下是一个框架。
- en: The CRLMM then determines whether it is a gap or no-gap situation.
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CRLMM随后确定这是一个间隙情况还是非间隙情况。
- en: The CRLMM then makes a decision, using a thinking optimizer based on a decision
    weight-orientated activation function. This means that it is more than a mathematical
    *squash*. It's *weighing* the pros and cons of a decision-making process.
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后，CRLMM会做出决策，使用基于决策权重导向激活函数的思维优化器。这意味着它不仅仅是一个数学上的*squash*。它在*权衡*决策过程中的利弊。
- en: In this section, our CRLMM has learned to identify gaps on an apparel conveyor
    belt. If we were to implement this, we would add many web frames of a conveyor
    belt of our project to our datasets to do the training. For now, let us continue
    with this example and run a prediction program to classify the gaps.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们的CRLMM已经学会了识别服装传送带上的间隙。如果我们要实现这一点，我们需要将项目中的传送带的多个网页框架添加到我们的数据集中进行训练。现在，让我们继续使用这个例子并运行预测程序来分类间隙。
- en: Running a prediction program
  id: totrans-171
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 运行预测程序
- en: The training was done with the same `CNN_STRATEGY_MODEL.py` program described
    in *Chapter 9*, *Abstract Image Classification with Convolutional Neural Networks
    (CNNs)*, which was designed to be generalized for subsequent chapters.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 训练使用了同样的`CNN_STRATEGY_MODEL.py`程序，该程序在*第9章*，*基于卷积神经网络（CNNs）的抽象图像分类*中有描述，旨在为后续章节提供通用模型。
- en: Once the dataset of the previous section has been installed, the model can make
    predictions with no further training in various domains.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦上一节的数据集安装完成，模型即可在不同领域进行预测，无需进一步训练。
- en: The same `CNN_CONCEPT_STRATEGY.py` functions described in *Chapter 10*, *Conceptual
    Representation Learning*, were implemented.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 相同的`CNN_CONCEPT_STRATEGY.py`函数在*第10章*，*概念表示学习*中已进行了实现。
- en: 'Only the path to the dataset was changed, along with the prediction messages
    to display:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 只修改了数据集的路径，以及需要显示的预测信息：
- en: '[PRE0]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The CRLMM has now learned to represent real-life memories and inference of the
    associated memories in a meta-concept. Our CRLMM is ready to be assembled as one
    of the three components of RL-DL-CRLMM as we will see in the next section.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: CRLMM 现在已经学会了表示现实生活中的记忆和与之相关的推理，在一个元概念中。我们的 CRLMM 准备好组装成 RL-DL-CRLMM 的三个组成部分之一，正如我们将在下一节中看到的那样。
- en: Building the RL-DL-CRLMM
  id: totrans-178
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建 RL-DL-CRLMM
- en: The full code of the RL-DL-CRLMM program is `RL_DL.py`. It is built on the knowledge
    and programs of the previous chapters and previous sections of this chapter.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: RL-DL-CRLMM 程序的完整代码是 `RL_DL.py`。它是建立在前几章和本章前几节的知识与程序基础上的。
- en: 'The RL-DL-CRLMM contains three components:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: RL-DL-CRLMM 包含三个组件：
- en: A CRLMM convolutional network that will analyze each frame it receives from
    the webcam that is located right over the pieces of garment packs on the conveyor
    belt coming from the cutting section.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个 CRLMM 卷积网络，将分析每一帧它从位于切割部分传送带上方的网络摄像头接收到的画面，这些画面包含着服装包的图像。
- en: An optimizer using a modified version of the *Z*(*X*) described previously that
    plans how the assembly stations will be loaded in real-time.
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个使用修改版 *Z*(*X*) 的优化器，实时规划装配站的加载方式。
- en: An MDP that will receive the input of the optimizer function and schedule the
    work of the assembly stations. It also produces the modified *Z*(*X*) updated
    value of the weights of each assembly station for the next frame.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个 MDP，将接收优化器函数的输入，并调度装配站的工作。它还会产生修改过的 *Z*(*X*) 更新值，用于下一帧中每个装配站的权重。
- en: In the physical world, the conveyor belt transports the garment packs, a picture
    (frame) is taken every *n* seconds, and the RL-DL-CRLMM runs. The output of the
    RL-DL-CRLMM sends instructions to the conveyor belt and directs the garment packs
    to the optimized load of the assembly stations, as explained before.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在物理世界中，传送带传输服装包，每 *n* 秒拍摄一张图片（帧），并且 RL-DL-CRLMM 运行。RL-DL-CRLMM 的输出将指令发送到传送带，并指导服装包进入优化后的装配站负载，如前所述。
- en: Since `RL_DL.py` describes a continuous RL-DL-CRLMM process, there is no beginning
    or end to the program. The components are independent and are triggered by the
    input sent to them, and they trigger others with their output.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `RL_DL.py` 描述了一个连续的 RL-DL-CRLMM 过程，程序没有明确的开始或结束。各个组件是独立的，由输入触发，并通过输出触发其他组件。
- en: 'Thus, components will be described in the processing order but not in the code-in-line
    order. This is because the functions defined by `def` + `function()` precede the
    function calls to them. Code line numbers will thus be inserted in the comments
    following the code line like this: `# [Line 38]`.'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，组件将按照处理顺序进行描述，而不是按代码内联顺序。这是因为通过 `def` + `function()` 定义的函数先于它们的调用。代码行号将被插入到代码行后的注释中，格式如下：`#
    [Line 38]`。
- en: A circular process
  id: totrans-187
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个循环过程
- en: Once the three main components of the system are in place (CNN, MDP, optimizer),
    the circular property of this RL-DL-CRLMM is a stream-like system that never starts
    nor ends.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦系统的三个主要组件（CNN、MDP、优化器）就位，这个 RL-DL-CRLMM 的循环特性就形成了一个类似流动的系统，永远没有开始也没有结束。
- en: 'To define a circular process, let''s take an everyday example. Customer C goes
    to the supermarket to purchase a product. The product was previously stored in
    a warehouse that we will name B. A factory named A manufactures this product.
    If you look at the whole supply chain at a given time, you will see there is no
    starting or ending point:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 为了定义一个循环过程，我们以一个日常例子为例。顾客 C 去超市购买商品。该商品之前存储在我们命名为 B 的仓库中。一个名为 A 的工厂生产了这个商品。如果你观察整个供应链的某一时刻，你会发现它没有明确的起点或终点：
- en: If you are A, you are both monitoring the needs of C to send products to B
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你是 A，你需要监控 C 的需求，以便将产品发送给 B。
- en: If you are B, you are both monitoring what is coming from A to satisfy C
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你是 B，你需要监控从 A 传来的信息，以满足 C 的需求。
- en: If you are C, you are creating a demand for A to deliver B
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你是 C，你正在为 A 创造需求，要求其向 B 交付产品。
- en: In a real-life supply chain, there is no beginning and no end. The same applies
    to an automated production site to the flow of functions in this virtually memoryless
    system. The conveyor belt's webcam provides a stream of frames, forcing the system into
    circular stream-like behavior.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在现实生活中的供应链中，没有开始也没有结束。同样适用于自动化生产现场中这一几乎没有记忆的系统中的功能流。传送带的网络摄像头提供了一系列帧，迫使系统进入类似流动的循环行为。
- en: Implementing a CNN-CRLMM to detect gaps and optimize
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实现一个 CNN-CRLMM 来检测间隙并进行优化
- en: 'The CNN-CRLMM function was described in the *Running a prediction program*
    section and in *Chapter 10*, *Conceptual Representation Learning*. The prediction
    function is part of the MDP output analysis described later. The `CRLMM` function
    is called as shown in the following code:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: CNN-CRLMM 函数在 *运行预测程序* 部分和 *第 10 章*、*概念表示学习* 中有所描述。预测函数是后续 MDP 输出分析的一部分。`CRLMM`
    函数按如下代码调用：
- en: '[PRE1]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The first part of this function squashes the *W* vector described in the following
    section. The second part of this function analyzes the input frame.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 该函数的第一部分压缩了下一节中描述的 *W* 向量。第二部分分析输入帧。
- en: 'Since no webcam is connected to the system at this point (that must be done
    during project implementation), a random image (frame) choice is made. The following
    random code simulates the random occurrences of real-life production:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 由于此时系统未连接任何网络摄像头（这必须在项目实施过程中完成），因此做出了随机选择一帧图像的决定。以下随机代码模拟了现实生产中随机发生的情况：
- en: '[PRE2]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'In a real-life situation, random quantities will be going through the conveyor
    belt. With the status having being determined, the CNN simulates the addition
    of a frozen frame from the video stream coming from the webcam located directly
    on the conveyor belt. It runs the identity (image) function described before and
    returns a `gap` or `no gap` scenario for the optimizer (refer to the optimizer
    section). The following code describes a gap identification process:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在现实情况中，随机数量的物品会通过传送带。当状态被确定后，CNN 模拟从直接位于传送带上的网络摄像头获取的视频流中添加一帧冻结图像。它运行前面描述的身份（图像）函数，并返回优化器的
    `gap` 或 `no gap` 场景（参见优化器部分）。以下代码描述了一个缺口识别过程：
- en: '[PRE3]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Once `status` has been detected, irrespective of whether the load output of
    the cutting system is high or low, a decision must be made. This will be done
    with the MDP.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦检测到 `status`，无论切割系统的负载输出是高还是低，都必须做出决策。这将通过 MDP 来完成。
- en: Q-learning – MDP
  id: totrans-203
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Q-learning – MDP
- en: By adding an MDP Q-learning decision function (see *Chapter 1*, *Getting Started
    with Next-Generation Artifcial Intelligence through Reinforcement Learning*) in
    this CNN-CRLMM program, we are now entering the world of cognitive RL-DL programs.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在此 CNN-CRLMM 程序中添加 MDP Q-learning 决策功能（见 *第 1 章*，*通过强化学习入门下一代人工智能*），我们现在进入了认知
    RL-DL 程序的世界。
- en: In this real-time system, there is no beginning, no end, and no real memory
    beyond a few frames.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个实时系统中，没有开始，没有结束，也没有超出几帧的真实记忆。
- en: The `mdp01.py` MDP program has been incorporated into `RL_DL.py`. Thus, only
    the changes made are described in this chapter.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '`mdp01.py` MDP 程序已经并入 `RL_DL.py`。因此，本章仅描述所做的更改。'
- en: 'MDP parameters come right after the import packages. Each vertex of the graph
    has its letter and location, as shown in the following code snippet:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: MDP 参数紧跟在导入包之后。图中的每个顶点都有其字母和位置，如下代码片段所示：
- en: '[PRE4]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'When the program runs, the following graph will be displayed with red (target
    vertices) for this frame. It is then up to the MDP to choose, described as follows:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 当程序运行时，以下图形将显示当前帧的红色（目标顶点）。接下来由 MDP 做出选择，具体描述如下：
- en: '![](img/B15438_11_09.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_09.png)'
- en: 'Figure 11.9: Output (target vertices)'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.9：输出（目标顶点）
- en: Notice that this is an undirected graph with vertices (the colored dots) and
    no edge (lines) directions. The MDP will provide directions for each frame in
    this model.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，这是一个无向图，图中有顶点（彩色点）但没有边（线）方向。MDP 将为此模型中的每一帧提供方向。
- en: Each vertex represents an assembly station in this model. Each assembly station
    has a high workload or a low workload. The workload is rarely stabilized because
    products keep flowing in and out as they are produced.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在该模型中，每个顶点代表一个组装站。每个组装站都有高负载或低负载。由于产品不断进出并进行生产，工作负载很少保持稳定。
- en: MDP inputs and outputs
  id: totrans-214
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MDP 输入和输出
- en: The MDP process in this model uses a reward matrix as an input and produces
    a weight vector.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 此模型中的 MDP 过程使用奖励矩阵作为输入，并生成一个权重向量。
- en: The input is a neutral reward matrix
  id: totrans-216
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 输入是一个中立的奖励矩阵
- en: The MDP reward matrix is set to `0`, except for the values representing the
    edges of the graph that can be physically accessed; these are set to `1`, a small
    neutral value.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: MDP 奖励矩阵被设置为 `0`，除非表示可以物理访问的图形边缘的值，这些设置为 `1`，是一个小的中立值。
- en: 'As it is, the MDP cannot provide a satisfactory result beyond reproducing the
    structure of this undirected graph. The reward matrix is now initialized and duplicated
    as shown in the following code, starting from line 41; at line 43, `R`, the reward
    matrix is built, and at `Ri`, a duplicate of `R` is created:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 如此，MDP无法提供令人满意的结果，超出再现这个无向图的结构。奖励矩阵现在已经初始化并复制，如以下代码所示，从第41行开始；在第43行，`R`（奖励矩阵）被构建，而在`Ri`中，`R`的副本被创建：
- en: '[PRE5]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '`Ri` is a copy of the initial-state zero-reward matrix. `R` is reset to `Ri`
    at every new frame. MDP trains the assembly location plan for each new frame in
    a memoryless, undirected graph and unsupervised approach.'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '`Ri`是初始状态零奖励矩阵的副本。每当新的一帧开始时，`R`会被重置为`Ri`。MDP以无记忆、无向图和无监督的方法训练每一帧的装配位置计划。'
- en: '`Q` is the learning matrix in which rewards will be learned/stored, as shown
    in the code on line 58:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '`Q`是学习矩阵，其中奖励将被学习/存储，如第58行代码所示：'
- en: '[PRE6]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The standard output of the MDP function
  id: totrans-223
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: MDP函数的标准输出
- en: The load of the assembly stations is not the exact quantity produced. They are
    weights that are updated continuously during this continuous process, as explained further
    in the chapter.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 装配站的负载不是生产的精确数量。它们是权重，在这个连续过程中不断更新，后续章节将进一步解释这一点。
- en: 'At an initial state of the program, the initial weight of the vertices is set
    to `0` in the following line of code (line 40):'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在程序的初始状态下，顶点的初始权重在以下代码行（第40行）中被设置为`0`：
- en: '[PRE7]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The weight vector (represented as an array) contains one value per assembly
    station location or vertex.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 权重向量（以数组表示）包含每个装配站位置或顶点的一个值。
- en: An initial state is not a real beginning. It is like a pause button on a video.
    The initial state can come from a holiday (no production), a maintenance day (no
    production), or a lack of input orders (no production). The initial state is just
    a case when the weights are equal to `0` because there is nothing on the conveyor
    or assembly stations.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 初始状态不是一个真正的开始。它就像视频中的暂停按钮。初始状态可以来源于假期（没有生产）、维修日（没有生产）或缺少输入订单（没有生产）。初始状态只是一个权重等于`0`的情况，因为传送带或装配站上什么也没有。
- en: The weight vector is part 1 of the optimizer (see the following section). The
    MDP produces an output matrix after having optimized the undirected graph. The
    optimizer will have provided a target.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 权重向量是优化器的第1部分（见下文章节）。MDP在优化无向图后生成一个输出矩阵。优化器将会提供一个目标。
- en: 'The program contains the same source code as in *Chapter 1*, *Getting Started
    with Next-Generation Artifcial Intelligence through Reinforcement Learning*, with
    Bellman''s equation starting from line 1166\. The MDP produces its result, as
    shown in the following output:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 程序包含与*第一章*、《通过强化学习开始使用下一代人工智能》中相同的源代码，贝尔曼方程从第1166行开始。MDP生成其结果，如下输出所示：
- en: '[PRE8]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Bear in mind that this entire DQN-CRLMM is not only based on the undirected
    memoryless MDP function but also has no real beginning nor end since it's a continuous
    and virtually memoryless process.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，整个DQN-CRLMM不仅基于无向无记忆MDP函数，而且没有真正的开始和结束，因为它是一个连续且几乎无记忆的过程。
- en: A graph interpretation of the MDP output matrix
  id: totrans-233
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: MDP输出矩阵的图形解释
- en: 'After each run, the MDP matrix also produces a graph interpretation of the
    values of paths between the vertices from point to point (letter to letter), and
    displays it in the following output:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 每次运行后，MDP矩阵还会生成路径值的图形解释，即从一个顶点到另一个顶点（字母到字母）的路径，并显示在以下输出中：
- en: '[PRE9]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This way, if the values are taken from the highest to the lowest edges (lines
    and, hence, values between two letters), it gives a visual idea of how the MDP
    function calculated its way through the graph.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这种方式，如果从最高到最低的边（线条，进而是字母之间的值）中取值，它就能直观地展示MDP函数是如何通过图计算路径的。
- en: '`RL` is the letter vector. It is empty after each frame. It will be filled
    by finding the values of each edge. It will contain the letters of the vertices
    (nodes and dots) connected by the edges (lines represented by the values).'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '`RL`是字母向量。每一帧后它为空。它将通过查找每条边的值来填充。它将包含由边（由值表示的线）连接的顶点（节点和点）的字母。'
- en: '`RN` is the value of the edges. The following code shows how to implement `RL`
    and `RN` and update the weights of the locations in the weight vector (`W`):'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '`RN`是边的值。以下代码展示了如何实现`RL`和`RN`并更新权重向量（`W`）中位置的权重：'
- en: '[PRE10]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The logistic function in the preceding code is being updated while `RL` and
    `RN` are being updated.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码中的逻辑函数在 `RL` 和 `RN` 被更新时也在不断更新。
- en: The optimizer
  id: totrans-241
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 优化器
- en: I have written several optimizers for fabric optimization in the apparel industry.
    In this case, the optimizer will be used to regulate the flow of production.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 我为服装行业的面料优化编写了多个优化器。在这个例子中，优化器将用于调节生产流程。
- en: 'The term "optimizer" is not the CNN `rmsprop` optimizer used in the previous
    chapters represented with the following code:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 术语“优化器”并不是前几章中使用的 CNN `rmsprop` 优化器，它在以下代码中表示：
- en: '[PRE11]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The term "optimizer" refers to a function that optimizes the production of this
    manufacturing site. It is not an optimizer used to train a CNN, for example. This optimizer
    is both an activation function and a regulator that was built from scratch to
    optimize production. This shows that you must sometimes invent the optimizer you
    need to generate a profitable solution for your customer or company.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 术语“优化器”指的是一种优化该制造站点生产的功能。它不是用于训练 CNN 的优化器。例如，这个优化器既是一个激活函数，又是一个调节器，从零开始构建，目的是优化生产。这表明，有时你需要发明所需的优化器，以为客户或公司生成一个有利可图的解决方案。
- en: The optimizer as a regulator
  id: totrans-246
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 优化器作为调节器
- en: 'The whole concept of this RL-DL-CRLMM of real-time production, applied to P3,
    is to optimize *Z* over the load distribution of the assembly stations, as explained
    before. This means reducing *Z* as much as possible through the following equation:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 这个实时生产的 RL-DL-CRLMM 概念应用于 P3，目的是优化 *Z*，使其在组装站的负载分配上达到最佳，正如之前所解释的那样。这意味着通过以下方程尽可能减少
    *Z*：
- en: '![](img/B15483_11_019.png)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15483_11_019.png)'
- en: To achieve this optimization goal, *Z* needs to be taken apart and applied to
    strategic parts of the code.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这个优化目标，*Z* 需要被拆解并应用到代码的战略部分。
- en: Implementing Z – squashing the MDP result matrix
  id: totrans-250
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 实现 Z – 压缩 MDP 结果矩阵
- en: 'The output of the MDP functions provides the following `Q` matrix:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: MDP 函数的输出提供了以下 `Q` 矩阵：
- en: '[PRE12]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Each line represents a vertex in the graph: A, B, C, D, E, and F. Each value
    obtained needs to be squashed in the following *z*(*x*) function:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 每一行代表图中的一个顶点：A、B、C、D、E 和 F。每个获得的值需要在以下 *z*(*x*) 函数中进行压缩：
- en: '![](img/B15483_11_020.png)'
  id: totrans-254
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15483_11_020.png)'
- en: 'The first step in the code that follows is to squash the weights provided by
    the MDP process for each line (vertex) *x* with a `logistic_sigmoid` function:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码中的第一步是通过 `logistic_sigmoid` 函数对 MDP 过程为每一行（顶点）*x* 提供的权重进行压缩：
- en: '[PRE13]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The function is called by the transformation of the MDP `Q` output matrix into
    the weight vector for each column of each line, as shown in the following code:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 该函数通过将 MDP `Q` 输出矩阵转换为每一行每一列的权重向量来调用，如以下代码所示：
- en: '[PRE14]'
  id: totrans-258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: At this point, each value of the MDP has lost any real-life value. It is a weight,
    just as in any other network. The difference is that the whole system is controlled.
    In a real-life project, keeping an eye on the calculations through reports is
    necessary for maintenance purposes. Even an automatic system requires quality
    control.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，MDP 的每个值都失去了任何现实生活中的价值。它只是一个权重，就像其他网络一样。不同之处在于，整个系统是受控制的。在实际项目中，通过报告跟踪计算是必要的，以便进行维护。即便是自动化系统，也需要质量控制。
- en: 'The MDP matrix has now been flattened into a weight matrix, as shown in the
    following output:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，MDP 矩阵已被压平为一个权重矩阵，如下输出所示：
- en: '[PRE15]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Each vertex (letter in the graph) now has a weight.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 每个顶点（图中的字母）现在都有一个权重。
- en: Implementing Z – squashing the vertex weights vector
  id: totrans-263
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 实现 Z – 压缩顶点权重向量
- en: Squashed `W` (vertex weights) grows after each frame analysis, and each MDP
    run since `W[j]+` is applied continuously, and `W` is never set to zero.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 压缩后的 `W`（顶点权重）在每一帧分析后增长，并且每次运行 MDP 时，`W[j]+` 会持续应用，而 `W` 永远不会被设为零。
- en: 'The main reasons:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 主要原因：
- en: Once launched, the RL-DL-CRLMM is a continuous process, with no beginning and
    no end as long as the conveyor belt is running.
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一旦启动，RL-DL-CRLMM 就是一个持续的过程，只要输送带在运行，就没有开始和结束。
- en: The conveyor belt is sending assembly (mostly sewing) work to the assembly stations
    that take some time (*t*) to get the job (*x*) represented by *t*[x] in the *Z*
    equation and the *W* vector in the program.
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 输送带正在将组装（主要是缝纫）工作传送到组装站，这些工作需要一些时间（*t*），表示为 *t*[x]，其中 *t* 是时间，*x* 是任务，在 *Z*
    方程和程序中的 *W* 向量中体现。
- en: Hence, work is piling up on each vertex (A to F), which represents an assembly
    station.
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，工作在每个顶点（A 到 F）上堆积起来，这些顶点代表一个组装站。
- en: 'This is why the ![](img/B15483_11_021.png) variable in the *Z* equation is
    implemented, as shown in the initial equation early in the chapter, as follows:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是为什么在*Z*方程中实现了![](img/B15483_11_021.png)变量，如本章早期的初始方程所示，具体如下：
- en: '![](img/B15483_11_022.png)'
  id: totrans-270
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15483_11_022.png)'
- en: '![](img/B15483_11_006.png) is implemented for two reasons:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/B15483_11_006.png) 实现这一点有两个原因：'
- en: The sewing or assembly stations send their finished work to the next operation
    on the production line, packaging, for example. So every *m* minutes, their workload
    goes down, and so does the load feature weight.
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 缝纫或组装站将它们完成的工作发送到生产线上的下一道工序，例如包装。因此，每隔*m*分钟，它们的工作负荷就会减少，负载特征权重也会下降。
- en: Production managers are constantly working on learning curves on assembly lines.
    When a new product arrives, it takes some time for the teams to adapt. Their output
    is a bit slower than usual. However, well-trained teams bring the learning period
    down regularly.
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生产经理们不断地在组装线上的学习曲线中工作。当新产品到达时，团队需要一些时间来适应。它们的产出比平时稍慢。然而，经过良好训练的团队会定期缩短学习期。
- en: '![](img/B15483_11_024.png) combines both concepts in a single variable. This
    might be enough for some projects. If not, more work and variables need to be
    added.'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/B15483_11_024.png) 将两个概念结合在一个变量中。这可能对一些项目来说足够了。如果不够，需添加更多的工作和变量。'
- en: 'In this model, ![](img/B15483_11_025.png) is activated by the following:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个模型中，![](img/B15483_11_025.png) 是通过以下方式激活的：
- en: '`oif` represents the frequency of a `W` vector ![](img/B15483_11_026.png) update.
    In this example, `oif` is set to `10`. This means that every 10 frames, `oir`
    will be applied.'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`oif`表示`W`向量 ![](img/B15483_11_026.png) 更新的频率。在本例中，`oif`被设置为`10`。这意味着每10帧，`oir`将被应用。'
- en: '`oir` represents the output rate for the two reasons described before. This
    variable will squash the `W` vector by the % given. In this example, `oir=0.2`.
    That means that only 20% of the weights will be retained. The rest has been finished.'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`oir`表示前面描述的两个原因的输出率。该变量将按给定的百分比压缩`W`向量。在本例中，`oir=0.2`。这意味着只有20%的权重将被保留，其余的已经完成。'
- en: 'The following code shows how to implement `oif` and `oir`:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码展示了如何实现`oif`和`oir`：
- en: '[PRE16]'
  id: totrans-279
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The `W` vector has been squashed again, as shown in this output:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '`W`向量再次被压缩，如下输出所示：'
- en: '[PRE17]'
  id: totrans-281
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The optimizer has provided updated information on the status of each sewing
    station. Each sewing station is a location for the MDP function. We will now see
    how the MDP function uses the information provided by the optimizer.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 优化器提供了每个缝纫站状态的更新信息。每个缝纫站都是MDP函数的一个位置。接下来，我们将看到MDP函数如何使用优化器提供的信息。
- en: Finding the main target for the MDP function
  id: totrans-283
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 找到MDP函数的主要目标
- en: '*W*, the weight vector, is updated after each frame with a short-term memory
    of *n* frames. This means that in every *n* frames, its memory is emptied of useless
    information.'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '*W*，权重向量，在每一帧后会更新，带有*短期记忆*，记住*n*帧的信息。这意味着每隔*n*帧，它的记忆就会清除无用的信息。'
- en: 'The goal of the optimizer is to provide a target for the MDP function. On the
    first episode, since it does not have any information, the optimizer selects a
    random state, as shown in the following code excerpt:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 优化器的目标是为MDP函数提供一个目标。在第一次循环中，由于没有任何信息，优化器选择一个随机状态，如以下代码片段所示：
- en: '[PRE18]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: This means that a random assembly station will be chosen on the MDP graph, which represents
    the six assembly sewing stations. Once this episode has been completed, the system
    enters a circular real-time cycle (refer to the next section).
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着在MDP图上将选择一个随机的组装站，代表六个组装缝纫站。一旦该周期完成，系统将进入一个循环实时周期（参见下一节）。
- en: The second episode has the `W` vector to rely upon.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个周期有`W`向量可以依赖。
- en: 'This runs the `crlmm` (described before) CNN-CRLMM network to determine whether the
    frame has a gap or no-gap feature, as shown in the following code:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 这会运行`crlmm`（前面描述过）CNN-CRLMM网络，以确定框架是否具有间隙或无间隙特征，如以下代码所示：
- en: '[PRE19]'
  id: totrans-290
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'The optimizer will use `W` to:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 优化器将使用`W`来：
- en: Choose the vertex (sewing station) with *somewhat* the smallest weight if the CNN
    on the frame produces a result with `no gap` (probability is zero). Since there
    is no gap, this means that there are many pieces to sew. Thus, it is much better
    to give the work to an assembly station that has a lower load than others.
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果框架上的CNN输出结果为`no gap`（概率为零），请选择具有*稍微*最小权重的顶点（缝纫站）。由于没有间隙，这意味着有许多部分需要缝合。因此，将工作交给负载较低的组装站比交给其他站点要好得多。
- en: Choose the vertex (sewing station) with *somewhat* the highest weight if the
    CNN on the frame produces a result with a `gap` (probability is one). Since there
    is a gap, it means there are not that many pieces to sew. Thus, it is much better
    to give the work to an assembly station that already has a higher workload. It
    will balance the loads and optimize the load distribution over all the stations.
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 CNN 对画面输出的结果产生 `gap`（概率为 1），请选择*某种程度上*权重最高的顶点（缝纫站）。因为有 gap，这意味着没有太多的物品需要缝制。因此，将工作交给一个已经有较高工作量的组装站要好得多。这将平衡负载，并优化所有站点的负载分配。
- en: Introduce a choice to find one target assembly station for the MDP function
    in each of these cases. It will look for stations (vertices, letters, dots in
    the graph) with the highest weight in one case and the lowest in another.
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 引入选择，在每种情况下为 MDP 功能找到一个目标组装站。它将在一种情况下寻找权重最高的站点（顶点、字母、图中的点），在另一种情况下寻找权重最低的站点。
- en: Add the *somewhat* concept referred to before. The system must remain relatively
    free, or it will keep choosing the same best sewing stations, depriving others
    of work. Thus, each possibility (`gap` or `no gap`) is limited to a random choice
    of only three among the six locations for each weight class (higher or lower).
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加之前提到的*某种程度上*的概念。系统必须保持相对自由，否则它将不断选择相同的最佳缝纫站，剥夺其他站点的工作。因此，每种可能性（`gap`或`no gap`）都限制为在六个位置中随机选择三个位置，针对每个权重等级（高或低）。
- en: 'The optimizing function, shown in the following snippet, can prove extremely
    profitable on real-life industrial production lines:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码片段展示的优化功能，在现实工业生产线上可能非常有利可图：
- en: '[PRE20]'
  id: totrans-297
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '`lr` is the main location chosen for the MDP reinforcement learning function,
    as shown in the following code:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: '`lr` 是为 MDP 强化学习功能选择的主要位置，如下列代码所示：'
- en: '[PRE21]'
  id: totrans-299
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Reinforcement learning has to run every time since it faces new frames in the
    continuous process of the conveyor belt in the automated apparel system.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 强化学习每次都必须运行，因为它面对的是传送带在自动化服装系统中不断变化的新画面。
- en: 'Now, the MDP reward matrix is reset to its initial state, as implemented in
    these lines of the program:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，MDP 奖励矩阵已重置为其初始状态，如程序中的这些行所实现：
- en: '[PRE22]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The target location is initialized with a value that fits the gap or no-gap
    philosophy of the program. If there is no gap, the value is higher, and so will
    be the weight (represented load of the station) in the end. If there is a gap,
    the value is lower, and so will be the weight for that station, as shown in the
    following lines of code:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 目标位置被初始化为一个适合程序的 gap 或 no-gap 哲学的值。如果没有 gap，值较高，最终缝纫站的负载也较大。如果有 gap，值较低，那么该站点的负载也会较低，如以下代码所示：
- en: '[PRE23]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: We just explored the MDP process. However, the overall program we are looking
    at is a circular process that runs 24/7\. At a given time, all of the components
    of our AI program are running at the same time. Let's see how.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚探讨了 MDP 过程。然而，我们正在查看的整体程序是一个 24/7 不间断运行的循环过程。在任何给定时刻，我们的 AI 程序的所有组件都会同时运行。让我们看看是如何实现的。
- en: A circular model – a stream-like system that never starts nor ends
  id: totrans-306
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 循环模型——一个没有开始和结束的流动系统
- en: We have successfully converted the linear stream of production (conveyor belt,
    optimizer, and sewing stations) into a circular process.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经成功地将生产的线性流（传送带、优化器和缝纫站）转化为循环过程。
- en: 'Since the RL-DL-CRLMM model runs nonstop, it can run at all of the following
    points at the same time:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 RL-DL-CRLMM 模型不断运行，因此它可以同时在以下所有节点运行：
- en: A = Captures a frame of the output of the cutting section with a webcam and a
    CNN-CRLMM
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: A = 使用网络摄像头和 CNN-CRLMM 捕捉切割部分的输出画面
- en: B = Analyzes the load (histograms of each sewing section) with the CRLMM
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: B = 使用 CRLMM 分析负载（每个缝纫部分的直方图）
- en: C = Optimizes the sewing stations with an MDP
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C = 使用 MDP 优化缝纫站
- en: 'ABC is one flow. But since each process is running nonstop, we can see all
    of the following flows at the same time: A, B, C or B, C, A or C, A, B.'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: ABC 是一个流。但由于每个过程都在不停地运行，我们可以同时看到以下所有流程：A、B、C 或 B、C、A 或 C、A、B。
- en: 'The following graph represents the circular process:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表表示了循环过程：
- en: '![](img/B15438_11_10.png)'
  id: totrans-314
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_10.png)'
- en: 'Figure 11.10: Circular RL-DL-CRLMM'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.10：循环 RL-DL-CRLMM
- en: The diagram describes an automatic process. However, let's go back a step and
    imagine we are in a factory in which humans still make the decisions. The process
    is circular, which means it never stops or starts. It runs 24/7\. We will suppose
    a floor manager is an optimizer represented by the blue bar charts. The floor
    manager will look at the sewing stations to see who has a lot of work to do and
    who has little work to do. Then the floor manager will observe the conveyor belt
    (the web frame with the image of the packs) that is bringing packs of cut cloth
    to sew into garments. The floor manager will select several packs where there
    is a gap on the conveyor belt for the least loaded sewing stations, for example.
    Once the choice has been made, the floor manager will direct the packs to the
    right sewing station following calculating the graph (MDP) manually.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 该图描述了一个自动化过程。然而，让我们回到一步，假设我们在一个仍由人工做决策的工厂中。这个过程是循环的，意味着它不会停止或开始。它24小时全天候运行。我们假设车间经理是一个优化器，用蓝色条形图表示。车间经理会观察各个缝纫站，查看哪些站点有很多工作要做，哪些站点的工作量较少。然后，车间经理会观察输送带（带有包裹图像的网框），这个输送带将切割好的布料包送到缝纫站进行缝制。比如，车间经理会选择输送带上有空隙的几个包裹，分配给工作负载较少的缝纫站。一旦做出选择，车间经理将根据计算图（MDP）手动指引包裹到正确的缝纫站。
- en: Let's explore these steps in further detail.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地探讨这些步骤。
- en: '**Step X**: When the following frame arrives, the CRL-CNN is activated:'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '**Step X**：当以下框架到达时，CRL-CNN被激活：'
- en: '![](img/B15438_11_11.png)'
  id: totrans-319
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_11.png)'
- en: 'Figure 11.11: The CRL-CNN gets activated'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.11：CRL-CNN被激活
- en: 'The solution calls the `CRLMM` function, as shown in the following code:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 该解决方案调用了`CRLMM`函数，如以下代码所示：
- en: '[PRE24]'
  id: totrans-322
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The following output displays the status of the image: `gap`, `no gap`:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 以下输出显示了图像的状态：`gap`、`no gap`：
- en: '[PRE25]'
  id: totrans-324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'The following weights of each sewing station (vertices A to F) are taken into
    account:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是各缝纫站（顶点 A 到 F）所考虑的权重：
- en: '[PRE26]'
  id: totrans-326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The program displays them in text form:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 程序以文本形式显示它们：
- en: '[PRE27]'
  id: totrans-328
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'The program also displays the following bar chart of the weights of each sewing
    station:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 程序还显示了各缝纫站权重的以下条形图：
- en: '![](img/B15438_11_12.png)'
  id: totrans-330
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_12.png)'
- en: 'Figure 11.12: Bar chart of the weighs of each sewing station'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.12：各缝纫站权重的条形图
- en: 'The **STEP X+1** optimizer analyzes the weights to make a decision: send small
    quantities to the sewing stations that have a lot of work and large quantities
    to sewing stations that have less work to do.'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '**STEP X+1** 优化器分析权重以做出决策：将少量工作分配给工作量大的缝纫站，将大量工作分配给工作量较少的缝纫站。'
- en: By doing this, the optimizer makes sure that each sewing station has an optimal
    workload. If a sewing station has a lot of work piling up, it makes sense to give
    a large amount of incoming work to a sewing station with little work to do. That
    way, all of the sewing stations will be working at full capacity.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这样做，优化器确保每个缝纫站的工作负载是最优的。如果某个缝纫站的工作积压很多，那么将大量的工作分配给工作量较少的缝纫站是合理的。这样，所有缝纫站都将以最大容量运转。
- en: '![](img/B15438_10_023.png) (gamma) has now reached a point at which it understands
    that a gap is a comparison between two states and inference of a conceptual distance:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/B15438_10_023.png)（gamma）现在已经达到一个点，它理解“空隙”是两个状态之间的比较和概念距离的推断：'
- en: '**Overloading**: Too much'
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**过载**：过多'
- en: '**Underloading**: Not enough'
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**欠载**：不足'
- en: '![](img/B15483_11_028.png) now contains two abstract concepts:'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/B15483_11_028.png) 现在包含了两个抽象概念：'
- en: Enough to too much
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从不足到过多
- en: Not enough to lacking
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不足到缺乏
- en: The goal of the circular process is to keep the bars at an approximately similar
    height—not an exact height, but also not a situation in which A would have no
    work to do, and E would be overloaded.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 循环过程的目标是保持条形图的大致相同高度——不是精确高度，但也不是 A 没有工作要做，E 却过载的情况。
- en: '**STEP X+2**: The MDP, as described in this chapter, receives instructions
    to optimize a given sewing station and spreads work out to its neighbors. This
    is often a production constraint: one station sews the sleeves of a T-shirt. For
    example, the station nearby sews a pocket on the T-shirt. The MDP spreads out
    the work, starting with the target location. In this case, the target location
    is one of the sewing stations in the A-E-D area (the area is displayed in color
    when you run the Python program) as shown in the following graph:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: '**步骤 X+2**：本章中描述的MDP接收指令来优化给定的缝纫工作站，并将工作分配给周围的工作站。这通常是一个生产约束：一个工作站缝制T恤的袖子。例如，附近的工作站缝制T恤的口袋。MDP从目标位置开始分配工作。在这种情况下，目标位置是A-E-D区域中的一个缝纫工作站（运行Python程序时，该区域会以颜色显示），如下图所示：'
- en: '![](img/B15438_11_13.png)'
  id: totrans-342
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15438_11_13.png)'
- en: 'Figure 11.13: MDP spreads out'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.13：MDP分配工作
- en: The MDP sends its results directly to the conveyor belt, which automatically
    follows the path instructions sent to it.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: MDP将结果直接发送到传送带，传送带自动遵循传送给它的路径指令。
- en: Then, the MDP updates the weights, empties its reward matrix, and waits for
    a new one. The system goes back to step X.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，MDP更新权重，清空奖励矩阵，并等待新的奖励矩阵。系统返回到步骤X。
- en: As you might have noticed, no human operator is involved in this entire process
    at all.
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可能注意到的，整个过程完全没有人工操作员参与。
- en: Summary
  id: totrans-347
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Applying artificial intelligence to Amazon's real-time sales, production, and
    delivery forces projects into reality.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 将人工智能应用于亚马逊的实时销售、生产和交付，将项目推进到现实。
- en: Learning machine learning and deep learning with MNIST, CIFAR, and other ready-to-use
    datasets with ready-to-use programs is a prerequisite to mastering artificial
    intelligence. Learning mathematics is a must.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 学习机器学习和深度学习，使用MNIST、CIFAR等现成数据集以及现成程序，是掌握人工智能的前提。学习数学是必须的。
- en: Building a few programs that can do various theoretical things cannot be avoided.
    However, managing a real project under corporate pressure will bring an AI specialist
    up to another level. The AI specialist will have to put AI theory into practice.
    The constraints of corporate specifications make machine learning projects exciting.
    During those projects, experts learn valuable information on how AI solutions
    work and can be improved.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 构建几个可以做各种理论事情的程序是不可避免的。然而，在企业压力下管理一个实际项目将使AI专家提升到另一个层次。AI专家必须将AI理论付诸实践。企业规格的约束使得机器学习项目变得令人兴奋。在这些项目中，专家们学习到关于AI解决方案如何运作以及如何改进的宝贵信息。
- en: This chapter described an RL-DL-CRLMM model with an optimizer. We learned how
    the market is evolving from planning manufacturing in advance to real-time planning
    challenging classical processes. We saw that a consumer wants to receive a purchased
    product as soon as possible. If that product is not available to demand, it must
    be produced in nearly real-time and delivered to the customer. To automate this
    process, we built a Python program that can scan an apparel conveyor built to
    detect gaps in a cutting process with a CNN, use an optimizing function to choose
    the best sewing workstation and then build a graph with MDP to represent the optimized
    path taken.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了带有优化器的RL-DL-CRLMM模型。我们学习了市场如何从提前规划制造到实时规划具有挑战性的经典流程演变。我们看到消费者希望尽快收到购买的产品。如果该产品没有现货以满足需求，它必须几乎实时生产并交付给客户。为了自动化这个过程，我们构建了一个Python程序，能够扫描一个服装传送带，该传送带利用CNN检测裁剪过程中的空隙，使用优化函数选择最佳的缝纫工作站，然后用MDP构建图形来表示优化后的路径。
- en: The next chapter explores an application of this solution with an SVM applied
    to a self-driving car situation in an IoT context, Swarm AI, and elementary AGI.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 下一章探讨了这个解决方案的一个应用，使用SVM在物联网背景下应用于自动驾驶汽车情境、群体AI和基础AGI。
- en: Questions
  id: totrans-353
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: A CNN can be trained to understand an abstract concept? (Yes | No)
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CNN可以训练来理解一个抽象概念吗？（是 | 否）
- en: Is it better to avoid concepts and only use real-life images? (Yes | No)
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 避免使用概念，仅使用现实生活中的图像更好么？（是 | 否）
- en: Do planning and scheduling mean the same thing? (Yes | No)
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 规划和排程是同一回事吗？（是 | 否）
- en: Is Amazon's manufacturing patent a revolution? (Yes | No)
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 亚马逊的制造专利是一次革命吗？（是 | 否）
- en: Learning how warehouses function is not useful. (Yes | No)
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 学习仓库如何运作没有用处。（是 | 否）
- en: Online marketing does not require artificial intelligence. (Yes | No)
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在线营销不需要人工智能。（是 | 否）
- en: Further reading
  id: totrans-360
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'More information on Amazon''s apparel manufacturing innovation and apparel
    market can be found here: [https://www.nytimes.com/2017/04/30/technology/detailing-amazons-custom-clothing-patent.html](https://www.nytimes.com/2017/04/30/technology/detailing-amazons-custom-clothing-patent.html),
    [https://www.amazon.com/learn-more-prime-wardrobe/b?ie=UTF8&node=16122413011](https://www.amazon.com/learn-more-prime-wardrobe/b?ie=UTF8&node=16122413011)'
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于亚马逊的服装制造创新和服装市场的更多信息可以在这里找到：[纽约时报](https://www.nytimes.com/2017/04/30/technology/detailing-amazons-custom-clothing-patent.html)，[亚马逊
    Prime Wardrobe](https://www.amazon.com/learn-more-prime-wardrobe/b?ie=UTF8&node=16122413011)
