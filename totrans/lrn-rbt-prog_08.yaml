- en: '*Chapter 6*: Building Robot Basics – Wheels, Power, and Wiring'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第 6 章*：构建机器人基础 – 轮子、电源和布线'
- en: In this chapter, we will start building the robot. We will choose a robot chassis
    kit with wheels and motors, a motor controller, and some power for the robot,
    talking through the trade-offs and things to avoid. We'll see how to ensure that
    everything fits and then build the robot. By the end of the chapter, you will
    have your basic robot structure ready.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将开始构建机器人。我们将选择带有轮子和电机的机器人底盘套件、电机控制器和一些为机器人供电的电源，讨论权衡和要避免的事项。我们将了解如何确保一切适配，然后构建机器人。到本章结束时，你将拥有一个基本的机器人结构准备就绪。
- en: Getting the trade-offs and plan right now gives you a robot you can build upon
    and experiment with, ensuring you know components are suitable before buying them.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 现在就确定权衡和计划，这将给你一个可以构建和实验的机器人，确保在购买之前知道组件是否合适。
- en: 'In this chapter, you will learn about the following:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将学习以下内容：
- en: Choosing a robot chassis kit
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择机器人底盘套件
- en: Choosing a motor controller board
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择电机控制器板
- en: Powering the robot
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为机器人供电
- en: Test fitting the robot
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试安装机器人
- en: Assembling the base
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组装底座
- en: Connecting the motors to the Raspberry Pi
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将电机连接到树莓派
- en: Technical requirements
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'For this chapter, you will require the following:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本章，你需要以下物品：
- en: A computer with access to the internet.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一台可以访问互联网的电脑。
- en: The Raspberry Pi and an SD card.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 树莓派和一张 SD 卡。
- en: 'A set of screwdrivers: M2.5, M3 Phillips, and some jeweler''s screwdrivers.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一套螺丝刀：M2.5、M3 斜口螺丝刀和一些珠宝匠螺丝刀。
- en: A pair of long-nose pliers. Optionally, a set of miniature metric spanners.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一把长鼻钳。可选，一套微型公制扳手。
- en: Some electrical tape.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些电工胶带。
- en: Hook and loop or Velcro tape.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 挂钩和搭扣或魔术贴胶带。
- en: Drawing software such as [app.diagrams.net](http://app.diagrams.net), Inkscape,
    Visio, or similar software.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 绘图软件，如 [app.diagrams.net](http://app.diagrams.net)、Inkscape、Visio 或类似软件。
- en: Nylon standoff kits for M2.5 and M3 threads.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: M2.5 和 M3 螺纹的尼龙支撑套件。
- en: Some insulation tape.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些绝缘胶带。
- en: Four AA batteries, charged.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 四节 AA 电池，已充电。
- en: Important note
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: You will be choosing and purchasing a chassis, motor controller, and battery
    compartment in this chapter, but do not buy them yet.
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在本章中，你将选择并购买底盘、电机控制器和电池盒，但不要现在就购买。
- en: 'Check out the following video to see the Code in Action: [https://bit.ly/3oLofCg](https://bit.ly/3oLofCg)'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 观看以下视频以查看代码的实际应用：[https://bit.ly/3oLofCg](https://bit.ly/3oLofCg)
- en: Choosing a robot chassis kit
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择机器人底盘套件
- en: The chassis, like the controller, is a fundamental decision when making a robot.
    Although these can be self-made using 3D printing or toy hacking, the simplest
    place to start is with a chassis kit. These kits contain sets of parts to start
    your robot build. A chassis can be changed, but it would mean rebuilding the robot.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 底盘，就像控制器一样，是制作机器人的一个基本决定。虽然可以使用 3D 打印或玩具改造来自行制作，但最简单的开始方式是使用底盘套件。这些套件包含开始机器人构建所需的零件套件。底盘可以更换，但这将意味着重新构建机器人。
- en: The internet has plenty of chassis kits around – too many. So how do you choose
    one?
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上有许多底盘套件 – 太多了。那么，你如何选择一个呢？
- en: Size
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 尺寸
- en: 'Getting the size of a robot right matters too. Make too small a robot and you
    will need miniaturization skills for electronics; too large and you will need
    far more serious power handling. These are both things to avoid for a beginner:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 确定机器人的尺寸也很重要。如果机器人太小，你需要微型化电子技能；如果太大，你需要处理更多严重的电源。这两者都是初学者应该避免的事情：
- en: '![Figure 6.1 – Robot chassis sizes compared'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.1 – 机器人底盘尺寸比较'
- en: '](img/B15660_06_01.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_01.jpg)'
- en: Figure 6.1 – Robot chassis sizes compared
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.1 – 机器人底盘尺寸比较
- en: 'We can compare different robot sizes from the chassis photos in *Figure 6.1*:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以从 *图 6.1* 中的底盘照片比较不同尺寸的机器人：
- en: '**Chassis 1** has a diameter of 11 cm and just about fits a controller in but
    is too tiny. Being so small makes it hard to build your robot. Squeezing the controller,
    power, and all the sensors into this small space would need skill and experience
    beyond the scope of a first robot build.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**底盘 1** 的直径为 11 厘米，勉强可以装下一个控制器，但太小了。如此小巧使得构建机器人变得困难。将控制器、电源和所有传感器挤压到这个小空间需要超出初学者机器人构建范围的技术和经验。'
- en: '**Chassis 2** is Armbot. This bigger robot is 33 cm by 30 cm wide, giving it
    lots of space and an arm reach of another 300 mm. It needs eight AA batteries,
    big motors, and a powerful motor controller. These add to the expense and may
    cause issues around power handling, weight, and rigidity for a new builder. Armbot
    is one of my most expensive robots, excluding the cost of the arm!'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**底盘2**是Armbot。这个更大的机器人宽33厘米，长30厘米，提供了大量的空间和额外的300毫米手臂伸展范围。它需要八个AA电池、大电机和强大的电机控制器。这些增加了成本，并且可能对新手在处理电力、重量和刚性方面造成问题。Armbot是我最昂贵的机器人之一，不包括手臂的成本！'
- en: '**Chassis 3** fits the Pi, batteries, and sensor, but without being large and
    bulky. It is around the right dimensions, being between 15-20 cm long and 10-15
    cm wide. Those that have split levels might work for this, but no more than two
    levels, as three or four can make a robot top-heavy and cause it to topple. Chassis
    3 has enough space and is relatively easy to build.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**底盘3**适合Pi、电池和传感器，但不会很大或笨重。它的尺寸恰到好处，大约长15-20厘米，宽10-15厘米。那些有分层设计的可能适用，但不超过两层，因为三层或四层会使机器人顶部过重，导致其倾倒。底盘3有足够的空间，并且相对容易构建。'
- en: Let's look at the wheel count next.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看轮子的数量。
- en: Wheel count
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 轮子数量
- en: Some chassis kits have elaborate movement methods – legs, tank tracks, Mecanum
    wheels, and tri-star wheels, to name a few. While these are fun and I encourage
    experimenting with them, this is not the place to start. I recommend thoroughly
    sensible and basic wheels on the your first robot.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一些底盘套件有复杂的移动方式——腿、坦克履带、梅卡诺轮和三叉星轮，仅举几例。虽然这些很有趣，我也鼓励尝试它们，但这不是开始的地方。我建议在您的第一台机器人上使用彻底合理和基本的轮子。
- en: 'There are kits with four-wheel drive (shown in *Figure 6.2*) and six-wheel
    drive. These can be quite powerful and require larger motor controllers. They
    may also chew through batteries, and you are increasing the likelihood of overloading
    something. The additional motors can mean trickier wiring:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 有四轮驱动（如图6.2所示）和六轮驱动的套件。这些可能非常强大，需要更大的电机控制器。它们也可能消耗大量电池，并且增加了超载某物的可能性。额外的电机可能意味着更复杂的布线：
- en: '![Figure 6.2 – Four-wheel drive robot'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.2 – 四轮驱动机器人'
- en: '](img/B15660_06_02.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_02.jpg](img/B15660_06_02.jpg)'
- en: Figure 6.2 – Four-wheel drive robot
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.2 – 四轮驱动机器人
- en: 'Two-wheel drive is the simplest to wire in. It usually requires a third wheel
    for balance. The third wheel can be a castor wheel (shown in *Figure 6.3*), a
    rollerball, or just a Teflon sled for tiny robots. Two wheels are also the easiest
    to steer, avoiding some friction issues seen with robots using four or more wheels:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 两轮驱动最简单，通常需要一个第三轮来保持平衡。第三轮可以是万向轮（如图6.3所示）、滚球或仅为微型机器人设计的Teflon滑板。两个轮子也是最易于操控的，避免了使用四个或更多轮子的机器人所遇到的某些摩擦问题：
- en: '![ Figure 6.3 – Two wheels with a castor'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.3 – 带有万向轮的两个轮子'
- en: '](img/B15660_06_03.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_03.jpg](img/B15660_06_03.jpg)'
- en: Figure 6.3 – Two wheels with a castor
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.3 – 带有万向轮的两个轮子
- en: Two wheels won't have the pulling power of four- or six-wheel drive, but they
    are simple and work. They are also the least expensive.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 两个轮子没有四轮或六轮驱动的牵引力，但它们简单且有效。它们也是最便宜的。
- en: Wheels and motors
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 轮子和电机
- en: 'A kit for a beginner should come with the wheels and the motors. The wheels
    should have simple rubber tires. *Figure 6.4* shows a common style for inexpensive
    robot wheels. There are many kits with these in them:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 对于初学者来说，套件应该包括轮子和电机。轮子应该有简单的橡胶轮胎。图6.4显示了低成本机器人轮子的常见样式。许多套件中都包含这些：
- en: '![Figure 6.4 – Common inexpensive robot wheels'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_04.jpg](img/B15660_06_04.jpg)'
- en: '](img/B15660_06_04.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_04.jpg](img/B15660_06_04.jpg)'
- en: Figure 6.4 – Common inexpensive robot wheels
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.4 – 常见的低成本机器人轮子
- en: The kit should also have two motors, one for each wheel, and include the screws
    or parts to mount them onto the chassis. I recommend DC gear motors, as the gearing
    keeps the speed usable while increasing the mechanical pushing power the robot
    has.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 套件还应包括两个电机，一个用于每个轮子，并包括将其安装到底盘上的螺丝或部件。我建议使用直流齿轮电机，因为齿轮可以保持速度可用，同时增加机器人具有的机械推力。
- en: 'Importantly, the motors should have the wires connected, like the first motor
    in *Figure 6.5*:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是，电机应该像图6.5中的第一个电机那样连接好电线：
- en: '![Figure 6.5 – Gear motors with and without wires'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.5 – 有线和无线齿轮电机'
- en: '](img/B15660_06_05.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_05.jpg](img/B15660_06_05.jpg)'
- en: Figure 6.5 – Gear motors with and without wires
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.5 – 有线和无线齿轮电机
- en: 'It is tricky to solder or attach these wires to the small tags on motors, and
    poorly attached ones have a frustrating habit of coming off. The kits you want
    to start with have these wires attached, as can be seen in *Figure 6.6*:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些电线焊接或连接到电机上的小标签上很棘手，而且连接不良的电线有令人沮丧的习惯，总是容易脱落。你想要开始使用的套件中已经包含了这些电线，如图*图6.6*所示：
- en: '![Figure 6.6 – Encoder wheel and slot close up'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.6 – 编码器轮和插槽特写'
- en: '](img/B15660_06_06.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_06.jpg]'
- en: Figure 6.6 – Encoder wheel and slot close up
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.6 – 编码器轮和插槽特写
- en: Where the motors are mounted, the kits should have some encoder wheels, and
    a slot to read them through. The encoder wheels are also known as odometry, tachometer,
    or tacho wheels.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在电机安装的位置，套件应该有一些编码器轮和一个读取它们的插槽。编码器轮也被称为里程表、转速表或转速轮。
- en: Simplicity
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 简单性
- en: You don't want to use a complex or hard-to-assemble kit for your first robot
    build. I've repeated this throughout that with two-wheel drive, you want two motors
    with the wires soldered on. I steer clear of large robots, or unique and exciting
    locomotion systems, not because they are flawed, but because it's better to start
    simple. There is a limit to this, a robot kit that is a fully built and enclosed
    when bought leaves little room for learning or experimentation. An entirely premade
    robot may require toy hacking skills to customize.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 你不希望为你的第一个机器人搭建使用一个复杂或难以组装的套件。我反复强调，在两轮驱动的情况下，你想要两个带有焊接电线的电机。我避免使用大型机器人或独特而令人兴奋的移动系统，并不是因为它们有缺陷，而是因为从简单开始更好。这有一个限制，即购买时已经完全组装和封闭的机器人套件，留给学习和实验的空间很少。一个完全预制的机器人可能需要玩具黑客技能来定制。
- en: Cost
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 成本
- en: Related to simplicity is cost. You can buy robot chassis kits from around $15,
    up to thousands of dollars. Larger and more complex robots tend to be far more
    costly. For this book, I am aiming to keep to the less costly options or at least
    show where they are possible.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 与简单性相关的是成本。你可以从大约15美元购买机器人底盘套件，到数千美元不等。更大、更复杂的机器人往往成本更高。对于这本书，我旨在保持较低的成本选项，或者至少展示它们是可能的。
- en: Conclusion
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结论
- en: 'So, now you can choose a chassis kit, with two wheels and a castor, two motors
    with wires soldered on them, slots, and encoder wheels. These laser-cut bases
    are not expensive, and are widely available on popular internet shopping sites
    as *Smart Car Chassis*, with terms like *2WD*:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，现在你可以选择一个底盘套件，它包含两个轮子和一个万向轮，两个带有焊接电线的电机，插槽和编码器轮。这些激光切割的底盘并不昂贵，在流行的互联网购物网站上广泛可用，被称为*智能车底盘*，例如*2WD*：
- en: '![Figure 6.7 – The robot kit I''m using'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.7 – 我正在使用的机器人套件'
- en: '](img/B15660_06_07.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_07.jpg]'
- en: Figure 6.7 – The robot kit I'm using
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.7 – 我正在使用的机器人套件
- en: The kit I'm working with looks like *Figure 6.7* when assembled without the
    Raspberry Pi.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 我正在使用的套件在没有Raspberry Pi组装时看起来像*图6.7*。
- en: We've chosen a chassis kit. It is a medium-sized one that doesn't need large
    power handling. It has some space constraints but is not tiny. We can use these
    attributes to choose the motor controller.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经选择了一个底盘套件。这是一个中等大小的套件，不需要处理大量电力。它有一些空间限制，但并不小。我们可以使用这些属性来选择电机控制器。
- en: Choosing a motor controller board
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择电机控制器板
- en: The next important part you'll need is a motor controller. You cannot connect
    a Raspberry Pi directly to DC motors, as they require different voltages and high
    currents that would destroy GPIO pins. Motor controller boards can also add interfaces
    to other devices like sensors and other motor types.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 你接下来需要的重要部分是一个电机控制器。你不能直接将Raspberry Pi连接到直流电机，因为它们需要不同的电压和高电流，这会损坏GPIO引脚。电机控制器板还可以添加接口到其他设备，如传感器和其他类型的电机。
- en: 'It is a vital robot component that will guide many later decisions. Much like
    the motors, there are some trade-offs and considerations before buying one:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 它是一个至关重要的机器人组件，将指导许多后续的决定。与电机一样，在购买之前有一些权衡和考虑：
- en: '![Figure 6.8 – A selection of motor control boards'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.8 – 电机控制板的选择'
- en: '](img/B15660_06_08.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_08.jpg]'
- en: Figure 6.8 – A selection of motor control boards
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.8 – 电机控制板的选择
- en: '*Figure 6.8* shows a small sample group of motor controller boards. As we compare
    the requirements of our motor board, we refer to the boards pictured there as
    examples.'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6.8*展示了一个小型的电机控制器板样本组。当我们比较我们电机板的需求时，我们参考那里展示的板作为例子。'
- en: Integration level
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 集成程度
- en: Motor controllers may only control a motor (usually 2) like the L298N, containing
    the barest minimum to run this chip safely. They are not designed to sit on a
    Raspberry Pi and must be wired into the Pi's I/O output.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 电机控制器可能只能控制一个电机（通常是2个），如 L298N，包含最基本的安全运行此芯片的配置。它们不是设计在 Raspberry Pi 上使用的，必须连接到
    Pi 的 I/O 输出。
- en: Controllers like the PiZMoto sit on top of the Raspberry Pi, reducing wiring.
    They still contain only a single circuit to control a motor. They also have pins
    to connect additional devices like a distance sensor and line sensor, which shift
    voltage levels, as we'll see later. This and the L298N require the Raspberry Pi
    to generate the PWM signal to move motors.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于 PiZMoto 的控制器安装在 Raspberry Pi 之上，减少了布线。它们仍然只包含一个电路来控制电机。它们还配有引脚，可以连接额外的设备，如距离传感器和线传感器，这些传感器会改变电压等级，我们稍后会看到。这和
    L298N 都需要 Raspberry Pi 生成 PWM 信号来驱动电机。
- en: At a higher level of integration is the Full Function Stepper HAT. It has a
    chip that specializes in PWM control and is capable of driving multiple servo
    motors along with DC motors. This HAT frees up Raspberry Pi I/O pins by using
    I2C.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在更高层次的集成中是全功能步进 HAT。它有一个专门用于 PWM 控制的芯片，能够驱动多个伺服电机和直流电机。这个 HAT 通过使用 I2C 释放了 Raspberry
    Pi 的 I/O 引脚。
- en: The PiConZero is the most integrated device here. It uses a microcontroller
    that is the equivalent of an Arduino to control DC motors and servo motors, to
    output to lights and take input from various sensors. It also uses I2C, reducing
    the number of pins needed.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: PiConZero 是这里最集成的设备。它使用一个相当于 Arduino 的微控制器来控制直流电机和伺服电机，输出到灯光并从各种传感器接收输入。它还使用
    I2C，减少了所需的引脚数量。
- en: Pin usage
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 引脚使用
- en: When buying a motor controller in Raspberry Pi HAT form, it's essential to consider
    which I/O pins are in use. Having boards that make use of the same pins for incompatible
    functions won't work.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 当在 Raspberry Pi HAT 形式购买电机控制器时，考虑正在使用的 I/O 引脚非常重要。使用相同引脚进行不兼容功能的板不会工作。
- en: Important note
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Although a HAT plugs into all pins, this doesn't mean they are all used. Only
    a subset of the pins is usually actually connected on a HAT.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然HAT插入了所有引脚，但这并不意味着它们都被使用。通常只有HAT上的一小部分引脚实际上被连接。
- en: To get an idea of how pins in different boards interact on the Raspberry Pi,
    take a look at [https://pinout.xyz](https://pinout.xyz), which lets you select
    Raspberry Pi boards and see the pin configuration for them.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解不同板在 Raspberry Pi 上的引脚交互，请查看 [https://pinout.xyz](https://pinout.xyz)，它允许您选择
    Raspberry Pi 板并查看它们的引脚配置。
- en: Using the L298N would require four I/O pins for the DC motors, and using sensors
    or servo motors with it requires further pins. The PIZMoto functions in a similar
    way to the L298N, requiring four I/O pins for DC motor control. The PiZMoto also
    assigns a pin for the line detector, two for distance sensing, two for LEDs, tying
    up a total of nine GPIO pins. The PiZMoto would also require additional support
    for servo motors.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 L298N 需要四个 I/O 引脚来控制直流电机，使用传感器或伺服电机则需要更多的引脚。PIZMoto 的功能与 L298N 类似，需要四个 I/O
    引脚来控制直流电机。PIZMoto 还为线检测器分配了一个引脚，为距离感应分配了两个引脚，为LED分配了两个引脚，总共占用了九个 GPIO 引脚。PIZMoto
    还需要额外的伺服电机支持。
- en: The PiConZero and Full Function Stepper HAT both use the I2C bus. Using the
    I2C or serial bus makes efficient use of pins, as they use only two pins for I2C.
    Multiple devices can share the I2C bus, so even the use of these pins is shared.
    The PiConZero assigns some other pins to functions like the Ultrasonic device.
    The Full Function Stepper HAT leaves all other pins free to use while supporting
    the DC motors and 5 servo motors from a single I2C connection, making it one of
    the most flexible control boards in the selection.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: PiConZero 和全功能步进 HAT 都使用 I2C 总线。使用 I2C 或串行总线可以有效地使用引脚，因为它们只使用两个引脚进行 I2C。多个设备可以共享
    I2C 总线，因此这些引脚的使用也是共享的。PiConZero 将一些其他引脚分配给超声波设备等功能。全功能步进 HAT 在支持直流电机和5个伺服电机的同时，将所有其他引脚留出供使用，使其成为选择中最灵活的控制板之一。
- en: Size
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 尺寸
- en: The choice of the motor controller size depends on the chassis and the size
    of the motors you have. In simple terms, the larger your chassis, the larger a
    controller you need. We specify the power handling capacity of a motor controller
    in amps. For a robot like the one shown in *Figure 6.7*, around 1 to 1.5 amps
    per channel is good.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 电机控制器的大小选择取决于底盘和您拥有的电机的大小。简单来说，底盘越大，所需的控制器就越大。我们指定电机控制器的功率处理能力为安培。对于像 *图6.7*
    中所示的机器人，每个通道大约需要 1 到 1.5 安培。
- en: 'The consequence of too low a rating can range from a robot that barely moves
    up to catching fire. Too large a controller has consequences for space, weight,
    and cost. A heatsink is one way to keep a controller cool while handling current
    but makes the controller larger, as shown in *Figure 6.9*:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 电压过低可能导致机器人几乎无法移动，甚至起火。控制器过大对空间、重量和成本都有影响。散热器是一种保持控制器冷却并处理电流的方法，但会使控制器更大，如图
    6.9 所示：
- en: '![Figure 6.9 – An L298N with a heatsink'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.9 – 配有散热器的 L298N'
- en: '](img/B15660_06_09.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_09.jpg)'
- en: Figure 6.9 – An L298N with a heatsink
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.9 – 配有散热器的 L298N
- en: The level of integration can also contribute to size. A tiny board that stacks
    on a Pi takes up less space than separate boards.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 集成度的高低也会影响尺寸。一个堆叠在 Pi 板上的小板比单独的板占用空间更少。
- en: Another size or shape consideration is whether the board restricts access to
    the Raspberry Pi camera port. Some boards, such as the Pimoroni Explorer HAT Pro,
    cover the camera slot entirely, making it tricky to use. Some boards have a slot
    for the camera port, like the Full Function Stepper HAT, and others are half-size
    hats (pHat) that don't cover the area, such as the PiConZero and PizMoto.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要考虑的尺寸或形状因素是板是否限制了 Raspberry Pi 摄像头端口的使用。一些板，如 Pimoroni Explorer HAT Pro，完全覆盖了摄像头插槽，使得使用变得很麻烦。一些板有摄像头端口的插槽，如
    Full Function Stepper HAT，而其他的是半尺寸帽子（pHat），如 PiConZero 和 PizMoto，它们不覆盖该区域。
- en: As we are using the camera in this book, it is a requirement that the camera
    port is accessible, either through a slot or by being a half-size (PHat) board.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们在本书中使用摄像头，因此摄像头端口必须是可访问的，无论是通过插槽还是通过作为半尺寸（PHat）板。
- en: Soldering
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 焊接
- en: As you choose boards for a robot, note that some come as kits themselves, requiring
    you to solder parts on them. If you have experience with this, it may be an option,
    with a time cost. A small header is going to be a very quick and easy job. A board
    that comes as a bag of components with a bare board will take a chunk of an evening
    and could require debugging itself.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 当你为机器人选择板时，请注意，一些板本身是套件，需要你在上面焊接部件。如果你有这方面的经验，这可能是一个选择，但会花费时间成本。一个小型引脚头将是一个非常快速和简单的工作。一个作为组件袋和裸板一起提供的板可能需要花费一个晚上的时间，并且可能需要调试。
- en: Tip
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: Soldering is an essential skill for robot building but is not needed for a first
    robot, so for this book, I mostly recommend pre-assembled modules.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 焊接是机器人构建的基本技能，但对于第一个机器人来说不是必需的，因此对于这本书，我主要推荐预组装模块。
- en: Power input
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 电源输入
- en: Motors can require different voltages from the 5 V power supply the Raspberry
    Pi uses. They are also likely to consume a high current. We cover power supply
    choices later, but it is usually good to separate the power supply for the motor
    from the supply for the Raspberry Pi. All the boards in *Figure 6.8* have a separate
    motor power supply input.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 电机可能需要比 Raspberry Pi 使用的 5 V 电源不同的电压。它们也可能会消耗大量电流。我们将在后面讨论电源选择，但通常最好将电机电源与 Raspberry
    Pi 的电源分开。图 6.8 中的所有板都有独立的电机电源输入。
- en: The PiConZero and L298N let the user power the Raspberry Pi from the motor supply,
    but this can lead to reset and dropout conditions. Some motor interface boards,
    such as the Adafruit Crickit and the Pimoroni Explorer HAT Pro use the same 5
    V supply for the motors and the Raspberry Pi, requiring a high current capable
    5 V supply. My recommendation is to ensure the motor board has a separate power
    input for motors.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: PiConZero 和 L298N 允许用户从电机电源为 Raspberry Pi 提供电源，但这可能导致复位和断电条件。一些电机接口板，如 Adafruit
    Crickit 和 Pimoroni Explorer HAT Pro，使用与电机相同的 5 V 电源为 Raspberry Pi 提供电源，需要高电流容量的
    5 V 电源。我的建议是确保电机板有独立的电机电源输入。
- en: Connectors
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 连接器
- en: 'Closely related to soldering and power input are the connectors for the motors
    and batteries. I tend to prefer the screw type connectors shown in *Figure 6.10*:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 与焊接和电源输入密切相关的是电机和电池的连接器。我倾向于更喜欢图 6.10 中所示的螺钉型连接器：
- en: '![Figure 6.10 – Screw terminals for motor and battery connections'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.10 – 电机和电池连接的螺钉端子'
- en: '](img/B15660_06_10.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_10.jpg)'
- en: Figure 6.10 – Screw terminals for motor and battery connections
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.10 – 电机和电池连接的螺钉端子
- en: Other types may require motors with special connectors, or a robot builder to
    have crimping skills.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 其他类型可能需要特殊连接器的电机，或者机器人构建者需要具备压接技能。
- en: Conclusion
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结论
- en: 'Our robot is space-constrained; for this reason, we use the Raspberry Pi HAT
    type form factor. We are also looking to keep the number of pins it uses low.
    An I2C-based HAT lets us do this. The **Full Function Stepper Motor HAT** is shown
    in *Figure 6.11*. It''s also known as the Full Function Robot Expansion Board
    and gets us access to all the Pi pins while being a powerful motor controller:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的机器人空间有限；因此，我们使用Raspberry Pi HAT类型的尺寸。我们还在努力减少它使用的引脚数量。基于I2C的HAT让我们做到了这一点。**全功能步进电机HAT**如图6.11所示。它也被称为全功能机器人扩展板，使我们能够访问所有Pi引脚，同时作为一个强大的电机控制器：
- en: '![Figure 6.11 – The Full Function Stepper Motor HAT'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.11 – 全功能步进电机HAT]'
- en: '](img/B15660_06_11.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_11.jpg]'
- en: Figure 6.11 – The Full Function Stepper Motor HAT
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.11 – 全功能步进电机HAT
- en: It's available in most countries, has space for the ribbon for the camera, and
    controls servo motors. I recommend this HAT for the robot in this book. Our code
    is directly compatible with boards based on the PCA9685 chip used on the Full
    Function board. With some minor changes in code and wiring, the 4tronix PiConZero
    would also be a suitable choice.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 它在大多数国家都有售，有空间放置摄像头的带状线，并控制伺服电机。我推荐这本书中的机器人使用这个HAT。我们的代码与基于Full Function板上PCA9685芯片的板直接兼容。通过在代码和布线上进行一些小的修改，4tronix
    PiConZero也是一个合适的选择。
- en: Powering the robot
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为机器人供电
- en: 'The robot needs power for all its parts. We must consider two major power systems:
    the power for all the digital parts, such as the Raspberry Pi and sensors, and
    then the power for the motors.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人需要为其所有部件供电。我们必须考虑两个主要电源系统：所有数字部件的电源，如Raspberry Pi和传感器，然后是电机的电源。
- en: Motors need a separate power system for a few reasons. First, they consume far
    more electrical power than most other components on the robot. They may require
    different voltages; I've seen low-voltage, high-current motor supplies and high-voltage
    supplies too. The other reason that they need their own power system is that they
    can cause interference. They can pull enough power that other circuitry has brownouts.
    A brownout is when circuitry has a voltage drop that is low or long enough to
    get into an inconsistent or reset state. Resets can lead to SD card corruption
    on a Pi. Motors can also introduce electrical noise to a power line as they are
    used, which could cause digital parts to misbehave.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 电机需要单独的电源系统，原因有几个。首先，它们消耗的电能比机器人上大多数其他组件都要多。它们可能需要不同的电压；我见过低压、大电流的电机电源和高压电源。另一个原因是它们可以引起干扰。它们可以拉取足够的电力，导致其他电路出现电压降低。电压降低是指电路电压下降到足够低或持续时间足够长，以至于进入不一致或重置状态。重置可能导致Pi上的SD卡损坏。电机在使用时还可以向电源线引入电气噪声，这可能导致数字部件出现异常行为。
- en: 'There are two primary strategies for powering a robot with motors:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 为带有电机的机器人供电有两种主要策略：
- en: '**Dual batteries**: The motors and the rest of the robot have entirely separate
    sets of batteries, ensuring that their power is independent.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**双电池**：电机和机器人其余部分完全独立的电池组，确保它们的电源是独立的。'
- en: '**Battery eliminators**: Use a single battery or are set with a BEC/regulator.
    A **BEC** is a **battery eliminator circuit**, shown in *Figure 6.12*:'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**电池消除器**：使用单个电池或设置BEC/稳压器。BEC是**电池消除电路**，如图6.12所示：'
- en: '![Figure 6.12 – Picture of a BEC'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.12 – BEC的图片]'
- en: '](img/B15660_06_12.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_12.jpg]'
- en: Figure 6.12 – Picture of a BEC
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.12 – BEC的图片
- en: 'Dual batteries are the surest option to avoid any brownout, loss of power,
    or interference issues. This option takes more space than a BEC. However, the
    dual power option, with a USB power bank for the Raspberry Pi (shown in *Figure
    6.13*) is a simple and effective way to avoid power issues. Choose one with small
    outercase dimensions, but a high power-rating, such as 10,000 mAh, and an output
    of at least 2.1 A:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 双电池是避免任何电压降低、断电或干扰问题的最可靠选择。这种选择比BEC占用更多空间。然而，为Raspberry Pi配备USB移动电源的双电源选项（如图6.13所示）是一种简单而有效的方法来避免电源问题。选择一个外壳尺寸小、功率评级高，例如10,000
    mAh，输出至少2.1 A的电源：
- en: '![Figure 6.13 – The USB power bank from Armbot – slightly old and battered,
    but still effective'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.13 – Armbot的USB移动电源 – 稍显陈旧且有些磨损，但仍然有效]'
- en: '](img/B15660_06_13.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_13.jpg]'
- en: Figure 6.13 – The USB power bank from Armbot – slightly old and battered, but
    still effective
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.13 – Armbot的USB移动电源 – 稍显陈旧且有些磨损，但仍然有效
- en: Check that the USB power bank comes with the cable to connect the Raspberry
    Pi – a Raspberry Pi 3 (A+ and B+) requires a USB micro connector, and the Raspberry
    Pi 4 requires a USB-C connector. Power bank outputs usually use a USB-A connector.
    If they are not included with the power bank, you will need to buy one of these
    cables too.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 请检查USB移动电源是否附带连接Raspberry Pi的电缆——Raspberry Pi 3（A+和B+）需要USB微型连接器，而Raspberry
    Pi 4需要USB-C连接器。移动电源的输出通常使用USB-A连接器。如果它们没有包含在移动电源中，您还需要购买这些电缆之一。
- en: Motor controller boards sometimes have power supplies to regulate power for
    a Pi from the motor power. These often have too low an output rating. They can
    be very inefficient, wasting a lot of battery power. Unless using very high current
    handling batteries, they are very likely to lead to brownouts.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 电机控制器板有时会提供电源来调节从电机电源到Pi的电力。这些通常输出额定值过低。它们可能非常低效，浪费大量电池电力。除非使用高电流处理电池，否则它们很可能导致电压降低，导致断电。
- en: A battery eliminator circuit is lighter and takes up less space. Types include
    a BEC, uBEC, switching supply, or a regulator. Battery eliminators usually need
    high-power batteries such as Li-Ion types. By sharing a supply with motors, batteries
    need enough current capacity not to be vulnerable to the voltage drops that cause
    controller resets and line noise for the controller. This requirement affects
    switching power supply Pi SHIMs like the Wide Input SHIM and the power supplies
    built into some motor controllers.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 电池消除电路更轻，占用的空间更小。类型包括BEC、uBEC、开关电源或稳压器。电池消除器通常需要高功率电池，如锂离子电池。通过与电机共享电源，电池需要足够的电流容量，以避免电压下降导致控制器复位和线路噪声。这一要求影响了像Wide
    Input SHIM这样的开关电源Pi SHIM以及一些电机控制器中内置的电源。
- en: You need to ensure that the BEC output can handle at least 2.1 A, preferably
    more. It's common to see 3.4 A and 4.2 A power banks. UBECs with 5 A ratings are
    also reasonably common.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要确保BEC输出至少可以处理2.1 A，最好是更多。3.4 A和4.2 A的电源银行很常见。5 A额定值的UBEC也很常见。
- en: 'To keep things simple in this robot, and not have to deal with reset issues,
    we use the dual battery approach and accept the cost in bulk and weight:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使这个机器人简单，并且不需要处理复位问题，我们采用双电池方案，并接受大量和重量上的成本：
- en: '![Figure 6.14 – The 4 x AA battery box we use with the motors'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.14 – 我们与电机一起使用的4 x AA电池盒'
- en: '](img/B15660_06_14.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_14.jpg)'
- en: Figure 6.14 – The 4 x AA battery box we use with the motors
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.14 – 我们与电机一起使用的4 x AA电池盒
- en: For the motors, 4 x AA batteries work. I recommend using nickel metal hydride
    rechargeable batteries for them. That is not just because you can recharge them,
    but also because they can deliver more current if needed than alkaline batteries.
    To save space, we use the *two up/two down* or *back to back* configuration, like
    the battery box shown in *Figure 6.14*.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 对于电机，4 x AA电池就足够了。我建议使用镍金属氢化物可充电电池。这不仅仅是因为您可以充电，还因为它们在需要时可以提供比碱性电池更多的电流。为了节省空间，我们使用*两个向上/两个向下*或*背对背*配置，就像*图6.14*中显示的电池盒一样。
- en: In conclusion, for our battery selection, we will use a 4 x AA metal hydride
    set for the motors and a USB power bank for the Raspberry Pi and logic.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，在我们的电池选择中，我们将为电机使用一个4 x AA金属氢化物电池组，并为Raspberry Pi和逻辑电路使用一个USB移动电源。
- en: We have now made part selections. We know which chassis, controller, and battery
    configurations we will use. We have seen the size of the motors and wheels, and
    have, in previous chapters, selected a Raspberry Pi model to use. Before we go
    ahead and buy all this, we should make a further check to see that it will all
    fit. In the next section, let's learn about test fitting robot parts.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经做出了零件选择。我们知道我们将使用哪种底盘、控制器和电池配置。我们已经看到了电机和轮子的尺寸，在前几章中，我们已经选择了一个Raspberry
    Pi型号来使用。在我们继续购买所有这些零件之前，我们应该进一步检查以确保它们都能安装。在下一节中，我们将学习如何测试安装机器人零件。
- en: Test fitting the robot
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 测试安装机器人
- en: I recommend test fitting before actually ordering parts. The test fit helps
    a builder be more confident that components fit, and you'll know roughly where
    these parts go. This step saves you time and money later.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议在订购零件之前先进行测试安装。测试安装可以帮助构建者更有信心地确保组件匹配，并且您将大致知道这些组件的位置。这一步骤可以为您节省时间和金钱。
- en: 'You can use paper and a pen for test fitting, or an app such as [diagrams.net](http://diagrams.net).
    First, I find the dimensions for all the parts. *Figure 6.15* has a screenshot
    from Amazon showing how to spot product dimensions:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用纸张和笔进行测试装配，或者使用 [diagrams.net](http://diagrams.net) 这样的应用程序。首先，我找到了所有部件的尺寸。*图
    6.15* 展示了从亚马逊获取产品尺寸的方法：
- en: '![Figure 6.15 – Finding product specifications'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.15 – 查找产品规格'
- en: '](img/B15660_06_15.jpg)'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_15.jpg)'
- en: Figure 6.15 – Finding product specifications
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.15 – 查找产品规格
- en: 'Some information-digging is needed to find these for your parts. For each,
    first find a shop you can buy them at, such as Amazon, several online shops, or
    eBay. You can then search for or ask for information about the dimensions of each
    board or item. Make sure you are looking at the dimensions of the part and not
    its packaging:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 需要进行一些信息挖掘才能找到这些尺寸。对于每个部件，首先找到一个可以购买的地方，例如亚马逊、几个在线商店或 eBay。然后，您可以搜索或询问有关每个板或物品尺寸的信息。确保您查看的是部件的尺寸，而不是其包装：
- en: '![Figure 6.16 – A battery box product drawing with dimensions'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.16 – 带尺寸的电池盒产品图纸'
- en: '](img/B15660_06_16.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_16.jpg)'
- en: Figure 6.16 – A battery box product drawing with dimensions
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.16 – 带尺寸的电池盒产品图纸
- en: You can find diagrams like the battery box in *Figure 6.16* by doing image searches
    on dimensions or part datasheets. In this case, the dimensions are in mm. The
    ± signs show the manufacturing variation of plus or minus the next number. When
    test fitting, err on the higher side, so take 57±1 as 58 mm for that dimension.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在 *图 6.16* 中找到类似电池盒的图表，通过在尺寸或部件数据表中搜索图像。在这种情况下，尺寸以毫米为单位。正负号表示制造公差，即下一个数字的正负。在测试装配时，偏向较高的一侧，所以将
    57±1 视为 58 mm。
- en: 'So, the dimensions I have are as follows:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我拥有的尺寸如下：
- en: 'The Raspberry Pi 3a+: 65 mm x 56 mm.'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Raspberry Pi 3a+：65 mm x 56 mm。
- en: 'The chassis: Mine suggests it is 100 mm x 200 mm. Be aware that the dimensions
    here are outer dimensions and include the wheels.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 底盘：我的建议是 100 mm x 200 mm。请注意，这里的尺寸是外尺寸，包括车轮。
- en: The motor controller fits over the Pi, so it is counted here as the Pi. This
    controller makes things taller but is only really a concern for a multi-level
    robot chassis.
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电机控制器覆盖在 Pi 上，因此它被计算为 Pi。这个控制器会使东西变高，但仅对多层机器人底盘有实际影响。
- en: 'The 4 x AA battery box: The type I suggested is 58 mm x 31.5 mm.'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4 x AA 电池盒：我建议的类型是 58 mm x 31.5 mm。
- en: 'The USB power bank: 60 mm x 90 mm.'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: USB 电源银行：60 mm x 90 mm。
- en: 'For this, drawing rectangles to scale is enough detail. In [diagrams.net](http://diagrams.net),
    create a new blank diagram:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 对于此，按比例绘制矩形就足够详细了。在 [diagrams.net](http://diagrams.net) 中创建一个新的空白图表：
- en: '![Figure 6.17 – Using diagrams.net to create test fit parts'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.17 – 使用 diagrams.net 创建测试装配部件'
- en: '](img/B15660_06_17.jpg)'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_17.jpg)'
- en: Figure 6.17 – Using diagrams.net to create test fit parts
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.17 – 使用 diagrams.net 创建测试装配部件
- en: 'You can follow the instructions to create test fit parts as shown in *Figure
    6.17*:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按照说明创建如图 6.17 所示的测试装配部件：
- en: Use the general palette on the left to drag out rectangles.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用左侧的通用调色板拖出矩形。
- en: It helps to label each part clearly. Double-click a rectangle and type a label
    into it. Press *Enter* to accept the label. I've added a text label on the *front*
    of the chassis.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 明确标注每个部件很有帮助。双击矩形并输入标签。按 *Enter* 键接受标签。我在底盘的 *前面* 添加了一个文本标签。
- en: Select the item so it has a blue highlight. Click the tabs on the right to select
    the **Arrange** tab.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择项目，使其具有蓝色高亮。点击右侧的选项卡以选择 **排列** 选项卡。
- en: Here, type your dimensions (swap millimeters for points) into the **Width**
    and **Height** boxes.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这里，将您的尺寸（将毫米转换为点）输入到 **宽度** 和 **高度** 框中。
- en: 'You can repeat *steps 1* through *4* for all the items and then drag the parts
    together:'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以为所有项目重复 *步骤 1* 至 *4*，然后拖动部件：
- en: '![Figure 6.18 – The test fit'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.18 – 测试装配'
- en: '](img/B15660_06_18.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_18.jpg)'
- en: Figure 6.18 – The test fit
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.18 – 测试装配
- en: The Pi should be near the front of the robot, as we'll later have sensors here,
    and the motor wires can go forward into it. In *Figure 6.18*, I've dragged the
    rectangles into place. [Draw.io](http://Draw.io) helps you here by showing blue
    guidelines for centering and aligning objects. I put the power bank at the rear,
    with the AA batteries closer to the Pi so they can go into the motor controller
    easily.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: Pi 应该靠近机器人的前面，因为我们稍后会在这里放置传感器，电机线可以向前进入。在 *图 6.18* 中，我已经将矩形拖到适当的位置。[Draw.io](http://Draw.io)
    通过显示用于居中和对齐对象的蓝色指南线来帮助您。我将电源银行放在后面，将 AA 电池放在 Pi 较近的位置，以便它们可以轻松地进入电机控制器。
- en: The parts look like they fit. It's not 100% accurate, but good enough to say
    this probably works.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 这些部件看起来可以安装。虽然不是100%准确，但足够好，可以说这可能会工作。
- en: 'Now, it''s time to buy parts. My shopping list looks like this:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，是时候购买部件了。我的购物清单如下：
- en: The chassis kit.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 底盘套件。
- en: The Full Function Stepper Motor HAT.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全功能步进电机HAT。
- en: 4 x AA battery box.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4个AA电池盒。
- en: 4 x metal hydride AA batteries. If you don't have one, you need a charger for
    these too.
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4个金属氢化物AA电池。如果你没有，你需要为这些电池也购买一个充电器。
- en: 1 x USB power bank able to deliver 3 amps or more.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1个能够提供3安培或更多电流的USB移动电源。
- en: Now you've selected your parts and made the trade-offs. You've followed that
    by test fitting them to see how they're laid out and check they all fit. It's
    time for you to go and buy your parts and chassis. Once done, come back here because
    then we can begin our build.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经选择了部件并做出了权衡。你随后通过测试安装它们来查看它们的布局并检查它们是否都适合。现在是时候你去购买你的部件和底盘了。一旦完成，请回来这里，因为那时我们可以开始我们的组装。
- en: Assembling the base
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 组装底盘
- en: Assuming you bought a chassis similar to mine, you can assemble it with these
    steps. For a completely different chassis, I strongly recommend consulting the
    documentation for assembly instructions. A chassis that is very different from
    the recommendations here may make it harder to follow the next few chapters.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你购买了一个与我类似的底盘，你可以按照以下步骤组装它。对于完全不同的底盘，我强烈建议咨询组装说明文档。与这里推荐的大相径庭的底盘可能会使接下来的几章更难跟随。
- en: 'Some parts may be covered in a layer of paper (shown in *Figure 6.19*). This
    layer prevents the plastic from getting scratches and can be safely removed. You
    can do this by getting a nail under it or using a craft knife. It''s not essential
    to remove it, but a robot looks better without it:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 一些部件可能被一层纸覆盖（如*图6.19*所示）。这层纸可以防止塑料划伤，可以安全地移除。你可以通过在下面放一根钉子或使用手工刀来完成这项工作。这不是必须的，但机器人看起来没有它更好：
- en: '![Figure 6.19 – Removing the protective backing from robot parts'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.19 – 移除机器人部件的保护背衬'
- en: '](img/B15660_06_19.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B15660_06_19.jpg]'
- en: Figure 6.19 – Removing the protective backing from robot parts
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.19 – 移除机器人部件的保护背衬
- en: With the laser-cut kits that use the yellow motors, there are two main ways
    the motors are attached. One type has plastic brackets, and the other has metal
    motor brackets. Given that you may buy kits of either style, let's look at how
    the kits could differ. The difference only matters in assembly steps, so buy what
    is available to you.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 对于使用黄色电机的激光切割套件，电机有两种主要的安装方式。一种类型有塑料支架，另一种有金属电机支架。鉴于你可能购买任何一种风格的套件，让我们看看套件可能有哪些不同。这种差异仅在组装步骤中才有意义，所以购买你能够买到的套件。
- en: 'For a kit with a plastic motor bracket, you should have the parts shown in
    *Figure 6.20*:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 对于带有塑料电机支架的套件，你应该有*图6.20*中显示的部件：
- en: '![Figure 6.20 – Robot kit parts'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.20 – 机器人套件部件'
- en: '](img/B15660_06_20.jpg)'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B15660_06_20.jpg]'
- en: Figure 6.20 – Robot kit parts
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.20 – 机器人套件部件
- en: 'In the kit, you should have the following:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在套件中，你应该有以下部件：
- en: Two wheels.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 两个轮子。
- en: Encoder wheels.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编码器轮。
- en: A pair of motors with wires.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一对带线的电机。
- en: A castor wheel.
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个万向轮。
- en: Bolts and brass standoffs to mount the castor wheel. I've replaced one set of
    bolts with non-conductive nylon ones. You should be able to do the same from the
    nylon standoff kit.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于安装万向轮的螺栓和黄铜支架。我已经用非导电尼龙螺栓替换了一套。你应该可以从尼龙支架套件中做到同样的替换。
- en: The chassis plate.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 底盘板。
- en: Plastic brackets to mount the motors. Your kit may have metal types, which work
    slightly differently and come with four extra screws.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于安装电机的塑料支架。你的套件可能有金属类型，它们的工作方式略有不同，并附带四个额外的螺丝。
- en: Four bolts and nuts to mount the motors.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 四个螺栓和螺母用于安装电机。
- en: '*Figure 6.21* shows how the metal motor bracket parts differ:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6.21* 展示了金属电机支架部件的不同之处：'
- en: '![Figure. 6.21 – Metal type motor bracket'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.21 – 金属类型电机支架'
- en: '](img/B15660_06_21.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B15660_06_21.jpg]'
- en: Figure. 6.21 – Metal type motor bracket
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 图. 6.21 – 金属类型电机支架
- en: 'In the kit, you should have the following:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 在套件中，你应该有以下部件：
- en: The metal bracket replaces the plastic brackets here.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 金属支架替换了这里的塑料支架。
- en: Chassis to bracket bolts – instead of slotting through, these brackets need
    to be bolted to the chassis.
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 底盘到支架螺栓 – 这些支架需要通过螺栓固定到底盘上。
- en: The long bolts for the bracket to the motor will still be the same.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于支架到电机的长螺栓仍然相同。
- en: Important note
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: The other components not shown are going to be very similar to this.
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 其他未显示的部件将与这个非常相似。
- en: Now, let's see how to attach encoder wheels.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看如何安装编码器轮。
- en: Attaching the encoder wheels
  id: totrans-216
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装编码器轮
- en: 'We''ll start by attaching the encoder wheels to the motor. We need these for
    a later chapter on sensors:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先将编码器轮安装到电机上。我们需要这些轮子用于后续章节中的传感器部分：
- en: '![Figure 6.22 – The encoder wheel is attached to the motor'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.22 – 编码器轮安装到电机上]'
- en: '](img/B15660_06_22.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 B15660_06_22.jpg]'
- en: Figure 6.22 – The encoder wheel is attached to the motor
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.22 – 编码器轮安装到电机上
- en: 'Follow the steps in *Figure 6.22*:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 按照图 6.22 中的步骤操作：
- en: Observe on which side the wires are connected to it. The encoder wheel should
    attach on the same side as the wires.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 观察电线连接到它的哪一侧。编码器轮应该安装在电线相同的一侧。
- en: Find the axle hole with flattened sides in the encoder wheel.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在编码器轮中找到带有扁平边的轴孔。
- en: The axles on the motors are shaped to match this hole.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 电机上的轴形状与这个孔相匹配。
- en: Line up the axle hole with the motor axle on the same side as the wires and
    gently push it on. It should have a little friction. Repeat this for the other
    motor.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将轴孔与电机的轴对齐，与电线在同一侧，轻轻推入。它应该有一点摩擦。对另一个电机重复此操作。
- en: You should now have two motors with encoder wheels on them, on the same side
    as their wires. Next, we fit the motor brackets to the robot.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你应该有两个带有编码器轮的电机，它们的轮子与电线在同一侧。接下来，我们将电机支架安装到机器人上。
- en: Fitting the motor brackets
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装电机支架
- en: There are two kinds of motor brackets commonly used in the pictured laser-cut
    chassis. You should use the section that is most similar to the type you have.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图中展示的激光切割底盘通常使用两种类型的电机支架。你应该使用与你所拥有的类型最相似的部件。
- en: Fitting plastic motor brackets
  id: totrans-229
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装塑料电机支架
- en: Important note
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If you have the metal type, skip this section.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用的是金属类型，则跳过此部分。
- en: 'To fit the plastic type of bracket, first look for the slots to attach it,
    as shown in *Figure 6.23*:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装塑料类型的支架，首先寻找将其安装的槽位，如图 6.23 所示：
- en: '![Figure 6.23 – Plastic motor mount'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.23 – 塑料电机支架]'
- en: '](img/B15660_06_23.jpg)'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 B15660_06_23.jpg]'
- en: Figure 6.23 – Plastic motor mount
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.23 – 塑料电机支架
- en: 'To fit these, follow these steps:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装这些，请按照以下步骤操作：
- en: The arrows point at the slots. Push the plastic brackets through the slots.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 箭头指向槽位。将塑料支架推过槽位。
- en: Push the motor against the bracket. Note that the wires and the encoder wheel
    face the inside. The encoder should be under a cutout in the chassis body for
    it.
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电机推到支架上。注意电线和编码器轮朝向内部。编码器应该位于底盘主体上的一个凹槽中。
- en: There is a slot in the chassis for an outer bracket, sandwiching the motor.
    Push another bracket into this slot.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 底盘上有一个槽位用于安装外置支架，将电机夹在中间。将另一个支架推入这个槽位。
- en: Push the long screws through from the outside.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从外侧将长螺丝推入。
- en: Then, push a nut onto the screws and use a screwdriver to screw them in.
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，将螺母推到螺丝上，并使用螺丝刀将其拧紧。
- en: For the nut closest to the chassis, one of its flattened edges should hold it
    in place as you tighten the screw. For the outer nut, use a spanner or pliers.
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于离底盘最近的螺母，其扁平的一边应该在你拧紧螺丝时将其固定在位。对于外部的螺母，请使用扳手或钳子。
- en: You need to repeat the same steps for the other side.
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你需要为另一侧重复相同的步骤。
- en: This section has covered attaching motors to a chassis with plastic brackets.
    If you have metal brackets, you should use the following section instead.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 本节已涵盖使用塑料支架将电机安装到底盘上的过程。如果你有金属支架，你应该使用以下部分：
- en: Fitting metal motor brackets
  id: totrans-245
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装金属电机支架
- en: 'Please skip this section if you have assembled the plastic motor brackets.
    The metal type of bracket is slightly different; *Figure 6.24* shows its assembly:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经组装了塑料电机支架，请跳过此部分。金属类型的支架略有不同；图 6.24 展示了其组装过程：
- en: '![Figure 6.24 – Assembling metal motor brackets'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.24 – 组装金属电机支架]'
- en: '](img/B15660_06_24.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 B15660_06_24.jpg]'
- en: Figure 6.24 – Assembling metal motor brackets
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.24 – 组装金属电机支架
- en: 'To do this, perform the following steps:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 要这样做，请执行以下步骤：
- en: You should be able to see two small screw holes in the top of the bracket; these
    are threaded. There are two short screws per bracket.
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该能够在支架顶部看到两个小螺丝孔；这些是螺纹的。每个支架有两个短螺丝。
- en: The chassis has holes in the wheel mount area that match these. Line these up,
    and then screw the short screws through the chassis holes into the bracket.
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 底盘在轮子支架区域有孔，与这些孔相匹配。将它们对齐，然后将短螺丝从底盘孔中穿过，拧入支架。
- en: Take the motor and ensure the wires are facing away from you. Push the long
    screws through the two holes in the motor.
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 拿起电机，确保电线远离你。将长螺丝从电机上的两个孔中推入。
- en: Then, take this motor assembly and push the long threads into the holes on the
    side of the bracket.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，将这个电机组件推入支架侧面的孔中。
- en: It should fit through like this.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它应该这样安装进去。
- en: Now, push nuts onto the threads that stick out the other end of the bracket.
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将螺母推到支架另一端的螺纹上。
- en: You can tighten the nuts furthest from the chassis with pliers, or a spanner
    and a screwdriver. The closer nuts catch on one flat side, so you'll only need
    a screwdriver.
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以用钳子、扳手和螺丝刀拧紧离车架最远的螺母。较近的螺母卡在一边的平面上，所以你只需要螺丝刀。
- en: You now have the completed assembly and need to repeat these steps for the other
    side.
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在有了完成的组装，需要为另一边重复这些步骤。
- en: After completing either set of steps, you should now have a motor mounted on
    each side. We will use these for the drive wheels. But first, we need the castor
    wheel.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 完成任意一套步骤后，你现在应该在每一边都安装了一个电机。我们将使用这些作为驱动轮。但首先，我们需要万向轮。
- en: Adding the castor wheel
  id: totrans-260
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加万向轮
- en: 'Next, it is time to fit the castor wheel. The castor wheel balances the robot.
    It is not driven, so will be dragged along by the robot. It''s important that
    it has little friction. *Figure 6.25*, along with the steps that follow, will
    teach you exactly how to get this done:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，是安装万向轮的时候了。万向轮平衡机器人。它不是被驱动的，所以会被机器人拖着走。重要的是它要有很小的摩擦。*图6.25*以及随后的步骤将教你如何完成这项工作：
- en: '![Figure 6.25 – Fitting the castor wheel'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 6.25 – 安装万向轮'
- en: '](img/B15660_06_25.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_25.jpg]'
- en: Figure 6.25 – Fitting the castor wheel
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.25 – 安装万向轮
- en: 'Use these steps with the *Figure 6.25*:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些步骤与图6.25一起：
- en: This is the castor. It has four screw holes.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这就是万向轮。它有四个螺丝孔。
- en: You need to push a metal screw through the hole, so the thread is facing away
    from the wheel.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你需要将一个金属螺丝推过孔，使螺纹朝向远离轮子的方向。
- en: Now, screw one of the brass standoffs into this screw.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将一个黄铜支架拧入这个螺丝中。
- en: Repeat this for the four other sides.
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为其他四个侧面重复此操作。
- en: Line the other side of the standoffs with the four holes on the chassis. Note
    that this castor wheel is a rectangle, not a square. Make sure the wheel is facing
    down.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将支架的另一侧与车架上的四个孔对齐。注意，这个万向轮是矩形，不是正方形。确保轮子朝下。
- en: Push one of the screws through and screw it down.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将一个螺丝推过并拧紧。
- en: I suggest you screw the opposite corner.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我建议你拧紧对角线的角落。
- en: This makes the remaining two screws easier to put in.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这样使得剩下的两个螺丝更容易安装。
- en: The castor should now be attached to the robot like this.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 万向轮现在应该像这样固定在机器人上。
- en: With the castors attached, the robot will balance, but it needs wheels to move
    anywhere, so let's add wheels.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 安装了万向轮后，机器人可以保持平衡，但它需要轮子才能移动，所以让我们添加轮子。
- en: Putting the wheels on
  id: totrans-276
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装轮子
- en: 'The wheels now need to be pushed on, as shown in *Figure 6.26*:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 轮子现在需要按照图6.26所示推上去：
- en: '![Figure 6.26 – Fitting the wheels'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 6.26 – 安装轮子'
- en: '](img/B15660_06_26.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_26.jpg]'
- en: Figure 6.26 – Fitting the wheels
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.26 – 安装轮子
- en: 'Follow these steps:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 按照这些步骤进行：
- en: First, note that they have two flattened sides in their axle hole, like the
    encoder wheel.
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，注意它们在轴孔中有两个扁平侧面，就像编码器轮一样。
- en: Line the wheels up with the axles, taking into account the flat edges, and push
    them on. Do not push on the wires or the encoder disk as they may break.
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将轮子与轴对齐，考虑到平边，并将它们推上去。不要推电线或编码器盘，因为它们可能会损坏。
- en: Sometimes, rotating the wheels until they push in helps. You should be able
    to push the wheel on, being sure to support the motor from the other side. After
    doing this, you may want to realign the encoder wheels with their slots.
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有时，旋转轮子直到它们推入会有帮助。你应该能够将轮子推上去，同时确保从另一侧支撑电机。完成此操作后，你可能想要重新调整编码器轮与它们的槽位。
- en: The wheels are on the motors and the robot is starting to take shape. The robot
    should now be able to sit on three wheels. You can roll it around manually, but
    it's not quite ready to drive itself yet.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 轮子已经安装在电机上，机器人开始成形。现在，机器人应该能够坐在三个轮子上。你可以手动滚动它，但它还不太能自己驱动。
- en: Bringing the wires up
  id: totrans-286
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 拉起电线
- en: 'A last minor step in chassis assembly is to bring the wires up. The motor controller
    will be on the top of the robot, so the wires need to be above the chassis too:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 车架组装的最后一个小步骤是将电线拉起来。电机控制器将在机器人的顶部，所以电线也需要在车架之上：
- en: '![Figure 6.27 – Bringing the wires up'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 6.27 – 拉起电线'
- en: '](img/B15660_06_27.jpg)'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_27.jpg]'
- en: Figure 6.27 – Bringing the wires up
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.27 – 拉起电线
- en: 'Follow the steps in *Figure 6.27*:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 按照图6.27中的步骤进行：
- en: First, gather the two wires from one motor. Locate the small slot in the middle
    of the chassis.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，收集一个电机的两根线。找到底盘中间的小槽。
- en: Push the wires through.
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电线推过去。
- en: Gently pull them through to the top of the chassis, so they are poking out as
    shown. Repeat this for the other motor.
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 轻轻地将它们拉到底盘顶部，使它们像图中所示那样突出。为另一个电机重复此操作。
- en: 'We should now have a robot that looks like *Figure 6.28* (motor brackets vary):'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们应该有一个看起来像*图6.28*（电机支架各异）的机器人：
- en: '![Figure 6.28 – The assembled chassis'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.28 – 组装好的底盘'
- en: '](img/B15660_06_28.jpg)'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_28.jpg)'
- en: Figure 6.28 – The assembled chassis
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.28 – 组装好的底盘
- en: With the motors in place and wheels ready, we can see how the robot will move.
    You've built the mechanical section of the robot. The wires are in position, and
    we're now ready to add the electronics. We'll start by adding the central controller,
    the Raspberry Pi.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 电机就位，轮子准备就绪，我们可以看到机器人将如何移动。你已经建成了机器人的机械部分。电线已经到位，我们现在准备添加电子设备。我们将从添加中央控制器，即Raspberry
    Pi开始。
- en: Fitting the Raspberry Pi
  id: totrans-300
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装Raspberry Pi
- en: 'We will not fit the motor controller yet – we''ll address that in the next
    chapter, but we can mount the Raspberry Pi now and prepare it to have other boards
    connected to it. We need to put standoffs on the Pi to bolt it onto the chassis,
    but leave room for the motor bracket mounting, and later sensors that go under
    the Pi:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在不会安装电机控制器——我们将在下一章中解决这个问题，但现在我们可以安装Raspberry Pi并准备将其连接到其他板子上。我们需要在Pi上放置支撑螺母，以便将其固定到底盘上，但要留出电机支架安装的空间，以及稍后放置在Pi下面的传感器：
- en: '![Figure 6.29 – Fitting the Raspberry Pi'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.29 – 安装Raspberry Pi'
- en: '](img/B15660_06_29.jpg)'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_29.jpg)'
- en: Figure 6.29 – Fitting the Raspberry Pi
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.29 – 安装Raspberry Pi
- en: 'Perform the steps shown in *Figure 6.29*:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 按照*图6.29*中所示进行操作：
- en: You need a small posidrive screwdriver, a small spanner or pair of pliers, 4
    x M2.5 5mm screws, 4 x M2.5 8 mm standoffs with threads, 4 x M2.5 12 mm standoffs,
    and the Raspberry Pi.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你需要一个小的posidrive螺丝刀，一个小扳手或一把钳子，4 x M2.5 5mm螺丝，4 x M2.5 8mm带螺纹的支撑螺母，4 x M2.5
    12mm支撑螺母，以及Raspberry Pi。
- en: Push an 8 mm standoff thread up through the screw hole from the bottom of the
    Pi.
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将8毫米的支撑螺母螺纹从Pi的底部穿过螺丝孔推上去。
- en: Then, screw a 10 mm standoff onto the top of these, with the thread facing upward,
    using the pliers/spanner to hold the standoff.
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，使用钳子/扳手将10毫米的支撑螺母拧到这些螺母的顶部，使螺纹向上，并用钳子/扳手固定支撑螺母。
- en: Repeat for all four corners.
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为所有四个角落重复此操作。
- en: Line two of these up with some slots or screw holes on the chassis and screw
    them in from underneath.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将这两条线与底盘上的槽或螺丝孔对齐，并从下面拧紧。
- en: On the chassis I used, there were only two holes that line up, so I screwed
    those in and used the other standoffs to keep the Pi level.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在我使用的底盘上，只有两个孔对齐，所以我拧紧了这些孔，并使用其他支撑螺母保持Pi的水平。
- en: This robot now has a main controller, which will be able to run code and command
    the robot. However, before it will do much, the controller and motors need power.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 这个机器人现在有一个主控制器，它将能够运行代码并控制机器人。然而，在它能够做很多事情之前，控制器和电机需要电力。
- en: Adding the batteries
  id: totrans-313
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加电池
- en: 'There are two sets of batteries that you have bought: the 4 x AA battery holder,
    as in *Figure 6.14* (with a set of rechargeable metal hydride batteries), and
    a USB power bank, as in *Figure 6.13*. The power bank contains a lithium-ion cell
    and a USB charging system.'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 你购买了两套电池：4 x AA电池夹，如图*6.14*（配有一套可充电金属氢化物电池），以及一个USB充电宝，如图*6.13*。充电宝包含一个锂离子电池和一个USB充电系统。
- en: We mount these on the back of the robot, where they'll counterbalance some of
    the sensors that we'll add later.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将这些安装到机器人的后面，它们将平衡我们稍后要添加的一些传感器。
- en: Setting up the USB power bank
  id: totrans-316
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 设置USB充电宝
- en: 'Do not connect the power bank to the Raspberry Pi yet (or be sure to log in
    and shut it down properly before pulling the power cable out if you have done
    so):'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 还未将充电宝连接到Raspberry Pi（或者如果你已经连接了，在拔出电源线之前，请确保登录并正确关闭它）：
- en: '![Figure 6.30 – Mounting the power bank'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.30 – 安装充电宝'
- en: '](img/B15660_06_30.jpg)'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_30.jpg)'
- en: Figure 6.30 – Mounting the power bank
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.30 – 安装充电宝
- en: 'To attach a USB power bank to the chassis, use the following instructions and
    *Figure 6.30*:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 要将USB充电宝安装到底盘上，请按照以下说明和*图6.30*进行操作：
- en: For this power bank, we use some hook and loop tape.
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个充电宝，我们使用了一些钩子和粘带。
- en: Take a look at the power bank and note that one side has the USB connector on
    it. This connector should end up on the left of the robot. If it has an LED charge
    display, this should be on top.
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 看一下移动电源，并注意其中一侧有USB连接器。这个连接器最终应该位于机器人的左侧。如果它有一个LED充电显示，那么它应该位于顶部。
- en: Measure two lengths of hook and loop tape. Stick the rough sides in two strips
    on the robot.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 测量两段钩扣带。将粗糙的一面粘贴在机器人上的两条条带上。
- en: Stick the soft sides to the power bank, and line these up with the robot.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将柔软的一面粘贴到移动电源上，并与机器人对齐。
- en: Push the power supply down, so the hook and loop have stuck together. This connection
    holds well.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电源推下，使钩扣带粘在一起。这个连接很牢固。
- en: This is how the power bank should sit on the robot.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这就是移动电源在机器人上的放置方式。
- en: Alternatives are to use sticky tack (for a cheap but flimsy connection), cable
    ties, double-sided tape, or rubber bands to hold the battery in place. These are
    suitable for different sizes of batteries.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 替代方案包括使用粘性胶带（用于便宜但脆弱的连接）、电缆扎带、双面胶带或橡皮筋来固定电池。这些适用于不同尺寸的电池。
- en: Mounting the AA battery holder
  id: totrans-329
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装AA电池托架
- en: 'We will also use hook and loop tape to add an AA battery holder for motor power.
    We need the holder to be easy to remove so the batteries can be replaced. Hook
    and loop tape is a convenient choice for this. Adding the AA battery holder is
    shown in *Figure 6.31*:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将使用钩扣带添加一个AA电池托架作为电机电源。我们需要托架易于拆卸，以便更换电池。钩扣带是这种应用的便捷选择。添加AA电池托架如图*图6.31*所示：
- en: '![Figure 6.31 – Mounting the AA battery holder'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.31 – 安装AA电池托架'
- en: '](img/B15660_06_31.jpg)'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_31.jpg]'
- en: Figure 6.31 – Mounting the AA battery holder
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.31 – 安装AA电池托架
- en: 'To mount the AA battery holder, use *Figure 6.31* with the following steps:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装AA电池托架，请使用*图6.31*并按照以下步骤操作：
- en: Make sure that the AA battery holder does not have batteries in it yet.
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保AA电池托架中还没有电池。
- en: Cut and stick a small strip of hook and loop tape to the bottom of the battery
    holder.
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在电池托架底部剪下一小条钩扣带，并将其粘贴上。
- en: Stick the opposite hook and loop strip to the robot just in front of the power
    bank (removed for clarity – you do not need to remove the power bank).
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将另一条钩扣带粘贴到机器人上，正好位于移动电源前方（为了清晰起见已移除 – 你不需要移除移动电源）。
- en: Attach the battery holder here using the hook and loop strips.
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用钩扣带将电池托架固定在这里。
- en: At a pinch, sticky tack can be used for this, but remember that the AA battery
    box needs to be removable to replace the cells in it.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 在紧急情况下，可以使用粘性胶带，但请记住，AA电池盒需要可拆卸的，以便更换其中的电池。
- en: The completed robot base
  id: totrans-340
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 完成的机器人底盘
- en: 'You have now completed the robot base, which should look something like *Figure
    6.32*:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经完成了机器人底盘，它应该看起来像*图6.32*：
- en: '![Figure 6.32 – The completed chassis'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.32 – 完成的底盘'
- en: '](img/B15660_06_32.jpg)'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B15660_06_32.jpg]'
- en: Figure 6.32 – The completed chassis
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.32 – 完成的底盘
- en: You've now built your first robot chassis! Hopefully, the first of many. With
    the robot chassis completed, sporting wheels, a Raspberry Pi, and battery compartment,
    it is nearly ready to roll. It needs some wiring to a motor controller and code
    to really come to life.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经搭建了你的第一个机器人底盘！希望这是许多中的第一个。随着机器人底盘的完成，配备了轮子、Raspberry Pi和电池仓，它几乎可以滚动了。它还需要连接到电机控制器和一些代码来真正地活跃起来。
- en: Connecting the motors to the Raspberry Pi
  id: totrans-346
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将电机连接到Raspberry Pi
- en: In this section, we will connect the motors to the Raspberry Pi. Once we have
    connected them, we can use code on the Raspberry Pi to control the motors and
    make the robot move. *Figure 6.33* is the block diagram for the robot that we
    are building in this chapter. We will be using the Full Function Stepper Motor
    HAT as the controller board, calling it the Motor HAT for short.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将连接电机到Raspberry Pi。一旦连接好，我们就可以使用Raspberry Pi上的代码来控制电机，使机器人移动。*图6.33*是我们在本章中构建的机器人的框图。我们将使用全功能步进电机HAT作为控制器板，简称Motor
    HAT。
- en: 'This block diagram is similar to the type shown in [*Chapter 3*](B15660_03_Final_ASB_ePub.xhtml#_idTextAnchor050),
    *Exploring the Raspberry Pi*. First, it starts with the Raspberry Pi, here in
    gray, as we''ve chosen that as our controller. Connected to the Pi is the Motor
    HAT, with instructions flowing from the Raspberry Pi to this board. The Motor
    HAT and its connections are highlighted as we are adding these parts in this chapter.
    As we build on this block diagram in later chapters, existing components will
    be in the color gray. Added components will be highlighted with red to show what
    is new. Finally, the two motors are added to the left and right of the Motor HAT,
    with arrows going from the Motor HAT to show it is controlling the motors:'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 这个框图类似于在[*第3章*](B15660_03_Final_ASB_ePub.xhtml#_idTextAnchor050)中显示的类型，*探索Raspberry
    Pi*。首先，它从Raspberry Pi开始，这里用灰色表示，因为我们选择了它作为我们的控制器。Pi连接到Motor HAT，指令从Raspberry Pi流向该板。Motor
    HAT及其连接在本章中添加这些部件时被突出显示。在后续章节中构建这个框图时，现有组件将以灰色显示。添加的组件将以红色突出显示，以显示新内容。最后，两个电机被添加到Motor
    HAT的左右两侧，箭头从Motor HAT指向，表示它正在控制电机：
- en: '![Figure 6.33 – Block diagram of the robot'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.33 – 机器人框图'
- en: '](img/B15660_06_33.jpg)'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_33.jpg)'
- en: Figure 6.33 – Block diagram of the robot
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.33 – 机器人框图
- en: 'The first step in connecting the motors is to fit the Motor HAT onto the Raspberry
    Pi. *Figure 6.34* shows the Motor HAT:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 连接电机的第一步是将Motor HAT安装到Raspberry Pi上。图6.34显示了Motor HAT：
- en: '![Figure 6.34 – The Full Function Stepper Motor HAT'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '![图6.34 – 全功能步进电机HAT'
- en: '](img/B15660_06_34.jpg)'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B15660_06_34.jpg)'
- en: Figure 6.34 – The Full Function Stepper Motor HAT
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.34 – 全功能步进电机HAT
- en: 'Let''s attach this HAT to our robot and wire it in so we can start programming
    our robot:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们将这个HAT连接到我们的机器人上，并布线以便我们可以开始编程我们的机器人：
- en: '![](img/B15660_06_35.jpg)'
  id: totrans-357
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_06_35.jpg)'
- en: Figure 6.35 – Fitting the motor controller
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.35 – 安装电机控制器
- en: 'Refer to *Figure 6.35* and follow these steps:'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 参考图6.35，按照以下步骤操作：
- en: Line up the motor board socket with the Pi header. The four holes in the corners
    should also line up with the screw threads facing up.
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电机板插座与Pi引脚对齐。角落的四个孔也应该与向上的螺丝螺纹对齐。
- en: Gently and evenly push the motor board onto the Raspberry Pi, guiding the screw
    threads through. Continue until the board is firmly seated on the GPIO header.
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 轻轻且均匀地将电机板推到Raspberry Pi上，引导螺丝螺纹通过。继续直到板子牢固地安装在GPIO引脚上。
- en: The robot should now look like this.
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 机器人现在应该看起来像这样。
- en: The board is now attached to the Raspberry Pi, and we can start wiring it.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 现在板子已经连接到Raspberry Pi上，我们可以开始布线了。
- en: Wiring the Motor HAT in
  id: totrans-364
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 布线电机HAT
- en: We will now wire in the Motor HAT, first to the motors, and also partially to
    the motor batteries. We wire the motor batteries so the motors have their own
    source of power and do not cause low-power reset conditions on the Raspberry Pi.
    The motor controller needs to be wired to the motors to power and control them.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将布线Motor HAT，首先连接到电机，也部分连接到电机电池。我们布线电机电池，以便电机有自己的电源，不会在Raspberry Pi上引起低功耗复位条件。电机控制器需要连接到电机以供电和控制它们。
- en: '*Figure 6.36* shows how we wire this up. Don''t wire in the ground (black)
    wire on the batteries until we are ready to power it up. I suggest using a little
    insulation tape to tape the tip of it down to a plastic part of the chassis, so
    it does not catch on anything. Leaving ground unwired lets us use it as a kind
    of makeshift switch:'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.36显示了如何布线。在我们准备好供电之前，不要布线电池上的地线（黑色）。我建议使用一小段绝缘胶带将地线的尖端粘在底盘的塑料部分上，以免钩住任何东西。不布线地线让我们可以用它作为一种临时开关：
- en: Important note
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: The black wire on a battery may be referred to as ground, GND, and negative.
    The red wire can be referred to as **positive** (**+ve**), **vIn** (**voltage
    In**), or by the voltage input rating – for example, 5 V – 12 V.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 电池上的黑色线可能被称为地线、GND或负极。红色线可以被称为**正极**（**+ve**）、**vIn**（**电压输入**）或电压输入额定值，例如，5
    V – 12 V。
- en: '![Figure 6.36 – How to wire up the motors and batteries](img/B15660_06_36.jpg)'
  id: totrans-369
  prefs: []
  type: TYPE_IMG
  zh: '![图6.36 – 如何连接电机和电池](img/B15660_06_36.jpg)'
- en: Figure 6.36 – How to wire up the motors and batteries
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.36 – 如何连接电机和电池
- en: '*Figure 6.37* shows the steps for the connections:'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.37显示了连接步骤：
- en: '![](img/B15660_06_37.jpg)'
  id: totrans-372
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_06_37.jpg)'
- en: Figure 6.37 – Steps for connecting the wires
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.37 – 连接电线步骤
- en: 'Perform the following steps with reference to *Figure 6.37* to connect the
    wires:'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 参考图6.37执行以下步骤以连接电线：
- en: Loosen up the screw terminals for the 5 V – 12 V connection, GND, the two M2
    connectors, and the M1 connectors.
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 松开5 V – 12 V连接、GND、两个M2连接器和M1连接器的螺钉端子。
- en: Push the red wire from the AA battery box into the screw terminal marked 5 V
    – 12 V, so the metal part of the wire (the core) is in the slot formed by the
    metal cover.
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将AA电池盒中的红色导线推入标记为5 V – 12 V的螺钉端子，确保导线的金属部分（导线芯）位于金属盖形成的槽中。
- en: Screw it down firmly, so the wire does not pull out easily. Ensure that the
    core is being gripped, and not the plastic outer layer (its insulation).
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 紧固螺钉，确保导线不易被拉出。确保导线芯被夹紧，而不是塑料外层（其绝缘层）。
- en: Repeat for the motor terminals, making the connections shown in image 4.
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对电机端子重复操作，连接如图像4所示的连接。
- en: The result should look like image 5.
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果应类似于图像5。
- en: We have now connected the motors to the controller, so it can drive them. We
    have partially connected the battery power, but we have left one connection free,
    so we can use this as a power switch. Let's try powering up the robot.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已将电机连接到控制器，因此它可以驱动它们。我们已部分连接了电池电源，但我们留下了一个连接空闲，这样我们可以将其用作电源开关。让我们尝试启动机器人。
- en: Independent power
  id: totrans-381
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 独立电源
- en: 'So far, although we have set up a headless Raspberry Pi, we have still been
    plugging it into the wall. Now it is time to try powering it independently. We
    will power up the motors from the AA batteries, and the Raspberry Pi from the
    USB power bank. We will see lights on the devices to tell us they are powered:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，尽管我们已经设置了一个无头Raspberry Pi，但我们仍然一直在将其插入墙壁。现在是我们尝试独立供电的时候了。我们将从AA电池为电机供电，从USB移动电源为Raspberry
    Pi供电。我们将看到设备上的灯光，以告诉我们它们正在供电：
- en: '![](img/B15660_06_38.jpg)'
  id: totrans-383
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_06_38.jpg)'
- en: Figure 6.38 – Going on to independent power
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.38 – 转向独立电源
- en: 'Follow the steps shown in *Figure 6.38*:'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 按照图6.38中所示步骤操作：
- en: Plug the Micro USB (tiny) end of the cable into the Pi in the USB micro-socket
    indicated by the arrow.
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电缆的Micro USB（小）端插入Pi上由箭头指示的USB微型插座。
- en: Fit the four AA batteries; you may need to pop the battery box up and push it
    back down again after this.
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装四个AA电池；你可能需要在安装后再次抬起并放下电池盒。
- en: You can power up the motor board now. Connect the black wire from the battery
    box into the GND terminal indicated by the arrow, next to 5 V – 12 V. When you
    do so, a light appears on the motor board to show it is active.
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在可以给电机板供电。将电池盒中的黑色导线连接到箭头旁边的GND端子，位于5 V – 12 V旁边。当你这样做时，电机板上会出现一个灯，表明它处于活动状态。
- en: Turn on the Pi by plugging the USB A (wide) end into the power bank. The intention
    from here is to keep the micro-USB tiny end in, and only connect/disconnect the
    USB A (wide) end when powering the Pi.
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过将USB A（宽）端插入移动电源来打开Pi。从现在起，目的是保持micro-USB小端连接，仅在给Pi供电时连接/断开USB A（宽）端。
- en: The Raspberry Pi and motor board are now powered, as shown in image 5.
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如图像5所示，Raspberry Pi和电机板现在已通电。
- en: 'Congratulations, your robot is now running on independent power, freeing the
    Raspberry Pi from the wall and giving the motors power too:'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜，你的机器人现在已使用独立电源运行，使Raspberry Pi摆脱了墙壁，并为电机供电：
- en: '![](img/B15660_06_39.jpg)'
  id: totrans-392
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B15660_06_39.jpg)'
- en: Figure 6.39 – The complete [*Chapter 6*](B15660_06_Final_ASB_ePub.xhtml#_idTextAnchor096)
    robot
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.39 – 完整的[*第6章*](B15660_06_Final_ASB_ePub.xhtml#_idTextAnchor096)机器人
- en: The photograph in *Figure 6.39* shows our robot so far. It has motors on the
    chassis, with a Raspberry Pi and a motor control board fitted. The robot has a
    power supply for the Raspberry Pi – currently powered up. It has a power supply
    for the motors, currently disconnected with the black ground wire carefully taped
    out of the way of the rest of the robot. The motors are wired into the control
    board. This is enough robot to start making things move.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.39中的照片显示了到目前为止的我们的机器人。它底盘上有电机，安装了Raspberry Pi和电机控制板。机器人有一个为Raspberry Pi供电的电源
    - 目前已通电。它还有一个为电机供电的电源，目前未连接，黑色地线被仔细地用胶带固定在机器人其他部分之外。电机已连接到控制板上。这已经足够让机器人开始移动了。
- en: Important note
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: SD cards can be corrupted by removing power from the Pi without shutting it
    down. When turning it off, log in with PuTTY and use `sudo poweroff` before removing
    the power.
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: SD卡在未关闭Pi的情况下断电可能会被损坏。关闭时，使用PuTTY登录并使用`sudo poweroff`在断电之前。
- en: Your motors are ready to drive, and the Raspberry Pi is ready to run code without
    needing to be plugged into a wall. Combining independent power with headless Wi-Fi
    control means the robot can be driven around by instructions from your computer.
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 你的电机已经准备好驱动，树莓派也准备好了运行代码，无需连接到墙壁。将独立电源与无头Wi-Fi控制相结合意味着机器人可以通过来自电脑的指令进行驾驶。
- en: Summary
  id: totrans-398
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you've now learned how to choose the parts for a robot by reasoning
    and making some important design decisions. You used a simple tool to test fit
    these parts and see what works before buying anything. Finally, you bought the
    parts and built your starting robot platform.
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你现在已经学会了如何通过推理和做出一些重要的设计决策来选择机器人的部件。你使用了一个简单的工具来测试适配这些部件，在购买任何东西之前看看哪些是可行的。最后，你购买了部件并构建了你的起始机器人平台。
- en: By considering the trade-offs and test fitting again, you have gained skills
    for planning any hardware project, including finding dimensions on the datasheets/vendor
    websites, making a simple test-fit sketch, and considering how the parts will
    interact together. You've learned how the size of a robot affects motor and controller
    decisions. You've seen how to make parts easy to remove using hook and loop tape
    and considered other options for this.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 通过考虑权衡和再次测试适配，你已经获得了规划任何硬件项目的技能，包括在数据表/供应商网站上查找尺寸、制作一个简单的测试适配草图，以及考虑部件如何相互作用。你已经了解到机器人的大小如何影响电机和控制器的选择。你看到了如何使用搭扣和粘带使部件易于拆卸，并考虑了其他选项。
- en: By hooking up independent power, and connecting the motors, the robot has the
    hardware it will need to drive itself around without being tethered to a wall.
    What it doesn't yet have is any code to move with. In the next chapter, we will
    start writing the code to get this robot moving!
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 通过连接独立电源和电机，机器人拥有了在没有连接到墙壁的情况下自行移动所需的硬件。但它还没有任何移动的代码。在下一章中，我们将开始编写代码使这个机器人移动！
- en: Exercises
  id: totrans-402
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习
- en: In [*Chapter 2*](B15660_02_Final_ASB_ePub.xhtml#_idTextAnchor033), *Exploring
    Robot Building Blocks – Code and Electronics*, you created block diagrams for
    a different robot. Consider what chassis, power, and parts it needs. Use online
    vendors to find suitable parts.
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[*第二章*](B15660_02_Final_ASB_ePub.xhtml#_idTextAnchor033)《探索机器人构建模块——代码与电子》中，你为不同的机器人创建了框图。考虑它需要什么底盘、电源和部件。使用在线供应商寻找合适的部件。
- en: Consider whether there is a suitable combination of Raspberry Pi hats or bonnets
    that fit your design. Use resources such as [https://pinout.xyz](https://pinout.xyz)
    to check their pin usage is compatible.
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑是否有适合你设计的树莓派帽或罩的组合。使用资源如 [https://pinout.xyz](https://pinout.xyz) 检查它们的引脚使用是否兼容。
- en: What power systems might be suitable for the Raspberry Pi and the output devices
    in your new design?
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于你的新设计，哪些电源系统可能是合适的？
- en: Are there components that may need to be removed easily? How could you approach
    that? Can you come up with alternatives to hook and loop tape? Keep it simple.
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否有需要易于拆卸的组件？你将如何处理？你能想出替代搭扣和粘带的方案吗？请保持简单。
- en: Make a test-fitting sketch for your new robot parts, checking that they fit
    using part dimensions.
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为你的新机器人部件制作一个测试适配草图，检查它们是否使用部件尺寸适配。
- en: Further reading
  id: totrans-408
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'Please refer to the following for more information:'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 请参考以下信息以获取更多信息：
- en: For further reading on chassis designs, consider *Raspberry Pi Robotic Blueprints*,
    *Dr. Richard Grimmett*, *Packt Publishing*. This includes modifying an RC car
    into a robot.
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于底盘设计的进一步阅读，可以考虑*《树莓派机器人蓝图》*，*理查德·格里姆特博士*，*Packt 出版公司*。这包括将遥控车改装成机器人。
- en: For more robot chassis types, the community sharing website [https://www.instructables.com](https://www.instructables.com)
    has many buildable examples. Some of these are very interesting and more advanced
    than our robot.
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于更多机器人底盘类型，社区分享网站 [https://www.instructables.com](https://www.instructables.com)
    有许多可构建的示例。其中一些非常有趣，比我们的机器人更先进。
