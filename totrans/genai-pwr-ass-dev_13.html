<html><head></head><body>
		<div><h1 class="chapter-number" id="_idParaDest-198"><a id="_idTextAnchor197"/>13</h1>
			<h1 id="_idParaDest-199"><a id="_idTextAnchor198"/>Simplifying Scanning and Fixing Security Vulnerabilities in Code</h1>
			<p>In this chapter, we will go through the following key topics:</p>
			<ul>
				<li>The importance of code-security scanning</li>
				<li>Types of code scans using Amazon Q</li>
				<li>Initiating security scans</li>
				<li>Addressing vulnerability findings</li>
			</ul>
			<p>This chapter is short; however, one could argue that anything related to software security is never brief and takes top priority over everything else. Before we explore the features related to code-security scanning using Amazon Q Developer, let’s reiterate the importance of this subject.</p>
			<h1 id="_idParaDest-200"><a id="_idTextAnchor199"/>The importance of code-security scanning</h1>
			<p>Code-security scanning<a id="_idIndexMarker549"/> is a critical practice in software development, aimed at identifying and mitigating potential security vulnerabilities in the code base before they can be exploited. Here are several reasons<a id="_idIndexMarker550"/> why code-security scanning is essential:</p>
			<ul>
				<li><strong class="bold">Preventing security breaches</strong>: Regular code-security scanning helps in identifying vulnerabilities that could be exploited by attackers. By catching these issues early in the development process, organizations can prevent data breaches, financial losses, and damage to their reputation.</li>
				<li><strong class="bold">Compliance with regulations</strong>: Many industries are subject to strict regulatory requirements<a id="_idIndexMarker551"/> regarding data protection and security, such as the <strong class="bold">General Data Protection Regulation</strong> (<strong class="bold">GDPR</strong>), the <strong class="bold">Health Insurance Portability and Accountability Act</strong> (<strong class="bold">HIPAA</strong>), and the <strong class="bold">Payment Card Industry Data Security Standard</strong> (<strong class="bold">PCI-DSS</strong>). Code-security scanning<a id="_idIndexMarker552"/> ensures<a id="_idIndexMarker553"/> that the software complies with these regulations, thereby avoiding legal penalties and ensuring customer trust.</li>
				<li><strong class="bold">Protecting sensitive information</strong>: Applications often handle sensitive information such as personal data, financial records, and proprietary business information. Security vulnerabilities in the code can lead to unauthorized access to this data. Regular scanning helps to safeguard this sensitive information by identifying and addressing security flaws.</li>
				<li><strong class="bold">Reducing costs</strong>: Fixing security vulnerabilities early in the development cycle is significantly less costly than addressing them after deployment. Post-deployment fixes can involve not only code changes but also compensations, legal fees, and damage control measures.</li>
				<li><strong class="bold">Maintaining software integrity</strong>: Code-security scanning helps maintain the integrity of the software<a id="_idIndexMarker554"/> by ensuring that no malicious code or backdoors are present. This is particularly important for software that is distributed to end users, as it helps maintain trust and reliability in the product.</li>
				<li><strong class="bold">Facilitating continuous improvement</strong>: By integrating code-security scanning into the development process, organizations can continuously improve their security posture. Scanning tools can provide feedback and recommendations, allowing developers to learn from past mistakes and avoid introducing similar vulnerabilities in the future.</li>
				<li><strong class="bold">Supporting secure development practices</strong>: Regular security scanning reinforces the importance of secure coding practices among developers. It encourages a security-first mindset, making developers more aware of common security pitfalls and best practices to avoid them.</li>
				<li><strong class="bold">Enhancing customer confidence</strong>: Customers and clients are increasingly aware of cybersecurity threats. Demonstrating a commitment to security through regular code scanning can enhance customer confidence and trust in the organization’s products<a id="_idIndexMarker555"/> and services.</li>
			</ul>
			<p>Code-security scanning for vulnerabilities is a proactive measure that plays a crucial role in the overall security strategy of any software development organization. By identifying and addressing security issues early, companies can protect sensitive data, comply with regulations, reduce costs, and maintain the integrity and trustworthiness of their software products.</p>
			<p>Now let’s shift our focus to what Amazon Q Developer can assist with when it comes to code scanning and fixing vulnerabilities in the code.</p>
			<h1 id="_idParaDest-201"><a id="_idTextAnchor200"/>Types of code scans using Amazon Q</h1>
			<p>Amazon Q scans utilize security detectors<a id="_idIndexMarker556"/> built on years of Amazon standards<a id="_idIndexMarker557"/> and security best practices. As security policies evolve and new detectors are introduced, scans automatically integrate these updates to ensure your code remains compliant with the latest policies.</p>
			<p>The security detectors are powered by Amazon CodeGuru, a developer tool that analyzes code and offers smart recommendations to enhance code security and quality. A link to all the different detector libraries for different programming languages is provided in the <em class="italic">References</em> section at the end of this chapter. Note that the detectors cover hundreds of code recommendations for each of the supported programming languages. For the purpose of understanding the security scan feature of Amazon Q Developer, we will just pick a couple of vulnerabilities detected in our sample code in the next section.</p>
			<p>Amazon Q ensures your code’s security by identifying policy violations and vulnerabilities through <strong class="bold">static application security testing</strong> (<strong class="bold">SAST</strong>), secrets detection, and <strong class="bold">infrastructure as code</strong> (<strong class="bold">IaC</strong>) scanning. The AWS documentation also highlights this list, the link to which is provided in the <em class="italic">References</em> section. This list may expand to other types of scans in the future, so keep a close eye on the official documentation for updates:</p>
			<ul>
				<li><strong class="bold">SAST scanning</strong>: This type of scan is done<a id="_idIndexMarker558"/> before the code complication stage and is used by the application security team to catch vulnerabilities in the source code itself. It is also referred to as white-box testing. Amazon Q uncovers issues in the source code, such as resource leaks, SQL injection, and cross-site scripting.</li>
				<li><strong class="bold">Secrets scanning</strong>: Safeguard sensitive information<a id="_idIndexMarker559"/> from exposure in your code base. Amazon Q checks your code and text files for secrets such as hardcoded passwords, database connection strings, and usernames, providing details about the vulnerabilities and recommendations for securing them.</li>
				<li><strong class="bold">IaC scanning</strong>: Assess the security of your infrastructure<a id="_idIndexMarker560"/> files. Amazon Q reviews your IaC files to identify misconfigurations, compliance issues, and security vulnerabilities.</li>
			</ul>
			<p>Now let’s jump into how you can start using the security scan features of Amazon Q.</p>
			<h1 id="_idParaDest-202"><a id="_idTextAnchor201"/>Initiating security scans</h1>
			<p>Amazon Q Developer provides two variations of the code-security scans.</p>
			<h2 id="_idParaDest-203"><a id="_idTextAnchor202"/>Scanning while coding</h2>
			<p>Some developers prefer<a id="_idIndexMarker561"/> the IDE to warn them of any security vulnerabilities in their code as they type. Amazon Q’s auto-scan feature continuously monitors the file you’re actively working on, generating findings immediately as they are detected in your code.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">This feature is only available for use in the Pro tier and is enabled by default when using Amazon Q Developer. If you have subscribed to the Pro tier of Amazon Q Developer, then the auto-scan feature will appear in the Amazon Q menu option, where you can even pause it if you prefer to run the entire scan at once at the project level.</p>
			<p>The following screenshot illustrates this feature in the VS Code IDE.</p>
			<div><div><img alt="Figure 13.1 – Amazon Q security scan – auto-scan settings" src="img/B21378_13_1.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.1 – Amazon Q security scan – auto-scan settings</p>
			<p>If the auto-scan feature<a id="_idIndexMarker562"/> is running, as soon as you code something that would be considered a security vulnerability, Q will immediately flag it and let you know the issue, providing an explanation for it.</p>
			<p>The following screenshot shows an obvious security violation we introduced in our code, and Q immediately flagged it and provided us with the reason on the spot.</p>
			<div><div><img alt="Figure 13.2 – Amazon Q security scan – auto-scan detected an issue" src="img/B21378_13_2.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.2 – Amazon Q security scan – auto-scan detected an issue</p>
			<p>Now let’s look at the open scan option Amazon Q provides.</p>
			<h2 id="_idParaDest-204"><a id="_idTextAnchor203"/>Scanning the whole project</h2>
			<p>If the developer prefers<a id="_idIndexMarker563"/> to scan the project after it’s complete, then they can use this option provided by Amazon Q, which scans the entire project and provides all the security vulnerabilities at once. This option is available in both tiers of Amazon Q Developer. </p>
			<p>To initiate this, open the project and simply run the <strong class="bold">Run Project Scan</strong> option for Amazon Q, as shown in the following screenshot.</p>
			<div><div><img alt="Figure 13.3 – Amazon Q security scan – scan whole project" src="img/B21378_13_3.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.3 – Amazon Q security scan – scan whole project</p>
			<p>Once the scan is complete, Amazon Q<a id="_idIndexMarker564"/> will provide a summary of all the security problems for the developer to review and take action to address them. The following screenshot shows all the issues we found in the Python project we used in <a href="B21378_12.xhtml#_idTextAnchor181"><em class="italic">Chapter 12</em></a>. In case you skipped that chapter, here is the GitHub link to the project for you to try it out again in this chapter: <a href="https://github.com/jassics/learning-python">https://github.com/jassics/learning-python</a>.</p>
			<div><div><img alt="Figure 13.4 – Amazon Q security scan – security scan findings" src="img/B21378_13_4.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.4 – Amazon Q security scan – security scan findings</p>
			<p>Getting a report of issues<a id="_idIndexMarker565"/> in the code is one thing, but taking appropriate action to address them is the main reason we discovered them in the first place. Amazon Q Developer can also help address the vulnerability findings, so let’s take a look at the options we have.</p>
			<h1 id="_idParaDest-205"><a id="_idTextAnchor204"/>Addressing vulnerability findings</h1>
			<p>Amazon Q Developer provides<a id="_idIndexMarker566"/> a few options once it identifies the issue. It can either provide you with further details about the issue or you can use the Q chat feature to explain the finding along with recommendations to fix it. Or sometimes, you will also see an automatic fix option when Q is able to resolve it on its own.</p>
			<p>The following screenshot shows the actions we can take for the issues we discussed in the project from the previous section. Of course, in this case, the printing of the password was done on purpose to showcase the password generation feature, but Q’s scan was able to detect the issue<a id="_idIndexMarker567"/> and present actions you can take on it.</p>
			<div><div><img alt="Figure 13.5 – Amazon Q security scan – options to address findings" src="img/B21378_13_5.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.5 – Amazon Q security scan – options to address findings</p>
			<h2 id="_idParaDest-206"><a id="_idTextAnchor205"/>Viewing security findings in detail</h2>
			<p>Looking at <em class="italic">Figure 13</em><em class="italic">.5</em>, if you choose<a id="_idIndexMarker568"/> the <strong class="bold">View details</strong> option, Amazon Q will describe in detail what the issue is and how you can approach coming up with a resolution. It basically lets you make an informed decision to improve your code. The following screenshot shows this option.</p>
			<div><div><img alt="Figure 13.6 – Amazon Q security scan – detailed view of the finding" src="img/B21378_13_6.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.6 – Amazon Q security scan – detailed view of the finding</p>
			<p>Let’s now look at the Q explanation option you can choose.</p>
			<h2 id="_idParaDest-207"><a id="_idTextAnchor206"/>Seeking an explanation of the issue</h2>
			<p>Looking again at <em class="italic">Figure 13</em><em class="italic">.5</em>, if you choose<a id="_idIndexMarker569"/> the <strong class="bold">Explain</strong> option, Amazon Q will let you seek an interactive explanation for the issue, where Q will invoke its chat feature and provide you with the explanation along with recommended fixes that you can insert back into your code. The following screenshot shows the explanation for the same issue we just looked at in the previous section.</p>
			<div><div><img alt="Figure 13.7 – Amazon Q security scan – explain finding" src="img/B21378_13_7.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.7 – Amazon Q security scan – explain finding</p>
			<p>This brings us to the end<a id="_idIndexMarker570"/> of this important chapter. Feel free to try this feature on your own projects to see what you discover. The mechanism for detecting and viewing issues using Amazon Q Developer, along with seeking explanations and fixing them, remains the same across all types of security issues, hence we will keep this chapter short.</p>
			<h1 id="_idParaDest-208"><a id="_idTextAnchor207"/>Summary</h1>
			<p>In this chapter, we covered why code security scans are vital for every project. No software project can be put into production without a clear strategy for finding security issues in the code and addressing them.</p>
			<p>We then looked at the different types of scans that Amazon Q Developer provides. We also explored how to initiate security scans in Amazon Q, either with the auto-scan option or by scanning at the project level. Finally, we examined how Amazon Q can help address all the findings.</p>
			<p>In the next chapter, we will pivot toward using Amazon Q Developer to create solutions in AWS environments.</p>
			<h1 id="_idParaDest-209"><a id="_idTextAnchor208"/>References</h1>
			<ul>
				<li>Amazon CodeGuru Detector Library: <a href="https://docs.aws.amazon.com/codeguru/detector-library/">https://docs.aws.amazon.com/codeguru/detector-library/</a></li>
				<li>Types of security scans by Amazon Q Developer: <a href="https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/security-scans.html">https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/security-scans.html</a></li>
			</ul>
		</div>
	

		<div><h1 id="_idParaDest-210" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor209"/>Part 4:Accelerate Build on AWS</h1>
			<p>In this part, we will look at how Amazon Q Developer can assist in building applications faster on AWS. Amazon Q integrates with various AWS services and tools to provide a holistic assistant experience. Amazon Q not only boosts the productivity of AWS builders but also provides an integrated and seamless working experience.</p>
			<p>This part contains the following chapters:</p>
			<ul>
				<li><a href="B21378_14.xhtml#_idTextAnchor210"><em class="italic">Chapter 14</em></a>, <em class="italic">Accelerate Data Engineering on AWS</em></li>
				<li><a href="B21378_15.xhtml#_idTextAnchor239"><em class="italic">Chapter 15</em></a>, <em class="italic">Accelerate Building Solutions on AWS</em></li>
				<li><a href="B21378_16.xhtml#_idTextAnchor254"><em class="italic">Chapter 16</em></a>, <em class="italic">Accelerate the DevOps Process on AWS</em></li>
			</ul>
		</div>
		<div><div></div>
		</div>
		<div><div></div>
		</div>
	</body></html>