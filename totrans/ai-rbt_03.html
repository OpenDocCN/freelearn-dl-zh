<html><head></head><body>
<div id="_idContainer044">
<h1 class="chapter-number" id="_idParaDest-44"><a id="_idTextAnchor043"/><span class="koboSpan" id="kobo.1.1">3</span></h1>
<h1 id="_idParaDest-45"><a id="_idTextAnchor044"/><span class="koboSpan" id="kobo.2.1">Conceptualizing the Practical Robot Design Process</span></h1>
<p><span class="koboSpan" id="kobo.3.1">This chapter represents a </span><em class="italic"><span class="koboSpan" id="kobo.4.1">bridge</span></em><span class="koboSpan" id="kobo.5.1"> between the preceding chapters on general theory, introduction, and setup, and the following chapters, where we will apply problem-solving methods that use </span><strong class="bold"><span class="koboSpan" id="kobo.6.1">artificial intelligence</span></strong><span class="koboSpan" id="kobo.7.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.8.1">AI</span></strong><span class="koboSpan" id="kobo.9.1">) techniques to robotics. </span><span class="koboSpan" id="kobo.9.2">The first step is to clearly state our problem, from the perspective of the use of the robot, which is different from our view as the designer/builder of the robot. </span><span class="koboSpan" id="kobo.9.3">Then, we need to decide how to approach each of the hardware- and software-based challenges that we and the robot will attempt. </span><span class="koboSpan" id="kobo.9.4">By the end of this chapter, you will be able to understand the process of how to design a </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">robot systematically.</span></span></p>
<p><span class="koboSpan" id="kobo.11.1">This chapter will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.13.1">A systems engineering-based approach </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">to robotics</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Understanding our task – cleaning up </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">the playroom</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">How to state the problem with the help of </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">use cases</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">How to approach solving problems </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">with storyboards</span></span></li>
<li><a id="_idTextAnchor045"/><span class="koboSpan" id="kobo.21.1">Understanding the scope of our </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">use case</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Identifying our </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">hardware needs</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Breaking down our </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">software needs</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">Writing </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">a specification</span></span></li>
</ul>
<h1 id="_idParaDest-46"><a id="_idTextAnchor046"/><span class="koboSpan" id="kobo.29.1">A systems engineering-based approach to robotics</span></h1>
<p><span class="koboSpan" id="kobo.30.1">When you set out to create a complex robot with AI-based software, you can’t just jump in and start slinging code and throwing things together without some sort of game plan as to how the robot goes together and how all the parts communicate with one another. </span><span class="koboSpan" id="kobo.30.2">We will discuss a systematic approach to robot design based on </span><strong class="bold"><span class="koboSpan" id="kobo.31.1">systems engineering</span></strong><span class="koboSpan" id="kobo.32.1"> principles. </span><span class="koboSpan" id="kobo.32.2">We will be learning about use cases and will use storyboards as techniques to understand what we are building and what parts – hardware and software – </span><span class="No-Break"><span class="koboSpan" id="kobo.33.1">are needed.</span></span></p>
<h1 id="_idParaDest-47"><a id="_idTextAnchor047"/><span class="koboSpan" id="kobo.34.1">Understanding our task – cleaning up the playroom</span></h1>
<p><span class="koboSpan" id="kobo.35.1">We have already talked a bit about our main task for Albert, our example robot for this book, which is to clean up the playroom in my house after my grandchildren come to visit. </span><span class="koboSpan" id="kobo.35.2">We need to provide a more formal definition of our problem, and then turn that into a list of tasks for the robot to perform along with a plan of action on how we might accomplish </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1">those tasks.</span></span></p>
<p><span class="koboSpan" id="kobo.37.1">Why are we doing this? </span><span class="koboSpan" id="kobo.37.2">Well, consider this quote by </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">Steve Maraboli:</span></span></p>
<p class="uthor-quote"><span class="koboSpan" id="kobo.39.1">“If you don’t know where you are going, how do you know when you get there?”</span></p>
<div>
<div class="IMG---Figure" id="_idContainer026">
<span class="koboSpan" id="kobo.40.1"><img alt="Figure 3.1 – It’s important to know what your robot does" src="image/B19846_03_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.41.1">Figure 3.1 – It’s important to know what your robot does</span></p>
<p><span class="koboSpan" id="kobo.42.1">The internet and various robot websites are littered with dozens of robots that share one fatal character flaw: the robot and its software were designed first and then they went out to look for a job for it. </span><span class="koboSpan" id="kobo.42.2">In the robot business, this is called the </span><strong class="bold"><span class="koboSpan" id="kobo.43.1">ready, fire, aim problem</span></strong><span class="koboSpan" id="kobo.44.1">. </span><span class="koboSpan" id="kobo.44.2">The task, the customer, the purpose, the use, and the job of the robot comes first.</span><a id="_idTextAnchor048"/><span class="koboSpan" id="kobo.45.1"> Another way of saying this is: to create an effective tool, the first step is to decide what you do </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">with it.</span></span></p>
<p><span class="koboSpan" id="kobo.47.1">I could have </span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.48.1">written this book as a set of theories and exercises that would have worked well in a classroom setting, which would have introduced you to a whole lot of new tools you would not know how to apply. </span><span class="koboSpan" id="kobo.48.2">However, this chapter is here to provide you with tools and methods to provide a path from having a good idea to having a good robot, with as little misdirection, pain, suffering, tears, and torn-out hair </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">as possible.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.50.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.51.1">You are on your own with burns; please be careful with the </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">soldering iron.</span></span></p>
<p><span class="koboSpan" id="kobo.53.1">The process we will use </span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">is straightforward:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.55.1">The first step is to look at the robot from the user’s perspective and then describe what it does. </span><span class="koboSpan" id="kobo.55.2">We will call these descriptions </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">use cases</span></strong><span class="koboSpan" id="kobo.57.1"> – examples of how the robot will </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">be used.</span></span></li>
<li><span class="koboSpan" id="kobo.59.1">Next, we will break each use case down into </span><strong class="bold"><span class="koboSpan" id="kobo.60.1">storyboards</span></strong><span class="koboSpan" id="kobo.61.1"> (step-by-step illustrations), which can be word pictures or actual pictures. </span><span class="koboSpan" id="kobo.61.2">From the storyboards, we can extract tasks – a to-do list for our robot </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">to accomplish.</span></span></li>
<li><span class="koboSpan" id="kobo.63.1">The final step for this part of the process is to separate the to-do list into things we can do with software and things we will need hardware for. </span><span class="koboSpan" id="kobo.63.2">This will give us detailed information for designing our robot and its AI-based software. </span><span class="koboSpan" id="kobo.63.3">Keep in mind that one of the robot’s uses</span><a id="_idTextAnchor049"/><span class="koboSpan" id="kobo.64.1"> is to be a good example for </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">this book.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.66.1">Let’s start by looking at </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">use cases.</span></span><a id="_idTextAnchor050"/></p>
<h1 id="_idParaDest-48"><a id="_idTextAnchor051"/><span class="koboSpan" id="kobo.68.1">Use cases</span></h1>
<p><span class="koboSpan" id="kobo.69.1">Let’s begin </span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.70.1">our task with a statement of </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">the problem</span><a id="_idTextAnchor052"/><a id="_idTextAnchor053"/><span class="koboSpan" id="kobo.72.1">.</span></span></p>
<h2 id="_idParaDest-49"><a id="_idTextAnchor054"/><span class="koboSpan" id="kobo.73.1">Our robot’s task – part 1</span></h2>
<p><span class="koboSpan" id="kobo.74.1">About once or twice a month, my five delightful, intelligent, and playful grandchildren come to </span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.75.1">visit me and my wife. </span><span class="koboSpan" id="kobo.75.2">Like most grandparents, we keep a box full of toys in our upstairs playroom for them to play with during their visits. </span><span class="koboSpan" id="kobo.75.3">The first thing they do upon arrival – at least the older grandkids– is take every single toy out of the toy box and start playing. </span><span class="koboSpan" id="kobo.75.4">This results in the scene shown in the following photograph – toys randomly and uniformly distributed throughout </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">the playro</span><a id="_idTextAnchor055"/><span class="koboSpan" id="kobo.77.1">om:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer027">
<span class="koboSpan" id="kobo.78.1"><img alt="Figure 3.2 – The playroom in the aftermath of the grandchildren" src="image/B19846_03_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.79.1">Figure 3.2 – The playroom in the aftermath of the grandchildren</span></p>
<p><span class="koboSpan" id="kobo.80.1">Honestly, you could not get a better random distribution. </span><span class="koboSpan" id="kobo.80.2">They are really good at this. </span><span class="koboSpan" id="kobo.80.3">Since, as grandparents, our desire is to maximize the amount of time that our grandchildren have fun at our house and we want them to associate Granddad and Grandmother’s house with having fun, we don’t make them pick up the toys when they go home. </span><span class="koboSpan" id="kobo.80.4">You can see where this </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">is heading.</span></span></p>
<p><span class="koboSpan" id="kobo.82.1">By the way, if you are a parent, let me apologize to you in advance; this is indeed an evil plot on our, the grandparents, part, and you’ll understand when you get grandkids of your own – and you will do </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">this, too.</span></span></p>
<p><span class="koboSpan" id="kobo.84.1">Where were we...? </span><span class="koboSpan" id="kobo.84.2">Yes, a room full of randomly and uniformly distributed foreign objects – toys – scattered </span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.85.1">about an otherwise serviceable playroom, which need to be removed. </span><span class="koboSpan" id="kobo.85.2">Normally, I’d just have to sigh heavily and pick up all this stuff myself, but I am a robot designer, so what I want to do is to make a robot that does </span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.87.1">Pick up the toys – and not the furniture, lights, books, speakers, or other items in the room that are </span><span class="No-Break"><span class="koboSpan" id="kobo.88.1">not toys.</span></span></li>
<li><span class="koboSpan" id="kobo.89.1">Put them in the </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">toy box.</span></span></li>
<li><span class="koboSpan" id="kobo.91.1">Continue to do this until there are no more toys to be found and </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">then stop.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.93.1">Here is a visual representation of </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">this process:</span></span></p>
<p class="IMG---Figure"><a id="_idTextAnchor056"/></p>
<div>
<div class="IMG---Figure" id="_idContainer028">
<span class="koboSpan" id="kobo.95.1"><img alt="Figure 3.3 – Use case: pick up toys" src="image/B19846_03_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.96.1">Figure 3.3 – Use case: pick up toys</span></p>
<p><span class="koboSpan" id="kobo.97.1">Now we can ask some pertinent questions. </span><span class="koboSpan" id="kobo.97.2">I took journalism classes in school and I was taught the usefulness of the </span><em class="italic"><span class="koboSpan" id="kobo.98.1">5 Ws and an H</span></em><span class="koboSpan" id="kobo.99.1"> – </span><em class="italic"><span class="koboSpan" id="kobo.100.1">Who</span></em><span class="koboSpan" id="kobo.101.1">, </span><em class="italic"><span class="koboSpan" id="kobo.102.1">What</span></em><span class="koboSpan" id="kobo.103.1">, </span><em class="italic"><span class="koboSpan" id="kobo.104.1">When</span></em><span class="koboSpan" id="kobo.105.1">, </span><em class="italic"><span class="koboSpan" id="kobo.106.1">Where</span></em><span class="koboSpan" id="kobo.107.1">, </span><em class="italic"><span class="koboSpan" id="kobo.108.1">Why</span></em><span class="koboSpan" id="kobo.109.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.110.1">How</span></em><span class="koboSpan" id="kobo.111.1">. </span><span class="koboSpan" id="kobo.111.2">These are just as useful for examining use cases. </span><span class="koboSpan" id="kobo.111.3">I’ve got one firm rule here in this section: no implementation details. </span><span class="koboSpan" id="kobo.111.4">Don’t worry about how you are going to do this. </span><span class="koboSpan" id="kobo.111.5">Just worry about </span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.112.1">defining the results. </span><span class="koboSpan" id="kobo.112.2">So we’ll leave out the </span><em class="italic"><span class="koboSpan" id="kobo.113.1">H</span></em><span class="koboSpan" id="kobo.114.1"> for now and focus on the </span><em class="italic"><span class="koboSpan" id="kobo.115.1">Ws</span></em><span class="koboSpan" id="kobo.116.1">. </span><span class="koboSpan" id="kobo.116.2">Let’s give this</span><a id="_idTextAnchor057"/> <span class="No-Break"><span class="koboSpan" id="kobo.117.1">a tr</span><a id="_idTextAnchor058"/><span class="koboSpan" id="kobo.118.1">y:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.119.1">Who</span></strong><span class="koboSpan" id="kobo.120.1">: The robot. </span><span class="koboSpan" id="kobo.120.2">That was easy. </span><span class="koboSpan" id="kobo.120.3">We want the robot to do something, as in the robot does this and not m</span><a id="_idTextAnchor059"/><span class="koboSpan" id="kobo.121.1">e. </span><span class="koboSpan" id="kobo.121.2">What do we want the robot </span><span class="No-Break"><span class="koboSpan" id="kobo.122.1">to d</span><a id="_idTextAnchor060"/><span class="koboSpan" id="kobo.123.1">o?</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.124.1">What</span></strong><span class="koboSpan" id="kobo.125.1">: This question can be answered in </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">two ways:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.127.1">Pick up toys and put them in the toy box</span></strong><span class="koboSpan" id="kobo.128.1">: What does this answer tell us? </span><span class="koboSpan" id="kobo.128.2">It says we are going to be grasping and lifting something – toys. </span><span class="koboSpan" id="kobo.128.3">What are toys? </span><span class="koboSpan" id="kobo.128.4">We could also rephrase this as a negative, which brings us to the </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">second answe</span><a id="_idTextAnchor061"/><a id="_idTextAnchor062"/><a id="_idTextAnchor063"/><span class="koboSpan" id="kobo.130.1">r.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.131.1">Pick up and put away in the toy box the items that were not previously in the room</span></strong><span class="koboSpan" id="kobo.132.1">: The toys were not in the room before the grandkids pulled them all out. </span><span class="koboSpan" id="kobo.132.2">So we either want to classify items as toys or as things that were not in the room before. </span><em class="italic"><span class="koboSpan" id="kobo.133.1">Not in the room</span></em><span class="koboSpan" id="kobo.134.1"> implies that the robot somehow knows what belongs in the room, possibly by making a survey prior to the children’s arrival. </span><span class="koboSpan" id="kobo.134.2">However, </span><em class="italic"><span class="koboSpan" id="kobo.135.1">toys</span></em><span class="koboSpan" id="kobo.136.1"> implies that the robot can classify objects at least as </span><em class="italic"><span class="koboSpan" id="kobo.137.1">toys</span></em><span class="koboSpan" id="kobo.138.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.139.1">not toys</span></em><span class="koboSpan" id="kobo.140.1">. </span><span class="koboSpan" id="kobo.140.2">Let’s stick with that for now. </span><span class="koboSpan" id="kobo.140.3">We may have some items in the room that are not toys but are out of place, and thus don’t belong in the toy box. </span><span class="koboSpan" id="kobo.140.4">Y</span><a id="_idTextAnchor064"/><span class="koboSpan" id="kobo.141.1">ou can already see these questions shaping what comes later in </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">this proces</span><a id="_idTextAnchor065"/><span class="koboSpan" id="kobo.143.1">s.</span></span></li></ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.144.1">When</span></strong><span class="koboSpan" id="kobo.145.1">: After the grandchildren have visited and they have left, continue to pick up toys until there are </span><span class="No-Break"><span class="koboSpan" id="kobo.146.1">none left.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.147.1">That gives us two conditions for </span><em class="italic"><span class="koboSpan" id="kobo.148.1">when</span></em><span class="koboSpan" id="kobo.149.1">: a start and a stop. </span><span class="koboSpan" id="kobo.149.2">In this case, the start is defined as the grandkids have visited and they have left. </span><span class="koboSpan" id="kobo.149.3">Now, it is perfectly fair for me to state in the use case that I’ll tell the robot when these conditions are met, since that is not putting me out. </span><span class="koboSpan" id="kobo.149.4">I’ll be here, and I know when the room needs to be cleane</span><a id="_idTextAnchor066"/><span class="koboSpan" id="kobo.150.1">d. </span><span class="koboSpan" id="kobo.150.2">Besides, I need to get the robot out and put it into the room. </span><span class="koboSpan" id="kobo.150.3">When not working, it stays on a bookshelf. </span><span class="koboSpan" id="kobo.150.4">So, let’s change our </span><em class="italic"><span class="koboSpan" id="kobo.151.1">when</span></em><span class="koboSpan" id="kobo.152.1"> statement to </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">the following</span><a id="_idTextAnchor067"/><span class="koboSpan" id="kobo.154.1">:</span></span></p><p class="list-inset"><em class="italic"><span class="koboSpan" id="kobo.155.1">When I (the user) tell you to, and don’t stop until there are no more toys to </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.156.1">be found.</span></em></span></p><p class="list-inset"><span class="koboSpan" id="kobo.157.1">Now, we could have decided that the robot needs to figure this out for itself and turn itself on after the grandchildren leave, but what is the return on investment for that? </span><span class="koboSpan" id="kobo.157.2">That would be a lot of work for not a lot of gain. </span><span class="koboSpan" id="kobo.157.3">The pain point for me, the user, is picking up toys, not deciding when to do it. </span><span class="koboSpan" id="kobo.157.4">This is a </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">lot simpler.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.159.1">Note that my </span><em class="italic"><span class="koboSpan" id="kobo.160.1">when</span></em><span class="koboSpan" id="kobo.161.1"> statement has a start and an end. </span><span class="koboSpan" id="kobo.161.2">Anyone who watched Mickey Mouse in the </span><em class="italic"><span class="koboSpan" id="kobo.162.1">Sorcerer’s Apprentice</span></em><span class="koboSpan" id="kobo.163.1"> segment of </span><em class="italic"><span class="koboSpan" id="kobo.164.1">Fantasia</span></em><span class="koboSpan" id="kobo.165.1"> understands that when </span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.166.1">you have a robot, telling it when to stop can be important. </span><span class="koboSpan" id="kobo.166.2">Another important concept is defining the end condition. </span><span class="koboSpan" id="kobo.166.3">I did not say </span><em class="italic"><span class="koboSpan" id="kobo.167.1">stop when all of the toys are picked up</span></em><span class="koboSpan" id="kobo.168.1"> because that would imply the robot needed to know all of the toys, either by sight or number. </span><span class="koboSpan" id="kobo.168.2">It is easier as a task definition to say </span><em class="italic"><span class="koboSpan" id="kobo.169.1">stop when you see no more toys</span></em><span class="koboSpan" id="kobo.170.1"> instead, which accomplishes what we want without adding additional requirements to </span><span class="No-Break"><span class="koboSpan" id="kobo.171.1">our ro</span><a id="_idTextAnchor068"/><span class="koboSpan" id="kobo.172.1">bot.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.173.1">It is perfectly normal to have to revisit use cases as the robot designer understands more about the problem – sometimes you can be working hard to solve a problem that is not relevant to solving the user’s task. </span><span class="koboSpan" id="kobo.173.2">You can imagine some robot engineer in a team being given the task of </span><em class="italic"><span class="koboSpan" id="kobo.174.1">pick up all the toys</span></em><span class="koboSpan" id="kobo.175.1"> as meaning all toys ever invented, in all cultures, in all parts of the world! </span><span class="koboSpan" id="kobo.175.2">Then, you get a request for a $500,000 database software license and a server farm to house it. </span><span class="koboSpan" id="kobo.175.3">We just want to pick up the toys found in </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">the playro</span><a id="_idTextAnchor069"/><a id="_idTextAnchor070"/><span class="koboSpan" id="kobo.177.1">om.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.178.1">Where</span></strong><span class="koboSpan" id="kobo.179.1">: The playroom upstairs. </span><span class="koboSpan" id="kobo.179.2">Now we have some tricky parts. </span><span class="koboSpan" id="kobo.179.3">The area to be cleaned is a specific area of the house, but it is not really bound by walls. </span><span class="koboSpan" id="kobo.179.4">And it is upstairs – there is a stairway going down in the playroom that we don’t want our robot tumbling down. </span><span class="koboSpan" id="kobo.179.5">How would you have known this? </span><span class="koboSpan" id="kobo.179.6">You won’t unless you ask these kinds of questions! </span><span class="koboSpan" id="kobo.179.7">The environment the robot operates in is just as important as what it does. </span><span class="koboSpan" id="kobo.179.8">In this case, let’s go back and ask the user. </span><span class="koboSpan" id="kobo.179.9">I’ll stick in a floor plan for you here to define what I mean by </span><em class="italic"><span class="koboSpan" id="kobo.180.1">playroom</span></em><span class="koboSpan" id="kobo.181.1">. </span><span class="koboSpan" id="kobo.181.2">On the bright side, we don’t need to climb or descend stairs in this task. </span><span class="koboSpan" id="kobo.181.3">But we do need to look out for </span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.182.1">the staircase as </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">a hazard:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer029">
<span class="koboSpan" id="kobo.184.1"><img alt="Figure 3.4 – The floor plan of my house, upstairs" src="image/B19846_03_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.185.1">Figure 3.4 – The floor plan of my house, upstairs</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.186.1">Why</span></strong><span class="koboSpan" id="kobo.187.1">: So why is the robot picking up toys? </span><span class="koboSpan" id="kobo.187.2">I’m tempted to just write “Because </span><em class="italic"><span class="koboSpan" id="kobo.188.1">someone</span></em><span class="koboSpan" id="kobo.189.1"> has to do it.” </span><span class="koboSpan" id="kobo.189.2">However, the answer is that I don’t want the grandkids to pick up toys so that they have the maximum time to play, and I don’t want to do it, either. </span><span class="koboSpan" id="kobo.189.3">So we are making a robot for this task. </span><span class="koboSpan" id="kobo.189.4">One maxim in the robot world is that proper tasks for robots are </span><em class="italic"><span class="koboSpan" id="kobo.190.1">dirty</span></em><span class="koboSpan" id="kobo.191.1">, </span><em class="italic"><span class="koboSpan" id="kobo.192.1">dull</span></em><span class="koboSpan" id="kobo.193.1">, or </span><em class="italic"><span class="koboSpan" id="kobo.194.1">dangerous</span></em><span class="koboSpan" id="kobo.195.1">. </span><span class="koboSpan" id="kobo.195.2">This one definitely falls into the </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.196.1">dull</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.197.1"> category.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.198.1">Our robot has more than one use case – it has more than one function </span><span class="No-Break"><span class="koboSpan" id="kobo.199.1">to perfo</span><a id="_idTextAnchor071"/><a id="_idTextAnchor072"/><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.200.1">rm.</span></span></p>
<h2 id="_idParaDest-50"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.201.1">Our robot’s task – part 2</span></h2>
<p><span class="koboSpan" id="kobo.202.1">The robot needs to interact with my grandchildren. </span><span class="koboSpan" id="kobo.202.2">Why is this important? </span><span class="koboSpan" id="kobo.202.3">As I told you in </span><a href="B19846_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.203.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.204.1">, the grandchildren were introduced to some of my other robots, and the oldest grandkid, William, always tries to talk to the robots. </span><span class="koboSpan" id="kobo.204.2">I have three grandchildren who are on </span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.205.1">the autistic spectrum, so this is not an idle desire – I’ve read the research, such as </span><em class="italic"><span class="koboSpan" id="kobo.206.1">Robots for Autism</span></em><span class="koboSpan" id="kobo.207.1"> (</span><a href="https://www.robokind.com/"><span class="koboSpan" id="kobo.208.1">https://www.robokind.com/</span></a><span class="koboSpan" id="kobo.209.1">), which states that robots can be helpful in such situations. </span><span class="koboSpan" id="kobo.209.2">While I’m not trying to do therapy, I’d like my robot to interact with my grandchildren verbally. </span><span class="koboSpan" id="kobo.209.3">I also have one specific request – the robot must be able to tell knock-knock jokes and respond to them, as they are a favorite of William. </span><span class="koboSpan" id="kobo.209.4">I want this robot to be </span><span class="No-Break"><span class="koboSpan" id="kobo.210.1">verbally interactive.</span></span></p>
<p><span class="koboSpan" id="kobo.211.1">So, here is a diagram of this </span><span class="No-Break"><span class="koboSpan" id="kobo.212.1">use case:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer030">
<span class="koboSpan" id="kobo.213.1"><img alt="Figure 3.5 – Use case: interact with people" src="image/B19846_03_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.214.1">Figure 3.5 – Use case: interact with people</span></p>
<p><span class="koboSpan" id="kobo.215.1">So let’s go through the same exercise with this use case. </span><span class="koboSpan" id="kobo.215.2">We ask the pertinent questio</span><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.216.1">ns: </span><em class="italic"><span class="koboSpan" id="kobo.217.1">who</span></em><span class="koboSpan" id="kobo.218.1">, </span><em class="italic"><span class="koboSpan" id="kobo.219.1">what</span></em><span class="koboSpan" id="kobo.220.1">, </span><em class="italic"><span class="koboSpan" id="kobo.221.1">when</span></em><span class="koboSpan" id="kobo.222.1">, </span><em class="italic"><span class="koboSpan" id="kobo.223.1">where</span></em><span class="koboSpan" id="kobo.224.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.225.1">why</span></em><span class="koboSpan" id="kobo.226.1">? </span><span class="koboSpan" id="kobo.226.2">Let’s break </span><span class="No-Break"><span class="koboSpan" id="kobo.227.1">these do</span><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.228.1">wn:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.229.1">Who</span></strong><span class="koboSpan" id="kobo.230.1">: The robot, the user (granddad), and </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">the grandchildren.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.232.1">In this case, user interaction is part of the task. </span><span class="koboSpan" id="kobo.232.2">Who are we interacting with? </span><span class="koboSpan" id="kobo.232.3">I need to be able to command the robot to begin to interact. </span><span class="koboSpan" id="kobo.232.4">Then, we want the robot to both talk to and listen to </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">the childr</span><a id="_idTextAnchor077"/><a id="_idTextAnchor078"/><a id="_idTextAnchor079"/><span class="koboSpan" id="kobo.234.1">en.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.235.1">What</span></strong><span class="koboSpan" id="kobo.236.1">: Receive commands and verbally interact (hold a conversation) with children, which must include knock-knock jokes. </span><span class="koboSpan" id="kobo.236.2">We keep the two kinds of functions: receive commands from – let’s call me the </span><strong class="bold"><span class="koboSpan" id="kobo.237.1">robot controller</span></strong><span class="koboSpan" id="kobo.238.1">, to make this more generic. </span><span class="koboSpan" id="kobo.238.2">The other function is to have a conversation with the children, including telling knock-knock jokes. </span><span class="koboSpan" id="kobo.238.3">We’ll define </span><em class="italic"><span class="koboSpan" id="kobo.239.1">conversation</span></em><span class="koboSpan" id="kobo.240.1"> further on in our breakdown. </span><span class="koboSpan" id="kobo.240.2">You can refer to </span><a href="B19846_06.xhtml#_idTextAnchor205"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.241.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.242.1"> on using the robot as a </span><strong class="bold"><span class="koboSpan" id="kobo.243.1">digital assistant</span></strong><span class="koboSpan" id="kobo.244.1">. </span><span class="koboSpan" id="kobo.244.2">We are </span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.245.1">going to use an open source digital assistant called </span><em class="italic"><span class="koboSpan" id="kobo.246.1">Mycroft</span></em><span class="koboSpan" id="kobo.247.1"> to act </span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.248.1">as a voice interface for the robot. </span><span class="koboSpan" id="kobo.248.2">We will add our own skills to the base Mycroft capability, which is actually quite versatile. </span><span class="koboSpan" id="kobo.248.3">The robot can get the weather, set timers, play music, look up information on Google (such as how many tablespoons in a quarter cup), and even </span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.249.1">tell you where the International Space Station is right now. </span><span class="koboSpan" id="kobo.249.2">But what it can’t do is tell knock-knock jokes – until now, as we are adding this feature to the robot. </span><span class="koboSpan" id="kobo.249.3">Fortunately for us, the knock-knock joke has a very structured form based on puns and a call-and-response format that goes </span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">like this:</span></span><p class="list-inset"><em class="italic"><span class="koboSpan" id="kobo.251.1">Robot</span></em><span class="koboSpan" id="kobo.252.1">: </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">Knock knock.</span></span></p><p class="list-inset"><em class="italic"><span class="koboSpan" id="kobo.254.1">Child</span></em><span class="koboSpan" id="kobo.255.1">: </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">Who’s there?</span></span></p><p class="list-inset"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.257.1">Robot</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.258.1">: Lettuce.</span></span></p><p class="list-inset"><em class="italic"><span class="koboSpan" id="kobo.259.1">Child</span></em><span class="koboSpan" id="kobo.260.1">: </span><span class="No-Break"><span class="koboSpan" id="kobo.261.1">Lettuce who?</span></span></p><p class="list-inset"><em class="italic"><span class="koboSpan" id="kobo.262.1">Robot</span></em><span class="koboSpan" id="kobo.263.1">: Lettuce (let us) in, we’re freezing </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">out here!</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.265.1">I’ll leave diagramming the opposite form – responding to a knock-knock joke – </span><a id="_idTextAnchor080"/><a id="_idTextAnchor081"/><a id="_idTextAnchor082"/><span class="No-Break"><span class="koboSpan" id="kobo.266.1">to you.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.267.1">When</span></strong><span class="koboSpan" id="kobo.268.1">: As requested by the robot controller, then when the child speaks to </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">the robot.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.270.1">I think this is fairly self-explanatory: the robot interacts when sent a command to do so. </span><span class="koboSpan" id="kobo.270.2">It then waits for someone to talk to it. </span><span class="koboSpan" id="kobo.270.3">One thing we can extrapolate from this information is that when we are picking up toys, we are not expecting the robot to talk – the two activiti</span><a id="_idTextAnchor083"/><span class="koboSpan" id="kobo.271.1">es are exclusive. </span><span class="koboSpan" id="kobo.271.2">We only pick up toys after the kids are gone, ergo there is one to </span><span class="No-Break"><span class="koboSpan" id="kobo.272.1">ta</span><a id="_idTextAnchor084"/><span class="koboSpan" id="kobo.273.1">lk to.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.274.1">Where</span></strong><span class="koboSpan" id="kobo.275.1">: In the playroom, within about six feet of </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">the robot.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.277.1">We have to set some limits on how far we can hear – there is a limit on how sensitive our </span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.278.1">microphone can be. </span><span class="koboSpan" id="kobo.278.2">I’m suggesting six feet as a maximum distance. </span><span class="koboSpan" id="kobo.278.3">We may revisit this later. </span><span class="koboSpan" id="kobo.278.4">When you come to a requirement like this, you can ask the customer </span><em class="italic"><span class="koboSpan" id="kobo.279.1">Why six feet?</span></em><span class="koboSpan" id="kobo.280.1"> They may say, </span><em class="italic"><span class="koboSpan" id="kobo.281.1">Well, that sounds like a reasonable distance</span></em><span class="koboSpan" id="kobo.282.1">. </span><span class="koboSpan" id="kobo.282.2">You can then ask, </span><em class="italic"><span class="koboSpan" id="kobo.283.1">Well, if it was five feet, would that be a failure of this function?</span></em><span class="koboSpan" id="kobo.284.1"> And the user might respond, </span><em class="italic"><span class="koboSpan" id="kobo.285.1">No, but it would not be as comfortable</span></em><span class="koboSpan" id="kobo.286.1">. </span><span class="koboSpan" id="kobo.286.2">You can continue to ask questions on distances until you get a feeling for the required distance (how far away to not fail), which might be three feet in this case (so that the child does not have to bend over the robot to be heard), and the desired distance, which is how far the user wants the function to work. </span><span class="koboSpan" id="kobo.286.3">These are im</span><a id="_idTextAnchor085"/><span class="koboSpan" id="kobo.287.1">portant distinctions when we get around to testing. </span><span class="koboSpan" id="kobo.287.2">Where is the pass-fail line for </span><span class="No-Break"><span class="koboSpan" id="kobo.288.1">this requirement?</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.289.1">Why</span></strong><span class="koboSpan" id="kobo.290.1">: Because my grandchildren want to talk to the robot, and have it respond (i.e., the users have specifically requested </span><span class="No-Break"><span class="koboSpan" id="kobo.291.1">this feature).</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.292.1">Now, let’s delve deeper into our </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">robot’s</span><a id="_idTextAnchor086"/><span class="koboSpan" id="kobo.294.1"> tasks.</span></span></p>
<h2 id="_idParaDest-51"><a id="_idTextAnchor087"/><span class="koboSpan" id="kobo.295.1">What is our robot to do?</span></h2>
<p><span class="koboSpan" id="kobo.296.1">Now we are going to do some detailed analysis of what the robot needs to do by using the storyboard process. </span><span class="koboSpan" id="kobo.296.2">This works like this: We take each of our two tasks and break them down as completely as we can based on the answers to all of our </span><em class="italic"><span class="koboSpan" id="kobo.297.1">W</span></em><span class="koboSpan" id="kobo.298.1"> questions. </span><span class="koboSpan" id="kobo.298.2">Then we picturize each step. </span><span class="koboSpan" id="kobo.298.3">The pictures can be either a drawing or a word picture (a paragraph) describing what happens in that step. </span><span class="koboSpan" id="kobo.298.4">I like to start the decomposition process by describing the </span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.299.1">robot in terms of a </span><strong class="bold"><span class="koboSpan" id="kobo.300.1">state machine</span></strong><span class="koboSpan" id="kobo.301.1">, which, for the first part of our problem, may be a good approach to understanding what is going on inside the robot at </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">each step.</span></span></p>
<p><span class="koboSpan" id="kobo.303.1">You are probably familiar with </span><strong class="bold"><span class="koboSpan" id="kobo.304.1">state machine diagrams</span></strong><span class="koboSpan" id="kobo.305.1">, but just in case, a state machine diagram describes the robot’s behavior as a series of discrete states or sets of conditions that </span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.306.1">define what actions are available to </span><span class="No-Break"><span class="koboSpan" id="kobo.307.1">the robot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer031">
<span class="koboSpan" id="kobo.308.1"><img alt="Figure 3.6 – Robot state machine﻿ diagram" src="image/B19846_03_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.309.1">Figure 3.6 – Robot state machine</span><a id="_idTextAnchor088"/><span class="koboSpan" id="kobo.310.1"> diagram</span></p>
<p><span class="koboSpan" id="kobo.311.1">Our first state is simply </span><em class="italic"><span class="koboSpan" id="kobo.312.1">Off</span></em><span class="koboSpan" id="kobo.313.1"> – the robot has no power </span><span class="No-Break"><span class="koboSpan" id="kobo.314.1">turned on.</span></span></p>
<p><span class="koboSpan" id="kobo.315.1">Each state is </span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.316.1">an event (or events) that causes the state to change. </span><span class="koboSpan" id="kobo.316.2">These are called </span><strong class="bold"><span class="koboSpan" id="kobo.317.1">transitions</span></strong><span class="koboSpan" id="kobo.318.1">. </span><span class="koboSpan" id="kobo.318.2">To get from the </span><em class="italic"><span class="koboSpan" id="kobo.319.1">Off</span></em><span class="koboSpan" id="kobo.320.1"> state to whatever is next, some event has to occur – such as the human operator turning on the power. </span><span class="koboSpan" id="kobo.320.2">We’ll call that transition event </span><em class="italic"><span class="koboSpan" id="kobo.321.1">Power applied</span></em><span class="koboSpan" id="kobo.322.1">. </span><span class="koboSpan" id="kobo.322.2">Now what state are we in? </span><span class="koboSpan" id="kobo.322.3">There is some amount of time to get the computer booted and the programs loaded (</span><em class="italic"><span class="koboSpan" id="kobo.323.1">Initializing</span></em><span class="koboSpan" id="kobo.324.1">). </span><span class="koboSpan" id="kobo.324.2">Once everything boots up and initializes, the robot will be ready to accept commands. </span><span class="koboSpan" id="kobo.324.3">Let’s call this state </span><em class="italic"><span class="koboSpan" id="kobo.325.1">Standby</span></em><span class="koboSpan" id="kobo.326.1">. </span><span class="koboSpan" id="kobo.326.2">The robot is just sitting waiting for instructions. </span><span class="koboSpan" id="kobo.326.3">Now we want to start cleaning the room. </span><span class="koboSpan" id="kobo.326.4">I send a </span><em class="italic"><span class="koboSpan" id="kobo.327.1">Begin cleaning</span></em><span class="koboSpan" id="kobo.328.1"> command to the robot, which changes the state to – what? </span><span class="koboSpan" id="kobo.328.2">What do we need to happen next? </span><span class="koboSpan" id="kobo.328.3">We could define a state called </span><em class="italic"><span class="koboSpan" id="kobo.329.1">Cleaning</span></em><span class="koboSpan" id="kobo.330.1">, but that would encompass a lot of complex functions and we would not learn much from that. </span><span class="koboSpan" id="kobo.330.2">We need the robot to look for toys using its camera. </span><span class="koboSpan" id="kobo.330.3">If it does not find a toy, it needs to drive forward a short distance – avoiding obstacles – and then look again. </span><span class="koboSpan" id="kobo.330.4">In practice, we should be able to look for toys while driving without pausing constantly. </span><span class="koboSpan" id="kobo.330.5">We will need to make the </span><em class="italic"><span class="koboSpan" id="kobo.331.1">Look for toys</span></em><span class="koboSpan" id="kobo.332.1"> function interrupt driving when it sees </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">a toy.</span></span></p>
<p><span class="koboSpan" id="kobo.334.1">If it does find a toy, then the robot needs to position itself so that the toy is within reach of the robot arm. </span><span class="koboSpan" id="kobo.334.2">In the state machine diagram, we already added the transition </span><em class="italic"><span class="koboSpan" id="kobo.335.1">Begin cleaning</span></em><span class="koboSpan" id="kobo.336.1">, which changes the state from </span><em class="italic"><span class="koboSpan" id="kobo.337.1">Standby</span></em><span class="koboSpan" id="kobo.338.1"> to </span><em class="italic"><span class="koboSpan" id="kobo.339.1">Look for toys</span></em><span class="koboSpan" id="kobo.340.1">. </span><span class="koboSpan" id="kobo.340.2">Now we can add two more transitions: one called </span><em class="italic"><span class="koboSpan" id="kobo.341.1">Toy = no</span></em><span class="koboSpan" id="kobo.342.1"> and one called </span><em class="italic"><span class="koboSpan" id="kobo.343.1">Toy = yes</span></em><span class="koboSpan" id="kobo.344.1">. </span><span class="koboSpan" id="kobo.344.2">The </span><em class="italic"><span class="koboSpan" id="kobo.345.1">Toy = no</span></em><span class="koboSpan" id="kobo.346.1"> branch goes to a state called </span><em class="italic"><span class="koboSpan" id="kobo.347.1">Drive ahead</span></em><span class="koboSpan" id="kobo.348.1">, where the robot moves forward – while avoiding obstacles – and then goes back to the </span><em class="italic"><span class="koboSpan" id="kobo.349.1">Look for toys</span></em><span class="koboSpan" id="kobo.350.1"> state and tries again to find a toy. </span><span class="koboSpan" id="kobo.350.2">We will </span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.351.1">need some sort of means to tell the software how often to look for toys. </span><span class="koboSpan" id="kobo.351.2">We could use a simple timer – so many seconds elapsed. </span><span class="koboSpan" id="kobo.351.3">Or we could use some sort of distance function based on </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">whe</span><a id="_idTextAnchor089"/><span class="koboSpan" id="kobo.353.1">el motion.</span></span></p>
<p><span class="koboSpan" id="kobo.354.1">So, now we have found a toy, what do we do? </span><span class="koboSpan" id="kobo.354.2">We need to drive to the toy, which puts it in range of our robot arm. </span><span class="koboSpan" id="kobo.354.3">We try to grip the toy with the robot’s arm and hand. </span><span class="koboSpan" id="kobo.354.4">We may not be successful on the first try, in which case we want to try again. </span><span class="koboSpan" id="kobo.354.5">The loop transition, which is labeled </span><em class="italic"><span class="koboSpan" id="kobo.355.1">Grip unsuccessful</span></em><span class="koboSpan" id="kobo.356.1">, says to go back and try again if you don’t succeed the first time. </span><span class="koboSpan" id="kobo.356.2">Where have I heard that before? </span><span class="koboSpan" id="kobo.356.3">You can see the same with </span><em class="italic"><span class="koboSpan" id="kobo.357.1">Pick up toy</span></em><span class="koboSpan" id="kobo.358.1">. </span><span class="koboSpan" id="kobo.358.2">Why are there two parts? </span><span class="koboSpan" id="kobo.358.3">We need to first get a hold of the toy before we can lift it. </span><span class="koboSpan" id="kobo.358.4">So I thought it needed two states, since we may fail to get a grip – the toy falls out of the hand, separately from picking the toy up, where the toy is too heavy or awkward </span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">to lift.</span></span></p>
<p><span class="koboSpan" id="kobo.360.1">OK, we found a toy and picked it up. </span><span class="koboSpan" id="kobo.360.2">What is next? </span><span class="koboSpan" id="kobo.360.3">We need to put it in the toy box. </span><span class="koboSpan" id="kobo.360.4">The next state is </span><em class="italic"><span class="koboSpan" id="kobo.361.1">Drive to toy box</span></em><span class="koboSpan" id="kobo.362.1">. </span><span class="koboSpan" id="kobo.362.2">Don’t worry about </span><em class="italic"><span class="koboSpan" id="kobo.363.1">how</span></em><span class="koboSpan" id="kobo.364.1"> at this stage; this is just what we need to do. </span><span class="koboSpan" id="kobo.364.2">Later, we can further decompose this state into a more detailed version. </span><span class="koboSpan" id="kobo.364.3">We drive until we get to the event </span><em class="italic"><span class="koboSpan" id="kobo.365.1">Toy box found</span></em><span class="koboSpan" id="kobo.366.1">. </span><span class="koboSpan" id="kobo.366.2">That means we see the toy box. </span><span class="koboSpan" id="kobo.366.3">Then we go to the </span><em class="italic"><span class="koboSpan" id="kobo.367.1">Position for drop</span></em><span class="koboSpan" id="kobo.368.1"> state, which moves the robot to a place where it can drop the toy in the box. </span><span class="koboSpan" id="kobo.368.2">The final state, </span><em class="italic"><span class="koboSpan" id="kobo.369.1">Drop toy</span></em><span class="koboSpan" id="kobo.370.1">, is self-explanatory. </span><span class="koboSpan" id="kobo.370.2">We’ve dropped the toy, the robot has nothing in its gripper, and guess what? </span><span class="koboSpan" id="kobo.370.3">We start over by returning to the </span><em class="italic"><span class="koboSpan" id="kobo.371.1">Look for toys</span></em><span class="koboSpan" id="kobo.372.1"> state. </span><span class="koboSpan" id="kobo.372.2">If the robot decides that the drop was not successful (the toy is still in the gripper), then we have it try that step again, by repositioning the hand over the toy box and trying to drop the toy again by opening the hand. </span><span class="koboSpan" id="kobo.372.3">How do we know whether the gripper is empty? </span><span class="koboSpan" id="kobo.372.4">We try to close the grip and see what position the hand servo is in. </span><span class="koboSpan" id="kobo.372.5">If the gripper can close (go to a minimum state), then it is empty. </span><span class="koboSpan" id="kobo.372.6">If the toy falls outside the toy box (the robot misses the box entirely), then it is once again a toy on the floor, and will be treated in the normal manner – the robot will find it, pick it up, and </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">try again.</span></span></p>
<p><span class="koboSpan" id="kobo.374.1">This is all well and good, and our little robot goes around forever looking for toys, right? </span><span class="koboSpan" id="kobo.374.2">We’ve left out two important transitions. </span><span class="koboSpan" id="kobo.374.3">We need a </span><em class="italic"><span class="koboSpan" id="kobo.375.1">No more toys</span></em><span class="koboSpan" id="kobo.376.1"> event, and we need a way to get back to the </span><em class="italic"><span class="koboSpan" id="kobo.377.1">Off</span></em><span class="koboSpan" id="kobo.378.1"> state. </span><span class="koboSpan" id="kobo.378.2">Getting to </span><em class="italic"><span class="koboSpan" id="kobo.379.1">Off</span></em><span class="koboSpan" id="kobo.380.1"> is easy – the user turns off the power. </span><span class="koboSpan" id="kobo.380.2">I use the shorthand method of having a block labeled </span><em class="italic"><span class="koboSpan" id="kobo.381.1">Any state</span></em><span class="koboSpan" id="kobo.382.1"> since we can hit the off button at any time, no matter what else the robot is doing, and there is nothing the robot can or </span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.383.1">should do about it. </span><span class="koboSpan" id="kobo.383.2">It may be more proper to draw a line from each state back to </span><em class="italic"><span class="koboSpan" id="kobo.384.1">Off</span></em><span class="koboSpan" id="kobo.385.1">, but that clutters the diagram, and this notation still gets the mean</span><a id="_idTextAnchor090"/><span class="koboSpan" id="kobo.386.1">ing across. </span><span class="koboSpan" id="kobo.386.2">The new state machine diagram looks </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">like this:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer032">
<span class="koboSpan" id="kobo.388.1"><img alt="Figure 3.7 – New state machine diagram" src="image/B19846_03_7.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.389.1">Figure 3.7 – New state machine diagram</span></p>
<p><span class="koboSpan" id="kobo.390.1">Let’s take a minute and talk about the concept of </span><em class="italic"><span class="koboSpan" id="kobo.391.1">No more toys</span></em><span class="koboSpan" id="kobo.392.1">. </span><span class="koboSpan" id="kobo.392.2">How do we define this? </span><span class="koboSpan" id="kobo.392.3">This may take some experimentation, but for now, we’ll say if we have not found a toy after 10 minutes of trying, then we are satisfied that there are no more toys to be found. </span><span class="koboSpan" id="kobo.392.4">Later, we can adjust that time as necessary. </span><span class="koboSpan" id="kobo.392.5">It is possible that 5 minutes is totally adequate for a room our size. </span><span class="koboSpan" id="kobo.392.6">Note that the </span><em class="italic"><span class="koboSpan" id="kobo.393.1">No more toys</span></em><span class="koboSpan" id="kobo.394.1"> event can only come from the </span><em class="italic"><span class="koboSpan" id="kobo.395.1">Look for toys</span></em><span class="koboSpan" id="kobo.396.1"> state, which should </span><span class="No-Break"><span class="koboSpan" id="kobo.397.1">make sense.</span></span></p>
<p><span class="koboSpan" id="kobo.398.1">We mentioned that the robot needs to avoid obstacles. </span><span class="koboSpan" id="kobo.398.2">But we don’t have a state called </span><em class="italic"><span class="koboSpan" id="kobo.399.1">Avoid obstacles</span></em><span class="koboSpan" id="kobo.400.1">. </span><span class="koboSpan" id="kobo.400.2">Why is that? </span><span class="koboSpan" id="kobo.400.3">That is because several of the states include driving, and each of those includes avoiding obstacles. </span><span class="koboSpan" id="kobo.400.4">It would not be appropriate to have a state for avoiding obstacles, since it is not unique to one state. </span><span class="koboSpan" id="kobo.400.5">What we need is a separate state machine that describes the robot’s driving. </span><span class="koboSpan" id="kobo.400.6">As I mentioned in the </span><em class="italic"><span class="koboSpan" id="kobo.401.1">Introducing subsumption architecture</span></em><span class="koboSpan" id="kobo.402.1"> section in the last chapter, we can have more than one goal operational at </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">a time.</span></span></p>
<p><span class="koboSpan" id="kobo.404.1">The task of </span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.405.1">picking up toys is the mission, which is the overall goal of the robot. </span><em class="italic"><span class="koboSpan" id="kobo.406.1">Avoid obstacles</span></em><span class="koboSpan" id="kobo.407.1"> is a goal of the driving engine, the mid-level manager of </span><span class="No-Break"><span class="koboSpan" id="kobo.408.1">our robot.</span></span></p>
<p><span class="koboSpan" id="kobo.409.1">We’ve discussed our use cases and drawn a state machine diagram, so now let’s move on to the next step, which is to create </span><span class="No-Break"><span class="koboSpan" id="kobo.410.1">our </span><a id="_idTextAnchor091"/><a id="_idTextAnchor092"/><a id="_idTextAnchor093"/><span class="koboSpan" id="kobo.411.1">storyboards.</span></span></p>
<h1 id="_idParaDest-52"><a id="_idTextAnchor094"/><span class="koboSpan" id="kobo.412.1">Using storyboards</span></h1>
<p><span class="koboSpan" id="kobo.413.1">In this section, we are going to decompose our use cases further in order to understand the various tasks </span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.414.1">our robot must undertake on our behalf in the course of its two missions. </span><span class="koboSpan" id="kobo.414.2">I’ve created some </span><strong class="bold"><span class="koboSpan" id="kobo.415.1">storyboards</span></strong><span class="koboSpan" id="kobo.416.1"> – quick little drawings – to illustrate </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">each point.</span></span></p>
<p><span class="koboSpan" id="kobo.418.1">The concept of storyboards is borrowed from the movie industry, where a comic-strip-like narration is used to translate words on a page in the script into a series of pictures or cartoons that convey additional information not found in the script, such as framing, context, movement, props, sets, and camera moves. </span><span class="koboSpan" id="kobo.418.2">The practice of storyboarding goes all the way back to silent movies and is still </span><span class="No-Break"><span class="koboSpan" id="kobo.419.1">used today.</span></span></p>
<p><span class="koboSpan" id="kobo.420.1">We can use storyboards in robotics design for the same reasons: to convey additional information not found in the words of the use cases. </span><span class="koboSpan" id="kobo.420.2">Storyboards should be simple, quick, and just convey enough information to help you understand what is </span><span class="No-Break"><span class="koboSpan" id="kobo.421.1">going on.</span></span></p>
<p><span class="koboSpan" id="kobo.422.1">Let’s get started. </span><span class="koboSpan" id="kobo.422.2">We are not going to create storyboards for </span><em class="italic"><span class="koboSpan" id="kobo.423.1">Power applied</span></em><span class="koboSpan" id="kobo.424.1">, </span><em class="italic"><span class="koboSpan" id="kobo.425.1">Initializing</span></em><span class="koboSpan" id="kobo.426.1">, or </span><em class="italic"><span class="koboSpan" id="kobo.427.1">Standby</span></em><span class="koboSpan" id="kobo.428.1"> because a storyboard is not really needed for those simple concepts. </span><span class="koboSpan" id="kobo.428.2">We wil</span><a id="_idTextAnchor095"/><span class="koboSpan" id="kobo.429.1">l jump ahead to the </span><em class="italic"><span class="koboSpan" id="kobo.430.1">Begin cleaning</span></em><span class="koboSpan" id="kobo.431.1"> event in our </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">st</span><a id="_idTextAnchor096"/><span class="koboSpan" id="kobo.433.1">ate diagram.</span></span></p>
<h2 id="_idParaDest-53"><a id="_idTextAnchor097"/><span class="koboSpan" id="kobo.434.1">Storyboard – put away the toys</span></h2>
<p><span class="koboSpan" id="kobo.435.1">When our story begins, what is the robot doing? </span><span class="koboSpan" id="kobo.435.2">It has been turned on, and is in a standby state waiting to be told what to do. </span><span class="koboSpan" id="kobo.435.3">How does it receive a command? </span><span class="koboSpan" id="kobo.435.4">A nice, hands-free </span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.436.1">way would be to receive a voice command to </span><em class="italic"><span class="koboSpan" id="kobo.437.1">begin cleaning</span></em><span class="koboSpan" id="kobo.438.1">, or some similar words that mean the </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">same thing.</span></span></p>
<p><span class="koboSpan" id="kobo.440.1">The next step in our process after </span><em class="italic"><span class="koboSpan" id="kobo.441.1">Begin cleaning</span></em><span class="koboSpan" id="kobo.442.1"> is </span><em class="italic"><span class="koboSpan" id="kobo.443.1">Look for toys</span></em><span class="koboSpan" id="kobo.444.1">. </span><span class="koboSpan" id="kobo.444.2">This storyboard frame is </span><em class="italic"><span class="koboSpan" id="kobo.445.1">what the robot sees</span></em><span class="koboSpan" id="kobo.446.1"> as it is commanded to start cleaning. </span><span class="koboSpan" id="kobo.446.2">It sees the room, which has three kinds of objects visible – that is, toys, things that are not toys (the ottoman and the fireplace), and the room itself, including the walls, and </span><span class="No-Break"><span class="koboSpan" id="kobo.447.1">the floor:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer033">
<span class="koboSpan" id="kobo.448.1"><img alt="Figure 3.8 – Waiting for a voice command to begin cleaning" src="image/B19846_03_8.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.449.1">Figure 3.8 – Waiting for a voice command to begin cleaning</span></p>
<p><span class="koboSpan" id="kobo.450.1">We could select any sort of sensor to detect our toys and direct our robot. </span><span class="koboSpan" id="kobo.450.2">We could have a LiDAR, thermal, or sonar scanner. </span><span class="koboSpan" id="kobo.450.3">Let’s hypothesize that the best sensor tool for this task is a regular USB camera. </span><span class="koboSpan" id="kobo.450.4">We have control of the lighting, the toys are not particularly </span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.451.1">warmer or cooler than the surroundings, and we need enough information to identify objects by type. </span><span class="koboSpan" id="kobo.451.2">So, video it is. </span><span class="koboSpan" id="kobo.451.3">We will determine later exactly what kind of camera we need, so add that to our </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.452.1">t</span><a id="_idTextAnchor098"/><span class="koboSpan" id="kobo.453.1">o-do list</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.454.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer034">
<span class="koboSpan" id="kobo.455.1"><img alt="Figure 3.9 – Look for toys" src="image/B19846_03_9.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.456.1">Figure 3.9 – Look for toys</span></p>
<p><span class="koboSpan" id="kobo.457.1">Our next storyboard is to </span><em class="italic"><span class="koboSpan" id="kobo.458.1">look for toys</span></em><span class="koboSpan" id="kobo.459.1">. </span><span class="koboSpan" id="kobo.459.2">We need to run some sort of algorithm or technique to classify objects by type. </span><span class="koboSpan" id="kobo.459.3">The results of that algorithm are to find the objects – separate them from the background of the floor – and then classify each object as a toy or not a toy. </span><span class="koboSpan" id="kobo.459.4">We don’t really care to have any more breakdown than that – we leave all </span><em class="italic"><span class="koboSpan" id="kobo.460.1">Not toy</span></em><span class="koboSpan" id="kobo.461.1"> objects alone, and pick up all </span><em class="italic"><span class="koboSpan" id="kobo.462.1">Toy</span></em><span class="koboSpan" id="kobo.463.1"> objects. </span><span class="koboSpan" id="kobo.463.2">Note that we draw circles around the objects that are toys, which is another way of saying that we must locate them in the </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">camera frame.</span></span></p>
<p><span class="koboSpan" id="kobo.465.1">So what does </span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.466.1">this simple picture tell us we did not know before? </span><span class="koboSpan" id="kobo.466.2">It tells us </span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.468.1">We need to segment the camera image </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">by objects</span></span></li>
<li><span class="koboSpan" id="kobo.470.1">We need to locate the objects in the </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">camera frame</span></span></li>
<li><span class="koboSpan" id="kobo.472.1">We need to classify the objects as either </span><em class="italic"><span class="koboSpan" id="kobo.473.1">Toy</span></em><span class="koboSpan" id="kobo.474.1"> or </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.475.1">Not toy</span></em></span></li>
<li><span class="koboSpan" id="kobo.476.1">We need to be able to store and remember </span><span class="No-Break"><span class="koboSpan" id="kobo.477.1">this information</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.478.1">We only can pick up and move one toy at a time – we only have one hand, and nobody said in the use cases that we need to pick up more than one at a time. </span><span class="koboSpan" id="kobo.478.2">So, we only care about one toy – and let’s arbitrarily say we pick up the closest one to </span><span class="No-Break"><span class="koboSpan" id="kobo.479.1">the robot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer035">
<span class="koboSpan" id="kobo.480.1"><img alt="Figure 3.10 – Select nearest toy" src="image/B19846_03_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.481.1">Figure 3.10 – Select nearest toy</span></p>
<p><span class="koboSpan" id="kobo.482.1">We might also say that it’s the toy that is easiest to get to, which might be a slightly different </span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.483.1">process than choosing the closest one. </span><span class="koboSpan" id="kobo.483.2">We set that toy to be the target for our next action, wh</span><a id="_idTextAnchor099"/><span class="koboSpan" id="kobo.484.1">ich is what? </span><span class="koboSpan" id="kobo.484.2">If you said to drive to the toy, you would be correct. </span><span class="koboSpan" id="kobo.484.3">However, we must not just drive to the toy but put the robot’s body in a position to use the robot arm to grasp the toy. </span><span class="koboSpan" id="kobo.484.4">By the way, that means the robot arm must be able to reach the ground or very close to the ground, as we have some </span><span class="No-Break"><span class="koboSpan" id="kobo.485.1">small toys.</span></span></p>
<p><span class="koboSpan" id="kobo.486.1">Our robot must plan a route from its current position to a spot where it can attempt to pick up the toy. </span><span class="koboSpan" id="kobo.486.2">We set a target goal an arms-length away from the center of </span><span class="No-Break"><span class="koboSpan" id="kobo.487.1">the toy:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer036">
<span class="koboSpan" id="kobo.488.1"><img alt="Figure 3.11 – Plan route to target" src="image/B19846_03_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.489.1">Figure 3.11 – Plan route to target</span></p>
<p><span class="koboSpan" id="kobo.490.1">The robot needs </span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.491.1">to make sure that there are no obstacles en route. </span><span class="koboSpan" id="kobo.491.2">There are two ways of doing this. </span><span class="koboSpan" id="kobo.491.3">As illustrated, we can clear the path that the robot is traveling on by adding the width of the robot (plus a bit of extra) and see whether any obstacles are in that area, or we can add a border around obstacles and see whether our path goes into those boundaries. </span><span class="koboSpan" id="kobo.491.4">Regardless, we need to have a path free </span><span class="No-Break"><span class="koboSpan" id="kobo.492.1">of obstacles:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer037">
<span class="koboSpan" id="kobo.493.1"><img alt="Figure 3.12 – Look for obstacles on the route" src="image/B19846_03_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.494.1">Figure 3.12 – Look for obstacles on the route</span></p>
<p><span class="koboSpan" id="kobo.495.1">The robot </span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.496.1">determines for itself the proper alignment to prepare to pick up </span><span class="No-Break"><span class="koboSpan" id="kobo.497.1">the toy:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer038">
<span class="koboSpan" id="kobo.498.1"><img alt="Figure 3.13 – Position robot hand" src="image/B19846_03_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.499.1">Figure 3.13 – Position robot hand</span></p>
<p><span class="koboSpan" id="kobo.500.1">Now that the </span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.501.1">robot has completed its drive, the robot can move the robot hand to a position to pick up the toy. </span><span class="koboSpan" id="kobo.501.2">We need to put the robot hand over the center of mass of the toy, and then rotate the hand to match a narrow part of the toy so we can pick it up. </span><span class="koboSpan" id="kobo.501.3">One of our goals for this project is to not dictate how the robot does this, but rather to let it learn for itself. </span><span class="koboSpan" id="kobo.501.4">So, we can say for this storyboard panel that the robot uses its training and machine learning to use an appropriate hand pose to prepare to grasp the object. </span><span class="koboSpan" id="kobo.501.5">We can surmise that that includes lining the </span><span class="No-Break"><span class="koboSpan" id="kobo.502.1">hand up:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer039">
<span class="koboSpan" id="kobo.503.1"><img alt="Figure 3.14 – Pick up toy" src="image/B19846_03_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.504.1">Figure 3.14 – Pick up toy</span></p>
<p><span class="koboSpan" id="kobo.505.1">Probably </span><em class="italic"><span class="koboSpan" id="kobo.506.1">storyboard 6</span></em><span class="koboSpan" id="kobo.507.1"> is the hard part (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.508.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.509.1">.13</span></em><span class="koboSpan" id="kobo.510.1">), and in </span><em class="italic"><span class="koboSpan" id="kobo.511.1">storyboard 7</span></em><span class="koboSpan" id="kobo.512.1">, the robot completes the </span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.513.1">grasp of the object and picks it up (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.514.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.515.1">.14</span></em><span class="koboSpan" id="kobo.516.1">). </span><span class="koboSpan" id="kobo.516.2">The robot has to be able to determine whether the pick-up was successful, and if not, try again. </span><span class="koboSpan" id="kobo.516.3">That was in the state machine diagram we did before. </span><span class="koboSpan" id="kobo.516.4">We have now picked up the toy. </span><span class="koboSpan" id="kobo.516.5">What’s next? </span><span class="koboSpan" id="kobo.516.6">Find the </span><span class="No-Break"><span class="koboSpan" id="kobo.517.1">toy box!</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer040">
<span class="koboSpan" id="kobo.518.1"><img alt="Figure 3.15 – Find toy box" src="image/B19846_03_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.519.1">Figure 3.15 – Find toy box</span></p>
<p><span class="koboSpan" id="kobo.520.1">Now we need </span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.521.1">the robot to find the toy box. </span><span class="koboSpan" id="kobo.521.2">Again, we don’t care how at this point. </span><span class="koboSpan" id="kobo.521.3">We are still worried about </span><em class="italic"><span class="koboSpan" id="kobo.522.1">what</span></em><span class="koboSpan" id="kobo.523.1"> and not </span><em class="italic"><span class="koboSpan" id="kobo.524.1">how</span></em><span class="koboSpan" id="kobo.525.1">. </span><span class="koboSpan" id="kobo.525.2">Somehow, the robot looks around and finds the toy box, which, in this case, is large, against the wall, and has a distinctive color. </span><span class="koboSpan" id="kobo.525.3">Regardless, the robot has to find the toy box on its own. </span><span class="koboSpan" id="kobo.525.4">The labels in the picture indicate that the robot can distinguish the toy box and that it considers all other objects it perceives as obstacles. </span><span class="koboSpan" id="kobo.525.5">We can see we don’t need to have the </span><em class="italic"><span class="koboSpan" id="kobo.526.1">Toy</span></em><span class="koboSpan" id="kobo.527.1">/</span><em class="italic"><span class="koboSpan" id="kobo.528.1">Not toy</span></em><span class="koboSpan" id="kobo.529.1"> capability active at the same time, only the </span><em class="italic"><span class="koboSpan" id="kobo.530.1">Toy box</span></em><span class="koboSpan" id="kobo.531.1">/</span><em class="italic"><span class="koboSpan" id="kobo.532.1">Not toy box</span></em><span class="koboSpan" id="kobo.533.1"> decision-making process. </span><span class="koboSpan" id="kobo.533.2">This does reduce some of the required processing and will make machine </span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">lear</span><a id="_idTextAnchor100"/><span class="koboSpan" id="kobo.535.1">ning easier.</span></span></p>
<p><span class="koboSpan" id="kobo.536.1">Now that we have found the toy box, we illustrate a slightly more complex task of navigating around an obstacle to get there. </span><span class="koboSpan" id="kobo.536.2">In this example, we show the purple outline of the robot’s base, compared to a red outline around the obstacle, which I labeled </span><em class="italic"><span class="koboSpan" id="kobo.537.1">Keep out zone</span></em><span class="koboSpan" id="kobo.538.1">. </span><span class="koboSpan" id="kobo.538.2">This gives us more guidance on how to </span><span class="No-Break"><span class="koboSpan" id="kobo.539.1">avoid obstacles:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer041">
<span class="koboSpan" id="kobo.540.1"><img alt="Figure 3.16 – Plan path to toy box" src="image/B19846_03_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.541.1">Figure 3.16 – Plan path to toy box</span></p>
<p><span class="koboSpan" id="kobo.542.1">We want to </span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.543.1">keep the center of the robot out of the </span><em class="italic"><span class="koboSpan" id="kobo.544.1">Keep out zone</span></em><span class="koboSpan" id="kobo.545.1">. </span><span class="koboSpan" id="kobo.545.2">We need to get close enough to the toy box to drop our toy </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">into it:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer042">
<span class="koboSpan" id="kobo.547.1"><img alt="Figure 3.17 – Align toy with box" src="image/B19846_03_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.548.1">Figure 3.17 – Align toy with box</span></p>
<p><span class="koboSpan" id="kobo.549.1">In </span><em class="italic"><span class="koboSpan" id="kobo.550.1">storyboard 10</span></em><span class="koboSpan" id="kobo.551.1">, we lift the toy high above the top of the toy box and position our toy to fall inside </span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.552.1">the toy box when we let go of it. </span><span class="koboSpan" id="kobo.552.2">Make a note that we have to have the toy lifted before the final few inches to the toy box. </span><span class="koboSpan" id="kobo.552.3">We put the robot hand over the top of the opening of the toy box, just as far forward as we can and in the middle of the </span><span class="No-Break"><span class="koboSpan" id="kobo.553.1">toy box.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer043">
<span class="koboSpan" id="kobo.554.1"><img alt="Figure 3.18 – Drop toy in box" src="image/B19846_03_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.555.1">Figure 3.18 – Drop toy in box</span></p>
<p><span class="koboSpan" id="kobo.556.1">Our final step in the toy saga is to open the robot hand and let the toy hopefully fall into the toy box. </span><span class="koboSpan" id="kobo.556.2">I predict that we will have to spend some trial and error time getting this right. </span><span class="koboSpan" id="kobo.556.3">We may </span><a id="_idIndexMarker266"/><span class="koboSpan" id="kobo.557.1">have to tilt the open hand right and left to get the toy to drop. </span><span class="koboSpan" id="kobo.557.2">If the toy falls outside of the box, then it is not put away and we have to start all over and try to put it away again. </span><span class="koboSpan" id="kobo.557.3">We don’t need a new state for this because it returns to being a toy on the floor, and we already have a state </span><span class="No-Break"><span class="koboSpan" id="kobo.558.1">for that.</span></span></p>
<p><span class="koboSpan" id="kobo.559.1">I hope that you have seen in the storyboard process how this provides insight into visualizing the robot’s tasks. </span><span class="koboSpan" id="kobo.559.2">I would say the most important benefit is that it forces you to think about what the robot is doing and to break down each step into smaller and smaller parts. </span><span class="koboSpan" id="kobo.559.3">Don’t hesitate to take this storyboard and break an individual panel down into its own storyboard, if that is what you feel you</span><a id="_idTextAnchor101"/><a id="_idTextAnchor102"/><a id="_idTextAnchor103"/><span class="koboSpan" id="kobo.560.1"> need </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">to do.</span></span></p>
<h2 id="_idParaDest-54"><a id="_idTextAnchor104"/><span class="koboSpan" id="kobo.562.1">Project goals</span></h2>
<p><span class="koboSpan" id="kobo.563.1">Since this is an AI/machine learning project, we must add to our project goals not just putting away </span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.564.1">toys but also using machine learning, adaptive systems, neural networks, and other tools to provide a new approach to solving these sorts of problems. </span><span class="koboSpan" id="kobo.564.2">You may think, “</span><em class="italic"><span class="koboSpan" id="kobo.565.1">Why bother? </span><span class="koboSpan" id="kobo.565.2">You can do this better with a standard programming approach.</span></em><span class="koboSpan" id="kobo.566.1">” I would say from experience that these problems are difficult to solve that way, and you can do your own research to see where companies, large and small, have tried to solve this sort of problem and failed – or at least not succeeded. </span><span class="koboSpan" id="kobo.566.2">This problem is not easily solved by any means, and using an AI-based approach has a far greater chance of success than standard programming techniques. </span><span class="koboSpan" id="kobo.566.3">Now, I’m not saying we are going to succeed beyond our wildest dreams at this task in this book, but our objective is to learn a whole lot along </span><span class="No-Break"><span class="koboSpan" id="kobo.567.1">the way!</span></span></p>
<p><span class="koboSpan" id="kobo.568.1">So, we pause at this point in defining our project to say that we are deliberately choosing to use artificial intelligence and machine learning as an approach to solving a problem that has proven to be difficult with </span><span class="No-Break"><span class="koboSpan" id="kobo.569.1">other means.</span></span></p>
<p><span class="koboSpan" id="kobo.570.1">Since we are going to be teaching the robot various tasks, it will be more effective if we can teleoperate the robot and drive it around like a radio-controlled car, in order to collect data and take pictures that we will use for object recognition later. </span><span class="koboSpan" id="kobo.570.2">We don’t need this for operations, we need this for training. </span><span class="koboSpan" id="kobo.570.3">We will add this required operation to our </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.571.1">to-do list.</span></em></span></p>
<p><span class="koboSpan" id="kobo.572.1">In our next step, we are going to extract from all of our hard work the </span><strong class="bold"><span class="koboSpan" id="kobo.573.1">hardware</span></strong><span class="koboSpan" id="kobo.574.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.575.1">software</span></strong><span class="koboSpan" id="kobo.576.1"> tasks that our robot will have to accomplish. </span><span class="koboSpan" id="kobo.576.2">But before we do this, let’s pause for a moment to discuss a common mistake made in defining the scope of</span><a id="_idTextAnchor105"/><span class="koboSpan" id="kobo.577.1"> the </span><span class="No-Break"><span class="koboSpan" id="kobo.578.1">use case.</span></span></p>
<h1 id="_idParaDest-55"><a id="_idTextAnchor106"/><span class="koboSpan" id="kobo.579.1">Understanding the scope of our use case</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.580.1">Desirements</span></strong><span class="koboSpan" id="kobo.581.1"> (a word made up by combining </span><em class="italic"><span class="koboSpan" id="kobo.582.1">desire</span></em><span class="koboSpan" id="kobo.583.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.584.1">requirements</span></em><span class="koboSpan" id="kobo.585.1">) are functions that would be </span><em class="italic"><span class="koboSpan" id="kobo.586.1">nice to have</span></em><span class="koboSpan" id="kobo.587.1"> but not strictly necessary. </span><span class="koboSpan" id="kobo.587.2">For example, if we decided to add flashing lights </span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.588.1">to the robot because it looks cool, that would be a desirement. </span><span class="koboSpan" id="kobo.588.2">You may want to have it, but it does not contribute to the mission of the robot or the task it needs </span><span class="No-Break"><span class="koboSpan" id="kobo.589.1">to perform.</span></span></p>
<p><span class="koboSpan" id="kobo.590.1">Another example would be if we added that the robot must operate in the dark. </span><span class="koboSpan" id="kobo.590.2">There is no reason for this in the current context, and nothing we’ve stated in the use cases said that the robot would operate in the dark – just in an indoor room. </span><span class="koboSpan" id="kobo.590.3">This would be an example of </span><strong class="bold"><span class="koboSpan" id="kobo.591.1">scope creep</span></strong><span class="koboSpan" id="kobo.592.1">, or extending the operation conditions without a solid reason why. </span><span class="koboSpan" id="kobo.592.2">It’s important to work very hard to keep requirements and use cases to a minimum, and even to throw out use cases that are unnecessary or redundant. </span><span class="koboSpan" id="kobo.592.3">I might have added </span><a id="_idIndexMarker269"/><span class="koboSpan" id="kobo.593.1">a requirement for sorting the toys by color, but sorting does not help with picking up the toys, and besides, I’ve only got one toy box. </span><span class="koboSpan" id="kobo.593.2">I might have added the task in the interest of education for you, my readers, but it does not help with that objective either, so color sorting is </span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">not included.</span></span></p>
<p><span class="koboSpan" id="kobo.595.1">Now, let’s proceed to identifying our </span><span class="No-Break"><span class="koboSpan" id="kobo.596.1">hardwar</span><a id="_idTextAnchor107"/><span class="koboSpan" id="kobo.597.1">e requirements.</span></span></p>
<h1 id="_idParaDest-56"><a id="_idTextAnchor108"/><span class="koboSpan" id="kobo.598.1">Identifying our hardware needs</span></h1>
<p><span class="koboSpan" id="kobo.599.1">Based on </span><a id="_idIndexMarker270"/><span class="koboSpan" id="kobo.600.1">our storyboards, I extracted or derived the following </span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">hardware tasks:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.602.1">Drive the </span><span class="No-Break"><span class="koboSpan" id="kobo.603.1">robot base</span></span></li>
<li><span class="koboSpan" id="kobo.604.1">Carry the </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">robot arm</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.606.1">Lift toys</span></span></li>
<li><span class="koboSpan" id="kobo.607.1">Put toys in the toy box (</span><span class="No-Break"><span class="koboSpan" id="kobo.608.1">arm length)</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.609.1">Sensors:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.610.1">Arm location</span></span></li><li><span class="koboSpan" id="kobo.611.1">Hand </span><span class="No-Break"><span class="koboSpan" id="kobo.612.1">sta</span><a id="_idTextAnchor109"/><span class="koboSpan" id="kobo.613.1">tus (open/close)</span></span></li><li><span class="koboSpan" id="kobo.614.1">Robot vision (camera) for </span><span class="No-Break"><span class="koboSpan" id="kobo.615.1">obstacle avoidance</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.616.1">Provide power for </span><span class="No-Break"><span class="koboSpan" id="kobo.617.1">all systems:</span></span><ul><li><span class="koboSpan" id="kobo.618.1">5V for </span><span class="No-Break"><span class="koboSpan" id="kobo.619.1">Nvidia Nano</span></span></li><li><span class="koboSpan" id="kobo.620.1">5V </span><span class="No-Break"><span class="koboSpan" id="kobo.621.1">for Arduino</span></span></li><li><span class="koboSpan" id="kobo.622.1">Arm power – </span><span class="No-Break"><span class="koboSpan" id="kobo.623.1">7.2V</span></span></li><li><span class="koboSpan" id="kobo.624.1">Motor power – </span><span class="No-Break"><span class="koboSpan" id="kobo.625.1">7.2V</span></span></li></ul></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.626.1">Onboard computers:</span></span><ul><li><span class="koboSpan" id="kobo.627.1">A computer that can receive commands remotely (</span><span class="No-Break"><span class="koboSpan" id="kobo.628.1">Wi-Fi Nano):</span></span><ul><li><span class="koboSpan" id="kobo.629.1">Runs </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">ROS 2</span></span></li><li><span class="koboSpan" id="kobo.631.1">Runs </span><span class="No-Break"><span class="koboSpan" id="kobo.632.1">Python 3</span></span></li></ul></li><li><span class="koboSpan" id="kobo.633.1">A computer that can interface with </span><span class="No-Break"><span class="koboSpan" id="kobo.634.1">a camera</span></span></li><li><span class="koboSpan" id="kobo.635.1">A computer that can control </span><span class="No-Break"><span class="koboSpan" id="kobo.636.1">motors (Arduino)</span></span></li><li><span class="koboSpan" id="kobo.637.1">An interface </span><a id="_idIndexMarker271"/><span class="koboSpan" id="kobo.638.1">that can drive servo motors for the robot arm (</span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">servo controller)</span></span></li></ul></li>
</ul>
<p><span class="koboSpan" id="kobo.640.1">Now, let’s take a look at the </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">softw</span><a id="_idTextAnchor110"/><a id="_idTextAnchor111"/><span class="koboSpan" id="kobo.642.1">are requirements.</span></span></p>
<h1 id="_idParaDest-57"><a id="_idTextAnchor112"/><span class="koboSpan" id="kobo.643.1">Breaking down our software needs</span></h1>
<p><span class="koboSpan" id="kobo.644.1">This list of software tasks was composed by reviewing the state machine diagram, the use cases, and </span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.645.1">the storyboards. </span><span class="koboSpan" id="kobo.645.2">I’ve highlighted the steps that will require AI and will be covered in detail in the </span><span class="No-Break"><span class="koboSpan" id="kobo.646.1">coming chapters:</span></span></p>
<ol>
<li><strong class="bold"><span class="koboSpan" id="kobo.647.1">Power on </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.648.1">self-test</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.649.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.650.1">POST</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.651.1">):</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.652.1">Start </span><a id="_idIndexMarker273"/><span class="koboSpan" id="kobo.653.1">up </span><span class="No-Break"><span class="koboSpan" id="kobo.654.1">robot programs.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.655.1">Check that the Nano can talk to the Arduino </span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">and back.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.657.1">Try to establish communications with the </span><span class="No-Break"><span class="koboSpan" id="kobo.658.1">control station.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.659.1">Report POST success or failure as appropriate and enter in </span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">the log.</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.661.1">Receive commands via Wi-Fi </span><span class="No-Break"><span class="koboSpan" id="kobo.662.1">for teleoperation:</span></span><ul><li><span class="koboSpan" id="kobo.663.1">Drive motor </span><span class="No-Break"><span class="koboSpan" id="kobo.664.1">base (right/left/forward/back)</span></span></li><li><span class="koboSpan" id="kobo.665.1">Move </span><span class="No-Break"><span class="koboSpan" id="kobo.666.1">hand up/down/right/left/in/out/twist</span></span></li><li><span class="koboSpan" id="kobo.667.1">Record video or record pictures as </span><span class="No-Break"><span class="koboSpan" id="kobo.668.1">image files</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.669.1">Send telemetry </span><span class="No-Break"><span class="koboSpan" id="kobo.670.1">via Wi-Fi.</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.671.1">Monitor progress.</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.672.1">Send video.</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.673.1">Navigate safely:</span></span><ul><li><span class="koboSpan" id="kobo.674.1">Learn to </span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">avoid obstacles</span></span></li><li><span class="koboSpan" id="kobo.676.1">Learn to not fall </span><span class="No-Break"><span class="koboSpan" id="kobo.677.1">down stairs</span></span></li></ul></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.678.1">Find </span></span><span class="No-Break"><a id="_idIndexMarker274"/></span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">toys:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.680.1">Detect objects</span></span></li><li><span class="koboSpan" id="kobo.681.1">Learn to classify objects (</span><span class="No-Break"><span class="koboSpan" id="kobo.682.1">Toy/Not toy)</span></span></li><li><span class="koboSpan" id="kobo.683.1">Determine which toy </span><span class="No-Break"><span class="koboSpan" id="kobo.684.1">is closest</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.685.1">Pick </span><span class="No-Break"><span class="koboSpan" id="kobo.686.1">up toys:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.687.1">Move to the position where the arm can reach </span><span class="No-Break"><span class="koboSpan" id="kobo.688.1">the toy</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.689.1">Devise a strategy </span><span class="No-Break"><span class="koboSpan" id="kobo.690.1">for grasp</span></span></li><li class="upper-roman"><span class="No-Break"><span class="koboSpan" id="kobo.691.1">Attempt grasp</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.692.1">Determine whether grasping </span><span class="No-Break"><span class="koboSpan" id="kobo.693.1">was successful</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.694.1">If not, try again with a </span><span class="No-Break"><span class="koboSpan" id="kobo.695.1">different strategy</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.696.1">Reweight grasp technique score based </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">on success</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.698.1">Put toys in the </span><span class="No-Break"><span class="koboSpan" id="kobo.699.1">toy box:</span></span><ul><li><span class="koboSpan" id="kobo.700.1">Learn to identify the </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">toy box</span></span></li><li><span class="koboSpan" id="kobo.702.1">Find the </span><span class="No-Break"><span class="koboSpan" id="kobo.703.1">toy box</span></span></li><li><span class="koboSpan" id="kobo.704.1">Drive to the known toy box location </span><span class="No-Break"><span class="koboSpan" id="kobo.705.1">using navigation</span></span></li><li><span class="koboSpan" id="kobo.706.1">Move to the </span><span class="No-Break"><span class="koboSpan" id="kobo.707.1">dump location:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.708.1">Avoid obstacles</span></span></li><li><span class="koboSpan" id="kobo.709.1">Lift the toy above the toy </span><span class="No-Break"><span class="koboSpan" id="kobo.710.1">box lid</span></span></li></ul></li><li><span class="koboSpan" id="kobo.711.1">Drop </span><span class="No-Break"><span class="koboSpan" id="kobo.712.1">the toy</span></span></li><li><span class="koboSpan" id="kobo.713.1">Check to see whether the toy drop </span><span class="No-Break"><span class="koboSpan" id="kobo.714.1">was successful</span></span></li><li><span class="koboSpan" id="kobo.715.1">If not, rep</span><a id="_idTextAnchor113"/><span class="koboSpan" id="kobo.716.1">osition and </span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">try again</span></span></li><li><span class="koboSpan" id="kobo.718.1">If the toy misses the toy box, we treat it as a toy on the </span><span class="No-Break"><span class="koboSpan" id="kobo.719.1">floor again</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.720.1">Determine there are no </span><span class="No-Break"><span class="koboSpan" id="kobo.721.1">more toys.</span></span></li>
<li><span class="koboSpan" id="kobo.722.1">Stand </span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.723.1">by </span><span class="No-Break"><span class="koboSpan" id="kobo.724.1">for instructions.</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.725.1">Teleoperate:</span></span><ul><li><span class="koboSpan" id="kobo.726.1">Move </span><span class="No-Break"><span class="koboSpan" id="kobo.727.1">base forward/backward/left/right</span></span></li><li><span class="koboSpan" id="kobo.728.1">Move </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">arm up/down/right/left</span></span></li><li><span class="koboSpan" id="kobo.730.1">Move </span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">hand in/out/twist/open/close</span></span></li><li><span class="koboSpan" id="kobo.732.1">Record </span><span class="No-Break"><span class="koboSpan" id="kobo.733.1">video/take pictures</span></span></li></ul></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.734.1">Simulate personality:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.735.1">Talk</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.736.1">Listen/recognize words</span></span></li><li><span class="koboSpan" id="kobo.737.1">Understand </span><span class="No-Break"><span class="koboSpan" id="kobo.738.1">some commands</span></span></li><li><span class="koboSpan" id="kobo.739.1">Tell </span><span class="No-Break"><span class="koboSpan" id="kobo.740.1">knock-knock jokes</span></span></li><li><span class="koboSpan" id="kobo.741.1">Understand </span><span class="No-Break"><span class="koboSpan" id="kobo.742.1">knock-knock jokes</span></span></li></ul></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.743.1">Voice commands:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.744.1">Clean-up room</span></span></li><li><span class="koboSpan" id="kobo.745.1">Put </span><span class="No-Break"><span class="koboSpan" id="kobo.746.1">this away</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.747.1">Come here</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.748.1">Stop</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.749.1">Wait</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.750.1">Resume</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.751.1">Go home</span></span></li><li><span class="koboSpan" id="kobo.752.1">Turn </span><span class="No-Break"><span class="koboSpan" id="kobo.753.1">left/ right</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.754.1">Forward/ back</span></span></li><li><span class="koboSpan" id="kobo.755.1">Hand </span><span class="No-Break"><span class="koboSpan" id="kobo.756.1">up/hand down</span></span></li><li><span class="koboSpan" id="kobo.757.1">Hand </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">left/hand right</span></span></li><li><span class="koboSpan" id="kobo.759.1">Open </span><span class="No-Break"><span class="koboSpan" id="kobo.760.1">hand/close hand</span></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.761.1">In this list, where did I get </span><em class="italic"><span class="koboSpan" id="kobo.762.1">teleoperate</span></em><span class="koboSpan" id="kobo.763.1">? </span><span class="koboSpan" id="kobo.763.2">We don’t remember discussing that in the use cases and </span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.764.1">storyboards. </span><span class="koboSpan" id="kobo.764.2">We are going to need to teach the robot to navigate and find toys, and for that, we need to move the robot around and take pictures. </span><span class="koboSpan" id="kobo.764.3">One easy way to do that is by driving the robot around with </span><strong class="bold"><span class="koboSpan" id="kobo.765.1">teleopera</span><a id="_idTextAnchor114"/><a id="_idTextAnchor115"/><a id="_idTextAnchor116"/><span class="koboSpan" id="kobo.766.1">tions</span></strong><span class="koboSpan" id="kobo.767.1"> (</span><span class="No-Break"><span class="koboSpan" id="kobo.768.1">remote control).</span></span></p>
<h1 id="_idParaDest-58"><a id="_idTextAnchor117"/><span class="koboSpan" id="kobo.769.1">Writing a specification</span></h1>
<p><span class="koboSpan" id="kobo.770.1">Our next task is to write specifications for our various components. </span><span class="koboSpan" id="kobo.770.2">I’ll go through an example here </span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.771.1">that we must do as part of our toy-grasping robot project: we need to </span><em class="italic"><span class="koboSpan" id="kobo.772.1">select a camera</span></em><span class="koboSpan" id="kobo.773.1">. </span><span class="koboSpan" id="kobo.773.2">Just any old camera will not do – we need one that meets our needs. </span><span class="koboSpan" id="kobo.773.3">But what are those needs? </span><span class="koboSpan" id="kobo.773.4">We need to write a camera specification so that when we are looking at cameras to buy, we can tell which one will do </span><span class="No-Break"><span class="koboSpan" id="kobo.774.1">the job.</span></span></p>
<p><span class="koboSpan" id="kobo.775.1">We’ve created our storyboard and our use cases, so we have the information we need to figure out what our camera needs to do. </span><span class="koboSpan" id="kobo.775.2">We can reverse engineer this process somewhat: let’s discuss what things make one camera different from another. </span><span class="koboSpan" id="kobo.775.3">First of all is the interface: this camera goes on board the robot, so it has to interface with the robot’s computer, which has USB, Ethernet, and a special camera bus. </span><span class="koboSpan" id="kobo.775.4">What other things about cameras do we care about? </span><span class="koboSpan" id="kobo.775.5">We certainly care about cost. </span><span class="koboSpan" id="kobo.775.6">We don’t want (or need) to use a $1,000 camera for our inexpensive robot. </span><span class="koboSpan" id="kobo.775.7">Cameras have resolution: the number of pixels in each image. </span><span class="koboSpan" id="kobo.775.8">That can vary from 320 x 240 to 4,000 x 2,000 (4K). </span><span class="koboSpan" id="kobo.775.9">Cameras also have a field of view, which is the number of angular degrees the camera can see. </span><span class="koboSpan" id="kobo.775.10">This can vary from 2.5 degrees (very narrow) to 180 degrees (very wide). </span><span class="koboSpan" id="kobo.775.11">There are also cameras that see in the dark or have various types of infrared sensitivity. </span><span class="koboSpan" id="kobo.775.12">Finally, there is size and weight; we need a small camera that fits on </span><span class="No-Break"><span class="koboSpan" id="kobo.776.1">our robot.</span></span></p>
<p><span class="koboSpan" id="kobo.777.1">This makes the parameters that we need to decide </span><span class="No-Break"><span class="koboSpan" id="kobo.778.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.779.1">Field of view</span></strong><span class="koboSpan" id="kobo.780.1">: [180 - &gt; </span><span class="No-Break"><span class="koboSpan" id="kobo.781.1">2.5]</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.782.1">Resolution</span></strong><span class="koboSpan" id="kobo.783.1">: [320 x 280 -&gt; 4,000 </span><span class="No-Break"><span class="koboSpan" id="kobo.784.1">x 2,000]</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.785.1">Cost</span></strong><span class="koboSpan" id="kobo.786.1">: (low to high) – cheaper </span><span class="No-Break"><span class="koboSpan" id="kobo.787.1">is better</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.788.1">Sees in the </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.789.1">dark</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.790.1">: Yes/no</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.791.1">Size and weight</span></strong><span class="koboSpan" id="kobo.792.1">: Smaller and lighter is much better; must fit on </span><span class="No-Break"><span class="koboSpan" id="kobo.793.1">the robot</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.794.1">Interface</span></strong><span class="koboSpan" id="kobo.795.1">: USB, Ethernet, or camera bus; </span><span class="No-Break"><span class="koboSpan" id="kobo.796.1">power &gt;11V</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.797.1">The reason for listing these parameters like this is that we can now concentrate on those features </span><a id="_idIndexMarker278"/><span class="koboSpan" id="kobo.798.1">that we can select, so we are not wasting time looking at other parameters that we don’t care about. </span><span class="koboSpan" id="kobo.798.2">Let’s see whether we can knock off some of </span><span class="No-Break"><span class="koboSpan" id="kobo.799.1">the parameters:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.800.1">If we use USB as the </span><strong class="bold"><span class="koboSpan" id="kobo.801.1">interface</span></strong><span class="koboSpan" id="kobo.802.1">, the power is provided by the connector, and we don’t need extra cables or routers. </span><span class="koboSpan" id="kobo.802.2">This is also the lowest cost method, so we choose USB as </span><span class="No-Break"><span class="koboSpan" id="kobo.803.1">the interface.</span></span></li>
<li><span class="koboSpan" id="kobo.804.1">We also don’t have any requirements in our use cases to </span><strong class="bold"><span class="koboSpan" id="kobo.805.1">see in the dark</span></strong><span class="koboSpan" id="kobo.806.1">, so we don’t need a special </span><span class="No-Break"><span class="koboSpan" id="kobo.807.1">infrared camera.</span></span></li>
<li><span class="koboSpan" id="kobo.808.1">The next question is to determine the </span><strong class="bold"><span class="koboSpan" id="kobo.809.1">field of view</span></strong><span class="koboSpan" id="kobo.810.1">. </span><span class="koboSpan" id="kobo.810.2">We need to see the entire area where the robot arm can move in as it picks up a toy. </span><span class="koboSpan" id="kobo.810.3">We also need enough field of view to see when we are dr</span><a id="_idTextAnchor118"/><span class="koboSpan" id="kobo.811.1">iving to avoid obstacles. </span><span class="koboSpan" id="kobo.811.2">We can take some measurements from the robot, but we can quickly see that we mostly need to see close to the robot, and we can’t see past the tracks on either side. </span><span class="koboSpan" id="kobo.811.3">This sets the field of view required to be close to 90 degrees. </span><span class="koboSpan" id="kobo.811.4">More field of view than this is acceptable, less </span><span class="No-Break"><span class="koboSpan" id="kobo.812.1">is not.</span></span></li>
<li><span class="koboSpan" id="kobo.813.1">Our final problem is determining the </span><strong class="bold"><span class="koboSpan" id="kobo.814.1">resolution</span></strong><span class="koboSpan" id="kobo.815.1"> we need to perform our object recognition. </span><span class="koboSpan" id="kobo.815.2">For that, we need an additional data point – how many pixels do we need to recognize an object as a toy? </span><span class="koboSpan" id="kobo.815.3">That is what we will do with this camera – recognize toys and things that are not toys. </span><span class="koboSpan" id="kobo.815.4">We also have to pick a distance at which we can recognize the toy. </span><span class="koboSpan" id="kobo.815.5">We don’t have a firm requirement out of the use cases, so we have to make an educated guess. </span><span class="koboSpan" id="kobo.815.6">We know that our room is 17 feet long, and it has furniture in it. </span><span class="koboSpan" id="kobo.815.7">Let’s guess that we need 8 feet of distance. </span><span class="koboSpan" id="kobo.815.8">How do we know this is correct? </span><span class="koboSpan" id="kobo.815.9">We do a thought experiment. </span><span class="koboSpan" id="kobo.815.10">If we can identify a toy 8 feet away, can we accomplish our task? </span><span class="koboSpan" id="kobo.815.11">We can see the toy half a room away. </span><span class="koboSpan" id="kobo.815.12">That gives </span><a id="_idIndexMarker279"/><span class="koboSpan" id="kobo.816.1">the robot plenty of space to go drive to the toy and it won’t spend much time looking for toys. </span><span class="koboSpan" id="kobo.816.2">As a check, if the robot had to be 4 feet away to recognize a toy, would that be unusable? </span><span class="koboSpan" id="kobo.816.3">The answer is probably not – the robot would work OK. </span><span class="koboSpan" id="kobo.816.4">How about 3 feet? </span><span class="koboSpan" id="kobo.816.5">Now we are getting to the point where the robot has to drive right up to the toy to determine what it is, and that might result in more complicated logic to examine toys. </span><span class="koboSpan" id="kobo.816.6">So, we say that 3 feet is not enough, 4 feet is acceptable, and 8 feet would </span><span class="No-Break"><span class="koboSpan" id="kobo.817.1">be great.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.818.1">What resolution is required in the camera to recognize a toy at 8 feet with a 90-degree lens? </span><span class="koboSpan" id="kobo.818.2">I can tell you that the ImageNet database requires a sample 35 pixels wide to recognize an object, so we can use that as a benchmark. </span><span class="koboSpan" id="kobo.818.3">We assume at this point that we need an image at least 35 pixels across. </span><span class="koboSpan" id="kobo.818.4">Let’s start with a camera with </span><em class="italic"><span class="koboSpan" id="kobo.819.1">1,024 x 768</span></em><span class="koboSpan" id="kobo.820.1"> pixels, which is 1,024 pixels wide. </span><span class="koboSpan" id="kobo.820.2">We divide by 90 degrees to get that each degree has 11.3 pixels (</span><em class="italic"><span class="koboSpan" id="kobo.821.1">1,024/90</span></em><span class="koboSpan" id="kobo.822.1">). </span><span class="koboSpan" id="kobo.822.2">How big is our smallest toy at 8 feet? </span><span class="koboSpan" id="kobo.822.3">Our smallest toy is a Hot Wheels toy, which is approximately 3 inches long. </span><span class="koboSpan" id="kobo.822.4">At 8 feet, this is 1.79 degrees or 20.23 pixels (</span><em class="italic"><span class="koboSpan" id="kobo.823.1">1.79 degrees x 11.3 pixels/degree</span></em><span class="koboSpan" id="kobo.824.1">). </span><span class="koboSpan" id="kobo.824.2">That is not enough. </span><span class="koboSpan" id="kobo.824.3">Solving the distance equation for 3 inches, we get a maximum distance of 4.77 feet for a camera with </span><em class="italic"><span class="koboSpan" id="kobo.825.1">1,024 x 768</span></em><span class="koboSpan" id="kobo.826.1"> pixels. </span><span class="koboSpan" id="kobo.826.2">That is just barely acceptable. </span><span class="koboSpan" id="kobo.826.3">What if we had an HD sensor with </span><em class="italic"><span class="koboSpan" id="kobo.827.1">1,900 x 1200</span></em><span class="koboSpan" id="kobo.828.1"> pixels? </span><span class="koboSpan" id="kobo.828.2">Then, at 8 feet, I get 75 pixels – more than enough to give us the best possible distance. </span><span class="koboSpan" id="kobo.828.3">If we use a sensor 1,200 pixels wide, we have a recognition distance of 5.46 feet, which is adequate but </span><span class="No-Break"><span class="koboSpan" id="kobo.829.1">not great.</span></span></p></li>
</ul>
<p><span class="koboSpan" id="kobo.830.1">I walked you through this process to show you how to write a specification and the types of questions you should be asking yourself as you decide what sensors to </span><a id="_idTextAnchor119"/><span class="koboSpan" id="kobo.831.1">acquire for </span><span class="No-Break"><span class="koboSpan" id="kobo.832.1">your project.</span></span></p>
<h1 id="_idParaDest-59"><a id="_idTextAnchor120"/><span class="koboSpan" id="kobo.833.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.834.1">This chapter outlined a suggested process for developing your to-do list as you develop your robot project. </span><span class="koboSpan" id="kobo.834.2">This process is called systems engineering. </span><span class="koboSpan" id="kobo.834.3">Our first step was to create use cases or descriptions of how the robot is to behave from a user’s perspective. </span><span class="koboSpan" id="kobo.834.4">Then, we created more detail behind the use cases by creating storyboards, where we went step by step through the use case. </span><span class="koboSpan" id="kobo.834.5">Our example followed the robot finding and recognizing toys, before picking them up and putting them in the toy box. </span><span class="koboSpan" id="kobo.834.6">We extracted our hardware and software needs, creating a to-do list of what the robot will be able to do. </span><span class="koboSpan" id="kobo.834.7">Finally, we wrote a specification for one of our critical sensors: </span><span class="No-Break"><span class="koboSpan" id="kobo.835.1">the camera.</span></span></p>
<p><span class="koboSpan" id="kobo.836.1">In the next chapter, we will dive into our first robot task – teaching the robot to recognize toys using computer vi</span><a id="_idTextAnchor121"/><span class="koboSpan" id="kobo.837.1">sion and </span><span class="No-Break"><span class="koboSpan" id="kobo.838.1">neural networks.</span></span></p>
<h1 id="_idParaDest-60"><a id="_idTextAnchor122"/><span class="koboSpan" id="kobo.839.1">Questions</span></h1>
<ol>
<li><span class="koboSpan" id="kobo.840.1">Describe some of the differences between a storyboard for a movie or cartoon and a storyboard for a </span><span class="No-Break"><span class="koboSpan" id="kobo.841.1">software program.</span></span></li>
<li><span class="koboSpan" id="kobo.842.1">What are the five </span><em class="italic"><span class="koboSpan" id="kobo.843.1">W</span></em><span class="koboSpan" id="kobo.844.1"> questions? </span><span class="koboSpan" id="kobo.844.2">Can you think of any more questions that would be relevant to examine a </span><span class="No-Break"><span class="koboSpan" id="kobo.845.1">use case?</span></span></li>
<li><span class="koboSpan" id="kobo.846.1">Complete this sentence: A use case shows what the robot does but </span><span class="No-Break"><span class="koboSpan" id="kobo.847.1">not _____.</span></span></li>
<li><span class="koboSpan" id="kobo.848.1">Take </span><em class="italic"><span class="koboSpan" id="kobo.849.1">storyboard 9</span></em><span class="koboSpan" id="kobo.850.1"> in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.851.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.852.1">.16</span></em><span class="koboSpan" id="kobo.853.1">, where the robot is driving to the toy box, and break it down into more sequenced steps in your own storyboard. </span><span class="koboSpan" id="kobo.853.2">Think about all that must happen between </span><em class="italic"><span class="koboSpan" id="kobo.854.1">frames 9 </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.855.1">and 10</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.856.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.857.1">Complete the reply form of the knock-knock joke, where the robot answers the user telling the joke. </span><span class="koboSpan" id="kobo.857.2">What do you think is the </span><span class="No-Break"><span class="koboSpan" id="kobo.858.1">last step?</span></span></li>
<li><span class="koboSpan" id="kobo.859.1">Look at the teleoperate operations. </span><span class="koboSpan" id="kobo.859.2">Would you add any more, or does this look like a </span><span class="No-Break"><span class="koboSpan" id="kobo.860.1">good list?</span></span></li>
<li><span class="koboSpan" id="kobo.861.1">Write a specification for a sensor that uses distance measurement to prevent the robot from </span><span class="No-Break"><span class="koboSpan" id="kobo.862.1">driving downstairs.</span></span></li>
<li><span class="koboSpan" id="kobo.863.1">What is the distance at which a camera with 320 x 200 pixels and a 30-degree field of view can see a 6-inch wide stuffed animal, still assuming we need 3</span><a id="_idTextAnchor123"/><span class="koboSpan" id="kobo.864.1">5 pixels </span><span class="No-Break"><span class="koboSpan" id="kobo.865.1">for recognition?</span></span></li>
</ol>
<h1 id="_idParaDest-61"><a id="_idTextAnchor124"/><span class="koboSpan" id="kobo.866.1">Further reading</span></h1>
<p><span class="koboSpan" id="kobo.867.1">For more information on the topics in this chapter, you can refer to the </span><span class="No-Break"><span class="koboSpan" id="kobo.868.1">following resources:</span></span></p>
<ul>
<li><em class="italic"><span class="koboSpan" id="kobo.869.1">A Practical Guide to SysML: The Systems Modeling Language</span></em><span class="koboSpan" id="kobo.870.1">, by Sanford Friedenthal, Alan Moore, and Rick Steiner, published by Morgan Kaufman; this is the standard introduction to </span><strong class="bold"><span class="koboSpan" id="kobo.871.1">Model-Based Systems </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.872.1">Engineering</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.873.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.874.1">MBSE</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.875.1">)</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.876.1">The Agile Developer’s Handbook</span></em><span class="koboSpan" id="kobo.877.1"> by Paul Flewelling, published </span><span class="No-Break"><span class="koboSpan" id="kobo.878.1">by Packt</span></span></li>
</ul>
</div>


<div class="Content" id="_idContainer045">
<h1 id="_idParaDest-62" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor125"/><span class="koboSpan" id="kobo.1.1">Part 2: Adding Perception, Learning, and Interaction to Robotics</span></h1>
<p><span class="koboSpan" id="kobo.2.1">To see, understand, and interact with the environment, robots need to have perception. </span><span class="koboSpan" id="kobo.2.2">AI is one approach that can be used for recognizing objects and navigation. </span><span class="koboSpan" id="kobo.2.3">This part empowers you with the essential skills to efficiently operate your robots using AI techniques. </span><span class="koboSpan" id="kobo.2.4">Our example in this book is creating a robot that picks up toys, so we start with recognizing toys with a </span><strong class="bold"><span class="koboSpan" id="kobo.3.1">neural network</span></strong><span class="koboSpan" id="kobo.4.1">. </span><span class="koboSpan" id="kobo.4.2">Then we work with the robot arm to pick up toys using tools such as </span><strong class="bold"><span class="koboSpan" id="kobo.5.1">reinforcement learning</span></strong><span class="koboSpan" id="kobo.6.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.7.1">genetic algorithms</span></strong><span class="koboSpan" id="kobo.8.1">. </span><span class="koboSpan" id="kobo.8.2">The next chapter covers the creation of a robot digital assistant that can listen and understand your commands, and even tell </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">knock-knock jokes.</span></span></p>
<p><span class="koboSpan" id="kobo.10.1">This part has the </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">following chapters:</span></span></p>
<ul>
<li><a href="B19846_04.xhtml#_idTextAnchor126"><em class="italic"><span class="koboSpan" id="kobo.12.1">Chapter 4</span></em></a><span class="koboSpan" id="kobo.13.1">, </span><em class="italic"><span class="koboSpan" id="kobo.14.1">Recognizing Objects Using Neural Networks and Supervised Learning</span></em></li>
<li><a href="B19846_05.xhtml#_idTextAnchor159"><em class="italic"><span class="koboSpan" id="kobo.15.1">Chapter 5</span></em></a><span class="koboSpan" id="kobo.16.1">, </span><em class="italic"><span class="koboSpan" id="kobo.17.1">Picking Up and Putting Away Toys Using Reinforcement Learning and Genetic Algorithms</span></em></li>
<li><a href="B19846_06.xhtml#_idTextAnchor205"><em class="italic"><span class="koboSpan" id="kobo.18.1">Chapter 6</span></em></a><span class="koboSpan" id="kobo.19.1">, </span><em class="italic"><span class="koboSpan" id="kobo.20.1">Teaching the Robot to Listen</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer046">
</div>
</div>
</body></html>