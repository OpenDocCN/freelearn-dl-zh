["```py\npip install streamlit\n```", "```py\nstreamlit run my_app.py\n```", "```py\nstreamlit run https://raw.githubusercontent.com/streamlit/my_apps/master/my_app.py\n```", "```py\nimport streamlit as st\nimport pandas as pd\nimport matplotlib.pyplot as plt\n# Title for the app\nst.title(\"Simple Streamlit App with Box Plot\")\n# Create a sample DataFrame\ndata = {\nÂ Â Â Â 'Category': ['A', 'A', 'A', 'B', 'B', 'B', 'C', 'C', 'C'],\nÂ Â Â Â 'Values': [10, 20, 15, 25, 30, 20, 35, 40, 45]\n}\ndf = pd.DataFrame(data)\n# Display the DataFrame\nst.write(\"Here is the sample DataFrame:\")\nst.dataframe(df)\n# Create a box plot\nfig, ax = plt.subplots()\ndf.boxplot(column='Values', by='Category', ax=ax, grid=False)\nplt.title(\"Box Plot of Values by Category\")\nplt.suptitle(\"\")Â Â # Remove the automatic subtitle\nplt.xlabel(\"Category\")\nplt.ylabel(\"Values\")\n# Display the plot in Streamlit\nst.pyplot(fig)\n```", "```py\ndf = pd.DataFrame(data)\nst.dataframe(df.style.highlight_max(axis=0))\n```", "```py\ncity_data = {\nÂ Â Â Â 'City': ['Palermo', 'Syracuse', 'Catania', 'Agrigento'],\nÂ Â Â Â 'latitude': [38.1157, 37.0757, 37.5079, 37.2982],\nÂ Â Â Â 'longitude': [13.3615, 15.2867, 15.0830, 13.5763]\n}\ncity_data = pd.DataFrame(city_data)\nst.map(city_data)\n```", "```py\nst.write(city_data)\n```", "```py\nimport streamlit as st\nimport time\n# Use @st.cache_data to cache the result\n@st.cache_data\ndef load_data():\nÂ Â Â Â time.sleep(3)Â Â # Simulate a slow operation (e.g., loading a large dataset)\nÂ Â Â Â return \"Data loaded!\"\n# Call the function\nst.write(load_data())\nin a similar way for st.cache_resource:\nimport streamlit as st\nimport time\n# Example: A resource-intensive function (e.g., loading a model)\n@st.cache_resource\ndef load_model():\nÂ Â Â Â time.sleep(5)Â Â # Simulate a slow operation like loading a model\nÂ Â Â Â return \"Model loaded!\"Â Â # This could be a model object in a real scenario\n# Call the function\nst.write(load_model())\n```", "```py\nimport streamlit as st\n# Define a list of grocery items (the initial list of items to buy)\ngrocery_items = ['Apple', 'Banana', 'Carrot', 'Milk', 'Eggs']\n# Streamlit app interface\nst.title('Grocery List App')\n# Text input to add a new item to the list\nnew_item = st.text_input(\"Add a new item to your grocery list:\")\n# Button to add the new item to the list\nif st.button('Add Item'):\nÂ Â Â Â if new_item:\nÂ Â Â Â Â Â Â Â grocery_items.append(new_item)\nÂ Â Â Â Â Â Â Â st.success(f\"'{new_item}' has been added to your list!\")\nÂ Â Â Â else:\nÂ Â Â Â Â Â Â Â st.warning(\"Please enter an item to add.\")\n# Display the current list of grocery items\nst.write(\"### Items to Buy:\")\nfor item in grocery_items:\nÂ Â Â Â st.write(f\"- {item}\")\n```", "```py\nimport streamlit as st\n# Initialize session state for grocery_items if it doesn't exist yet\nif 'grocery_items' not in st.session_state:\nÂ Â Â Â st.session_state.grocery_items = ['Apple', 'Banana', 'Carrot', 'Milk', 'Eggs']\n# Streamlit app interface\nst.title('Grocery List App')\n# Text input to add a new item to the list\nnew_item = st.text_input(\"Add a new item to your grocery list:\")\n# Button to add the new item to the list\nif st.button('Add Item'):\nÂ Â Â Â if new_item:\nÂ Â Â Â Â Â Â Â # Append the new item to the list stored in session state\nÂ Â Â Â Â Â Â Â st.session_state.grocery_items.append(new_item)\nÂ Â Â Â Â Â Â Â st.success(f\"'{new_item}' has been added to your list!\")\nÂ Â Â Â else:\nÂ Â Â Â Â Â Â Â st.warning(\"Please enter an item to add.\")\n# Display the current list of grocery items\nst.write(\"### Items to Buy:\")\nfor item in st.session_state.grocery_items:\nÂ Â Â Â st.write(f\"- {item}\")\n```", "```py\nimport streamlit as st\nconn = st.connection(\"my_database_sql\")\ndf = conn.query(\"select * from my_beautiful_table\")\nst.dataframe(df)\n```", "```py\nst.title(\"Your Title Here\")\nst.header(\"Your Header Here\")\nst.header(\"Your Header Here\", divider=True, help =\"bla bla\")\nst.subheader(\"Your Subheader Here\")\n```", "```py\nimport streamlit as st\n# Initialize session state for grocery_items if it doesn't exist yet\nif 'grocery_items' not in st.session_state:\nÂ Â Â Â st.session_state.grocery_items = ['Apple', 'Banana', 'Carrot', 'Milk', 'Eggs']\n# Streamlit app interface\nst.title('Grocery List App :banana: :apple: :egg:')Â Â # Main title of the app\n# Display a header for the section where the user can add items\nst.header('Add new item')\n# Text input to add a new item to the list\nnew_item = st.text_input(\"Type an item to add to your grocery list:\")\n# Button to add the new item to the list\nif st.button('Add Item'):\nÂ Â Â Â if new_item:\nÂ Â Â Â Â Â Â Â # Append the new item to the list stored in session state\nÂ Â Â Â Â Â Â Â st.session_state.grocery_items.append(new_item)\nÂ Â Â Â Â Â Â Â st.success(f\"'{new_item}' has been added to your list!\")\nÂ Â Â Â else:\nÂ Â Â Â Â Â Â Â st.warning(\"Please enter an item to add.\")\n# Display a subheader for the current grocery list\nst.subheader('Current Grocery List')\n# Display the current list of grocery items\nfor item in st.session_state.grocery_items:\nÂ Â Â Â st.write(f\"- {item}\")\n```", "```py\n# Set the page configuration to include a logo\nst.set_page_config(page_title=\"Grocery List App\", page_icon=\"https://github.com/SalvatoreRa/tutorial/blob/main/images/vegetable_basket_logo.jpg?raw=true\")\n# Display the title image\nst.image(\"https://github.com/SalvatoreRa/tutorial/blob/main/images/vegetables.jpg?raw=true\", use_column_width=True)\nst.caption(\"Image from [here](https://unsplash.com/it/@randyfath)\")\n# Add logo to the sidebar\nst.sidebar.image(\"https://github.com/SalvatoreRa/tutorial/blob/main/images/vegetable_basket_logo.jpg?raw=true\", use_column_width=True)\n```", "```py\ndata = []\nfor i, item in enumerate(st.session_state.grocery_items):\nÂ Â Â Â with col1 if i % 2 == 0 else col2:\nÂ Â Â Â Â Â Â Â st.markdown(f\"**{item}**\")\nÂ Â Â Â Â Â Â Â quantity_at_home = st.slider(f\"Quantity at home\", 0, 12, st.session_state.quantity_at_home[item], key=f\"home_{item}\")\nÂ Â Â Â Â Â Â Â st.session_state.quantity_at_home[item] = quantity_at_home\nÂ Â Â Â Â Â Â Â quantity_to_take = st.slider(f\"Quantity to take\", 0, 12, st.session_state.quantity_to_take[item], key=f\"take_{item}\")\nÂ Â Â Â Â Â Â Â st.session_state.quantity_to_take[item] = quantity_to_take\nÂ Â Â Â Â Â Â Â taken = st.checkbox(f\"Taken\", st.session_state.taken[item], key=f\"taken_{item}\")\nÂ Â Â Â Â Â Â Â st.session_state.taken[item] = taken\nÂ Â Â Â Â Â Â Â data.append([item, quantity_at_home, quantity_to_take, \"Yes\" if taken else \"No\"])\n```", "```py\ndf = pd.DataFrame(data, columns=[\"Name\", \"Quantity at Home\", \"Quantity to Take\", \"Taken\"])\nst.table(df)\n```", "```py\n# Progress bar\ntaken_count = sum(1 for item in st.session_state.taken.values() if item)\ntotal_items = len(st.session_state.grocery_items)\nprogress = taken_count / total_items if total_items > 0 else 0\nst.subheader(\"Grocery Completion Progress\")\nst.progress(progress)\nst.write(f\"{taken_count} out of {total_items} items taken ({progress*100:.2f}%)\")\n```", "```py\n# Function to generate PDF\ndef generate_pdf():\nÂ Â Â Â pdf = FPDF()\nÂ Â Â Â pdf.set_auto_page_break(auto=True, margin=15)\nÂ Â Â Â pdf.add_page()\nÂ Â Â Â pdf.set_font(\"Arial\", size=12)\nÂ Â Â Â logo_path = \"logo.jpg\"Â Â # Add logo to PDF\nÂ Â Â Â response = requests.get(logo_url)\nÂ Â Â Â with open(logo_path, \"wb\") as f:\nÂ Â Â Â Â Â Â Â f.write(response.content)\nÂ Â Â Â pdf.image(logo_path, 10, 10, 30)Â Â # Position and size of the logo\nÂ Â Â Â pdf.cell(200, 10, \"Grocery List\", ln=True, align='C')\nÂ Â Â Â pdf.ln(20)Â Â # Added extra spacing to prevent text overlapping the logo\nÂ Â Â Â for index, row in df.iterrows():\nÂ Â Â Â Â Â Â Â pdf.cell(0, 10, f\"{row['Name']} - At Home: {row['Quantity at Home']} - To Take: {row['Quantity to Take']} - Taken: {row['Taken']}\", ln=True)\nÂ Â Â Â pdf_output = os.path.join(os.getcwd(), \"grocery_list.pdf\")\nÂ Â Â Â pdf.output(pdf_output)\nÂ Â Â Â return pdf_output\n# Directly download the PDF when the button is clicked\nif st.sidebar.button(\"Download List as PDF\"):\nÂ Â Â Â pdf_file = generate_pdf()\nÂ Â Â Â with open(pdf_file, \"rb\") as f:\nÂ Â Â Â Â Â Â Â st.sidebar.download_button(\"Download Grocery List PDF\", f, file_name=\"grocery_list.pdf\", mime=\"application/pdf\", key=\"download_pdf\", on_click=None)\n```", "```py\nelif page == \"Notes\":\nÂ Â Â Â st.title(\"Notes\")\nÂ Â Â Â st.session_state.notes = st.text_area(\"Write your notes here:\", st.session_state.notes)\nÂ Â Â Â if st.button(\"Save Notes\"):\nÂ Â Â Â Â Â Â Â st.success(\"Notes saved successfully!\")\n```", "```py\nelif page == \"Find Supermarkets\":\nÂ Â Â Â st.title(\"Find Nearby Supermarkets (OSM)\")\nÂ Â Â Â Â Â Â Â # Get user's location\nÂ Â Â Â location_input = st.text_input(\"Enter your location (City, Address, or Coordinates):\")\nÂ Â Â Â if st.button(\"Find Supermarkets\") and location_input:\nÂ Â Â Â Â Â Â Â geolocator = Nominatim(user_agent=\"grocery_app\")\nÂ Â Â Â Â Â Â Â location = geolocator.geocode(location_input)\nÂ Â Â Â Â Â Â Â if location:\nÂ Â Â Â Â Â Â Â Â Â Â Â st.success(f\"Location found: {location.address}\")\nÂ Â Â Â Â Â Â Â Â Â Â Â # Create map\nÂ Â Â Â Â Â Â Â Â Â Â Â m = folium.Map(location=[location.latitude, location.longitude], zoom_start=14)\nÂ Â Â Â Â Â Â Â Â Â Â Â folium.Marker([location.latitude, location.longitude], tooltip=\"Your Location\", icon=folium.Icon(color=\"blue\")).add_to(m)\nÂ Â Â Â Â Â Â Â Â Â Â Â # Use Overpass API to find nearby supermarkets\nÂ Â Â Â Â Â Â Â Â Â Â Â overpass_url = \"http://overpass-api.de/api/interpreter\"\nÂ Â Â Â Â Â Â Â Â Â Â Â overpass_query = f\"\"\"\nÂ Â Â Â Â Â Â Â Â Â Â Â [out:json];\nÂ Â Â Â Â Â Â Â Â Â Â Â node[\"shop\"=\"supermarket\"](around:5000,{location.latitude},{location.longitude});\nÂ Â Â Â Â Â Â Â Â Â Â Â out;\nÂ Â Â Â Â Â Â Â Â Â Â Â \"\"\"\nÂ Â Â Â Â Â Â Â Â Â Â Â response = requests.get(overpass_url, params={'data': overpass_query})\nÂ Â Â Â Â Â Â Â Â Â Â Â data = response.json()\nÂ Â Â Â Â Â Â Â Â Â Â Â for element in data[\"elements\"]:\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â lat, lon = element[\"lat\"], element[\"lon\"]\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â name = element.get(\"tags\", {}).get(\"name\", \"Unnamed Supermarket\")\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â folium.Marker([lat, lon], tooltip=name, icon=folium.Icon(color=\"green\")).add_to(m)\nÂ Â Â Â Â Â Â Â Â Â Â Â folium_static(m)\nÂ Â Â Â Â Â Â Â else:\nÂ Â Â Â Â Â Â Â Â Â Â Â st.error(\"Location not found. Please try a different input.\")\n```", "```py\nimport streamlit as st\nimport numpy as np\nimport pandas as pd\nimport pydeck as pdk\nimport openai\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sentence_transformers import SentenceTransformer\n```", "```py\nclass ItineraryPlannerAgent:\nÂ Â Â Â def __init__(self, api_key):\nÂ Â Â Â Â Â Â Â self.api_key = api_key\nÂ Â Â Â def create_itinerary(self, destination, best_month, hotel, duration):\nÂ Â Â Â Â Â Â Â client = openai.OpenAI(api_key=self.api_key)\nÂ Â Â Â Â Â Â Â prompt = f\"\"\"\nÂ Â Â Â Â Â Â Â Create a {duration}-day travel itinerary for {destination} in the best month: {best_month}.\nÂ Â Â Â Â Â Â Â Recommended Hotel: {hotel['name']}.\nÂ Â Â Â Â Â Â Â \"\"\"\nÂ Â Â Â Â Â Â Â response = client.chat.completions.create(\nÂ Â Â Â Â Â Â Â Â Â Â Â model=\"gpt-4\",\nÂ Â Â Â Â Â Â Â Â Â Â Â messages=[\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {\"role\": \"system\", \"content\": \"You are an expert travel planner.\"},\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {\"role\": \"user\", \"content\": prompt}\nÂ Â Â Â Â Â Â Â Â Â Â Â ],\nÂ Â Â Â Â Â Â Â Â Â Â Â max_tokens=300\nÂ Â Â Â Â Â Â Â )\nÂ Â Â Â Â Â Â Â return response.choices[0].message.content\n```", "```py\nopenai_api_key = st.secrets[\"general\"][\"openai_api_key\"]\nweather_agent = WeatherAnalysisAgent()\nhotel_agent = HotelRecommenderAgent()\nitinerary_agent = ItineraryPlannerAgent(api_key=openai_api_key)\nweather_agent.train(historical_weather_data)\nhotel_agent.add_hotels(hotels_database)\nYour API should be in a file TOML, like this:\n[general]\nopenai_api_key = \"YOUR_API\"\n```", "```py\nst.title(\"AI Travel Planner âœˆï¸\")\nst.write(\"Find the best time to travel and discover the perfect hotel!\")\ndestination = st.text_input(\"Enter your destination (e.g., Rome):\", \"Rome\")\npreferences = st.text_area(\"Describe your ideal hotel:\", \"Luxury hotel in city center with spa.\")\nduration = st.slider(\"Trip duration (days):\", 1, 14, 5)\n```", "```py\nif st.button(\"Generate Travel Plan âœ¨\"):\nÂ Â Â Â best_months = weather_agent.predict_best_time({'latitude': 41.9028, 'longitude': 12.4964})\nÂ Â Â Â best_month = best_months[0]['month']\nÂ Â Â Â recommended_hotels = hotel_agent.find_hotels(preferences)\nÂ Â Â Â itinerary = itinerary_agent.create_itinerary(destination, best_month, recommended_hotels[0], duration)\nÂ Â Â Â st.subheader(\"ğŸ“† Best Months to Visit\")\nÂ Â Â Â for m in best_months:\nÂ Â Â Â Â Â Â Â st.write(f\"Month {m['month']}: Score {m['score']:.2f}\")\nÂ Â Â Â st.subheader(\"ğŸ¨ Recommended Hotel\")\nÂ Â Â Â st.write(f\"**{recommended_hotels[0]['name']}** - {recommended_hotels[0]['description']}\")\nÂ Â Â Â st.subheader(\"ğŸ“œ Generated Itinerary\")\nÂ Â Â Â st.write(itinerary)\nÂ Â Â Â # -------------------------------\nÂ Â Â Â # Interactive Map\nÂ Â Â Â # -------------------------------\nÂ Â Â Â st.subheader(\"ğŸ—º Destination Map\")\nÂ Â Â Â map_data = pd.DataFrame(\nÂ Â Â Â Â Â Â Â {'lat': [41.9028], 'lon': [12.4964]},\nÂ Â Â Â )\nÂ Â Â Â st.map(map_data)\n```", "```py\n    try:\n    Â Â Â Â Â response = client.chat.completions.create(\n    Â Â Â Â Â Â Â Â Â model=\"gpt-4\",\n    Â Â Â Â Â Â Â Â Â messages=[...],\n    Â Â Â Â Â Â Â Â Â timeout=10Â Â Â Â Â Â Â Â Â Â Â # optional timeout\n    Â Â Â Â Â )\n    Â Â Â Â Â return response.choices[0].message.content\n    except openai.RateLimitError:\n    Â Â Â Â Â st.error(\"Rate limit exceeded. Please try again later.\")\n    except openai.APIError as e:\n    Â Â Â Â Â st.error(f\"OpenAI API error: {str(e)}\")\n    except Exception as e:\n    Â Â Â Â Â st.error(f\"Unexpected error: {str(e)}\")\n    ```", "```py\n    import time\n     import random\n    def call_openai_with_retry(prompt, retries=3):\n    Â Â Â Â Â for i in range(retries):\n    Â Â Â Â Â Â Â Â Â try:\n    Â Â Â Â Â Â Â Â Â Â Â Â Â return client.chat.completions.create(\n    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â model=\"gpt-4\",\n    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â messages=[ {\"role\": \"user\", \"content\": prompt}]\n    Â Â Â Â Â Â Â Â Â Â Â Â Â )\n    Â Â Â Â Â Â Â Â except openai.APIError:\n    Â Â Â Â Â Â Â Â Â Â Â Â Â wait = 2 ** i + random.random()\n    Â Â Â Â Â Â Â Â Â Â Â Â Â time.sleep(wait)\n    Â Â Â Â st.error(\"Failed after multiple retries.\")Â Â Â Â return None\n    ```", "```py\n    import logging\n     logging.basicConfig(level=logging.INFO)\n     logger = logging.getLogger(__name__)\n    try:\n    Â Â Â Â Â logger.info(\"Calling OpenAI API\")\n    Â Â Â Â Â response = client.chat.completions.create(...)\n    except Exception as e:\n    Â Â Â Â Â logger.exception(\"API call failed\")\n    Â Â Â Â Â st.error(\"Something went wrong.\")\n    ```", "```py\n    [general]\n     openai_api_key = \"application-api-key\"\n    ```", "```py\n    import openai\n     openai.api_key = st.secrets[\"general\"][\"openai_api_key\"]\n    ```", "```py\n    export OPENAI_API_KEY=\"your-api-key\"\n    ```", "```py\n    import os\n    openai.api_key = os.getenv(\"OPENAI_API_KEY\")\n    ```", "```py\n    export OPENAI_API_KEY=\"your-api-key\"\n     streamlit run app.py\n    nano ~/.bashrc\n    ```", "```py\n# Minimal python image\n FROM python:3.11-slim\nWORKDIR /app\nCOPY requirements.txt .\n RUN pip install --no-cache-dir -r requirements.txt\nCOPY . .\n# Create and use a non-root user through the keyword USER\n RUN useradd -m appuser\n USER appuser\nCMD [\"streamlit\", \"run\", \"app.py\"]\n```", "```py\n# Runtime execution\n docker run -e OPENAI_API_KEY=\"your-api-key\" my-streamlit-app\n```", "```py\nimport asyncio\nasync def my_coroutine():\nÂ Â Â Â print(\"Hello, world!\")\n# Create an event loop and run the coroutine\nasyncio.run(my_coroutine())\n```", "```py\nasync def task1():\nÂ Â Â Â await asyncio.sleep(2)\nÂ Â Â Â print(\"Task 1 completed!\")\nasync def task2():\nÂ Â Â Â await asyncio.sleep(1)\nÂ Â Â Â print(\"Task 2 completed!\")\nasync def main():\nÂ Â Â Â await asyncio.gather(task1(), task2())Â Â # Run both tasks concurrently\nasyncio.run(main())\n```", "```py\nimport asyncio\nasync def task1():\nÂ Â Â Â await asyncio.sleep(2)\nÂ Â Â Â print(\"Task 1 completed!\")\nasync def task2():\nÂ Â Â Â await asyncio.sleep(1)\nÂ Â Â Â print(\"Task 2 completed!\")\nasync def main():\nÂ Â Â Â t1 = asyncio.create_task(task1())\nÂ Â Â Â t2 = asyncio.create_task(task2())\nÂ Â Â Â # Both tasks start running in the background immediately\nÂ Â Â Â await t1\nÂ Â Â Â await t2\nasyncio.run(main())\n```", "```py\nimport requests\nimport time\ndef fetch_url(url):\nÂ Â Â Â response = requests.get(url)\nÂ Â Â Â return f\"Fetched {url}\"\ndef sync_fetch():\nÂ Â Â Â urls = ['https://httpbin.org/get'] * 5Â Â # Simulating 5 requests to the same URL\nÂ Â Â Â results = [fetch_url(url) for url in urls]\nÂ Â Â Â for result in results:\nÂ Â Â Â Â Â Â Â print(result)\ndef main():\nÂ Â Â Â start_time = time.time()\nÂ Â Â Â sync_fetch()\nÂ Â Â Â end_time = time.time()\nÂ Â Â Â print(f\"Synchronous version took {end_time - start_time:.4f} seconds\")\n# Run the synchronous example\nmain()\n```", "```py\nimport asyncio\nimport aiohttp\nimport time\nasync def fetch_url(session, url):\nÂ Â Â Â async with session.get(url) as response:\nÂ Â Â Â Â Â Â Â await response.text()Â Â # Simulate processing the response\nÂ Â Â Â Â Â Â Â return f\"Fetched {url}\"\nasync def async_fetch():\nÂ Â Â Â urls = ['https://httpbin.org/get'] * 5Â Â # Simulating 5 requests to the same URL\nÂ Â Â Â async with aiohttp.ClientSession() as session:\nÂ Â Â Â Â Â Â Â tasks = [fetch_url(session, url) for url in urls]\nÂ Â Â Â Â Â Â Â results = await asyncio.gather(*tasks)\nÂ Â Â Â Â Â Â Â for result in results:\nÂ Â Â Â Â Â Â Â Â Â Â Â print(result)\nasync def main():\nÂ Â Â Â start_time = time.time()\nÂ Â Â Â await async_fetch()\nÂ Â Â Â end_time = time.time()\nÂ Â Â Â print(f\"Asynchronous version took {end_time - start_time:.4f} seconds\")\n# Directly calling the asynchronous function in Jupyter\nawait main()\n```", "```py\nimport time\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.datasets import load_iris\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\ndef train_and_evaluate_model(n_estimators, max_depth, min_samples_split, min_samples_leaf):\nÂ Â Â Â # Load dataset\nÂ Â Â Â data = load_iris()\nÂ Â Â Â X_train, X_test, y_train, y_test = train_test_split(data.data, data.target, test_size=0.2, random_state=42)\nÂ Â Â Â Â Â Â Â # Initialize and train the model\nÂ Â Â Â model = RandomForestClassifier(\nÂ Â Â Â Â Â Â Â n_estimators=n_estimators,\nÂ Â Â Â Â Â Â Â max_depth=max_depth,\nÂ Â Â Â Â Â Â Â min_samples_split=min_samples_split,\nÂ Â Â Â Â Â Â Â min_samples_leaf=min_samples_leaf\nÂ Â Â Â )\nÂ Â Â Â model.fit(X_train, y_train)\nÂ Â Â Â Â # Evaluate the model\nÂ Â Â Â predictions = model.predict(X_test)\nÂ Â Â Â accuracy = accuracy_score(y_test, predictions)\nÂ Â Â Â Â Â Â Â return (n_estimators, max_depth, min_samples_split, min_samples_leaf, accuracy)\ndef tune_hyperparameters():\nÂ Â Â Â n_estimators_values = [10, 50, 100, 150, 200]Â Â # Hyperparameter values to tune\nÂ Â Â Â max_depth_values = [5, 10, None]\nÂ Â Â Â min_samples_split_values = [2, 5]\nÂ Â Â Â min_samples_leaf_values = [1, 2, 4]\nÂ Â Â Â results = []\nÂ Â Â Â for n_estimators in n_estimators_values:\nÂ Â Â Â Â Â Â Â for max_depth in max_depth_values:\nÂ Â Â Â Â Â Â Â Â Â Â Â for min_samples_split in min_samples_split_values:\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â for min_samples_leaf in min_samples_leaf_values:\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â results.append(train_and_evaluate_model(n_estimators, max_depth, min_samples_split, min_samples_leaf))\nÂ Â Â Â Â Â Â Â # Find the best hyperparameters and accuracy\nÂ Â Â Â best_params = max(results, key=lambda x: x[4])\nÂ Â Â Â print(f\"Best hyperparameters: {best_params[:4]} with accuracy: {best_params[4]:.4f}\")\n# Measure time for synchronous execution\nstart_time = time.time()\ntune_hyperparameters()\nend_time = time.time()\nprint(f\"Synchronous version took {end_time - start_time:.4f} seconds\")\n```", "```py\nimport asyncio\nimport time\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.datasets import load_iris\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\nasync def train_and_evaluate_model(n_estimators, max_depth, min_samples_split, min_samples_leaf):\nÂ Â Â Â # Load dataset\nÂ Â Â Â data = load_iris()\nÂ Â Â Â X_train, X_test, y_train, y_test = train_test_split(data.data, data.target, test_size=0.2, random_state=42)\nÂ Â Â Â # Initialize and train the model\nÂ Â Â Â model = RandomForestClassifier(\nÂ Â Â Â Â Â Â Â n_estimators=n_estimators,\nÂ Â Â Â Â Â Â Â max_depth=max_depth,\nÂ Â Â Â Â Â Â Â min_samples_split=min_samples_split,\nÂ Â Â Â Â Â Â Â min_samples_leaf=min_samples_leaf\nÂ Â Â Â )\nÂ Â Â Â model.fit(X_train, y_train)\nÂ Â Â Â # Evaluate the model\nÂ Â Â Â predictions = model.predict(X_test)\nÂ Â Â Â accuracy = accuracy_score(y_test, predictions)\nÂ Â Â Â return (n_estimators, max_depth, min_samples_split, min_samples_leaf, accuracy)\nasync def tune_hyperparameters():\nÂ Â Â Â n_estimators_values = [10, 50, 100, 150, 200]Â Â # Hyperparameter values to tune\nÂ Â Â Â max_depth_values = [5, 10, None]\nÂ Â Â Â min_samples_split_values = [2, 5]\nÂ Â Â Â min_samples_leaf_values = [1, 2, 4]\nÂ Â Â Â tasks = []\nÂ Â Â Â for n_estimators in n_estimators_values:\nÂ Â Â Â Â Â Â Â for max_depth in max_depth_values:\nÂ Â Â Â Â Â Â Â Â Â Â Â for min_samples_split in min_samples_split_values:\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â for min_samples_leaf in min_samples_leaf_values:\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â tasks.append(train_and_evaluate_model(n_estimators, max_depth, min_samples_split, min_samples_leaf))\nÂ Â Â Â Â Â Â Â results = await asyncio.gather(*tasks)\nÂ Â Â Â Â Â Â Â # Find the best hyperparameters and accuracy\nÂ Â Â Â best_params = max(results, key=lambda x: x[4])\nÂ Â Â Â print(f\"Best hyperparameters: {best_params[:4]} with accuracy: {best_params[4]:.4f}\")\n# Measure time for asynchronous execution\nstart_time = time.time()\nawait tune_hyperparameters()\nend_time = time.time()\nprint(f\"Asynchronous version took {end_time - start_time:.4f} seconds\")\n```"]