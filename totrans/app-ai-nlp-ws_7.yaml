- en: Appendix
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录
- en: 1\. An Introduction to AWS
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1. AWS 简介
- en: 'Activity 1.01: Putting the Data into S3 with the CLI'
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动 1.01：使用 CLI 将数据放入 S3
- en: '**Solution:**'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '**解决方案：**'
- en: 'Verify the configuration is correct by executing `aws s3 ls` to output your
    bucket name (the bucket name will be unique):![Figure 1.46: Command line showing
    the list of files in an S3 bucket'
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过执行 `aws s3 ls` 来验证配置是否正确，以输出您的存储桶名称（存储桶名称将是唯一的）：![图 1.46：命令行显示 S3 存储桶中的文件列表
- en: '](img/B16061_01_46.jpg)'
  id: totrans-5
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_01_46.jpg)'
- en: 'Figure 1.46: Command line showing the list of files in an S3 bucket'
  id: totrans-6
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 1.46：命令行显示 S3 存储桶中的文件列表
- en: Note
  id: totrans-7
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: The list you will see maybe a little different from the preceding screenshot.
    It depends on what activities or exercises you have done; you might see a few
    more files in S3.
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您将看到的列表可能与前面的截图略有不同。这取决于您已经执行了哪些活动或练习；您可能会在 S3 中看到更多一些文件。
- en: 'Let''s create a new S3 bucket. `mb` is the command for creating a bucket:'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们创建一个新的 S3 存储桶。`mb` 是创建存储桶的命令：
- en: '[PRE0]'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '![Figure 1.47: Command to create an S3 bucket'
  id: totrans-11
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 1.47：创建 S3 存储桶的命令'
- en: '](img/B16061_01_47.jpg)'
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_01_47.jpg)'
- en: 'Figure 1.47: Command to create an S3 bucket'
  id: totrans-13
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 1.47：创建 S3 存储桶的命令
- en: 'If it is successful, you will see the `make_bucket : message`.'
  id: totrans-14
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '如果成功，您将看到 `make_bucket : message`。'
- en: Note
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: Your bucket name needs to be unique, so it is easier to append YYYYMMDD to the
    name (or something similar) to make it so. You will see this technique in later
    chapters as well. If you take a look at the earlier `ls` command, you will see
    the bucket names used — even used YYYYMMDDHHMM to ensure the names were unique.
    Refer to the S3 "Rules for Bucket Naming" for specific details [https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-s3-bucket-naming-requirements.html](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-s3-bucket-naming-requirements.html)).
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您的存储桶名称需要是唯一的，因此添加 YYYYMMDD 到名称（或类似的内容）使其变得唯一更容易。您将在后面的章节中看到这种技术。如果您查看早期的 `ls`
    命令，您将看到使用的存储桶名称——甚至使用了 YYYYMMDDHHMM 来确保名称的唯一性。有关具体细节，请参阅 S3 的“存储桶命名规则” [https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-s3-bucket-naming-requirements.html](https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-s3-bucket-naming-requirements.html))。
- en: Import your text file into the S3 bucket.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将您的文本文件导入到 S3 存储桶中。
- en: 'For these exercises, we have prepared some fun-sounding text excerpts for you
    from Dracula and Peter Pan. These files are on GitHub [https://packt.live/31WESlK](https://packt.live/31WESlK)
    Assuming you have cloned the repository locally, navigate to the local directory
    using the command line. In our case, the files are in `~/Documents/aws-book`:'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于这些练习，我们为您从《德古拉》和《彼得·潘》中准备了一些听起来很有趣的文本摘录。这些文件位于 GitHub [https://packt.live/31WESlK](https://packt.live/31WESlK)。假设您已经在本地上克隆了存储库，使用命令行导航到本地目录。在我们的例子中，文件位于
    `~/Documents/aws-book`：
- en: '![Figure 1.48: Navigating to the local directory in the command line'
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 1.48：在命令行中导航到本地目录'
- en: '](img/B16061_01_48.jpg)'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_01_48.jpg)'
- en: 'Figure 1.48: Navigating to the local directory in the command line'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 1.48：在命令行中导航到本地目录
- en: 'To copy the files from the local directory to S3, use the command `aws s3 cp
    pos_sentiment__leaves_of_grass.txt s3://lesson1-text-files-20200217` to import
    the text file into your S3 bucket as shown at the end of *Figure 1.48*:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将文件从本地目录复制到 S3，请使用命令 `aws s3 cp pos_sentiment__leaves_of_grass.txt s3://lesson1-text-files-20200217`
    将文本文件导入到您的 S3 存储桶，如图 1.48 的末尾所示：
- en: 'Similarly, export the `neg_sentiment__dracula.txt` and `peter_pan.txt` files
    to the S3 bucket:![Figure 1.49: Copying the file from the local directory in the
    command line'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同样，将 `neg_sentiment__dracula.txt` 和 `peter_pan.txt` 文件导出到 S3 存储桶：![图 1.49：在命令行中从本地目录复制文件
- en: '](img/B16061_01_49.jpg)'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_01_49.jpg)'
- en: 'Figure 1.49: Copying the file from the local directory in the command line'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 1.49：在命令行中从本地目录复制文件
- en: Navigate to your desktop in the command line. Create a new local folder named
    `s3_exported_files` with the `mkdir s3_exported_files` command:![in](img/B16061_01_50.jpg)
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行中导航到您的桌面。使用 `mkdir s3_exported_files` 命令创建一个名为 `s3_exported_files` 的新本地文件夹：![in](img/B16061_01_50.jpg)
- en: 'Figure 1.50: Navigating to the desktop in the command line'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 1.50：在命令行中导航到桌面
- en: 'Next, recursively export both files (`neg_sentiment__dracula.txt` and `peter_pan.txt`)
    from the S3 bucket to your local directory with the `- -recursive` parameter.
    The following is the output of the command:![Figure 1.51: Command line to copy
    files from an S3 bucket'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用 `- -recursive` 参数递归地从 S3 存储桶中导出两个文件（`neg_sentiment__dracula.txt` 和 `peter_pan.txt`）到您的本地目录。以下是指令的输出：![图
    1.51：从 S3 存储桶复制文件的命令行
- en: '](img/B16061_01_51.jpg)'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_01_51.jpg)'
- en: 'Figure 1.51: Command line to copy files from an S3 bucket'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 1.51：从 S3 存储桶复制文件的命令行
- en: 'Verify the objects were exported successfully to your local folder with the
    `dir` or `ls` command, as shown in the following screenshot. This is the expected
    output:![Figure 1.52: Output of the multi-file copy from the S3 bucket'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `dir` 或 `ls` 命令验证对象是否已成功导出到你的本地文件夹，如下截图所示。这是预期的输出：![图 1.52：从 S3 存储桶进行多文件复制的结果
- en: '](img/B16061_01_52.jpg)'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_01_52.jpg)'
- en: 'Figure 1.52: Output of the multi-file copy from the S3 bucket'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.52：从 S3 存储桶进行多文件复制的结果
- en: 2\. Analyzing Documents and Text with Natural Language Processing
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2. 使用自然语言处理分析文档和文本
- en: 'Activity 2.01: Integrating Lambda with Amazon Comprehend to Perform Text Analysis'
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动 2.01：将 Lambda 与 Amazon Comprehend 集成以执行文本分析
- en: '**Solution**:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**解决方案**：'
- en: Upload the `test_s3trigger_configured.txt` file to our S3 bucket to verify the
    Lambda `s3_trigger` function was configured successfully.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `test_s3trigger_configured.txt` 文件上传到我们的 S3 存储桶以验证 Lambda `s3_trigger` 函数配置成功。
- en: 'Navigate to the S3 page: [https://console.aws.amazon.com/s3/](https://console.aws.amazon.com/s3/).'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 S3 页面：[https://console.aws.amazon.com/s3/](https://console.aws.amazon.com/s3/).
- en: 'Click the bucket name you are using to test the `s3_trigger` function (in my
    case, `aws-ml-s3-trigger-202001181023`):![Figure 2.55: S3 bucket list'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击用于测试 `s3_trigger` 函数的存储桶名称（在我的情况下，为 `aws-ml-s3-trigger-202001181023`）：![图
    2.55：S3 存储桶列表
- en: '](img/B16061_02_55.jpg)'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_55.jpg)'
- en: 'Figure 2.55: S3 bucket list'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.55：S3 存储桶列表
- en: 'Click `Upload`:![Figure 2.56: S3 bucket list upload screen'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 `上传`：![图 2.56：S3 存储桶列表上传屏幕
- en: '](img/B16061_02_56.jpg)'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_56.jpg)'
- en: 'Figure 2.56: S3 bucket list upload screen'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.56：S3 存储桶列表上传屏幕
- en: 'The following screen will display:'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下屏幕将显示：
- en: '![Figure 2.57: S3 Upload bucket Add files screen'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.57：S3 上传存储桶添加文件屏幕'
- en: '](img/B16061_02_57.jpg)'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_57.jpg)'
- en: 'Figure 2.57: S3 Upload bucket Add files screen'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.57：S3 上传存储桶添加文件屏幕
- en: 'Click `Add files`:![Figure 2.58: S3 Add files selection screen'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 `添加文件`：![图 2.58：S3 添加文件选择屏幕
- en: '](img/B16061_02_58.jpg)'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_58.jpg)'
- en: 'Figure 2.58: S3 Add files selection screen'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.58：S3 添加文件选择屏幕
- en: Navigate to the `test_s3trigger_configured.txt` file location. Select the file.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 `test_s3trigger_configured.txt` 文件位置。选择该文件。
- en: 'The file contains the following text:'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该文件包含以下文本：
- en: '[PRE1]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Before we execute the `s3_trigger`, consider the output based on the following
    aspects of the text: sentiment (positive, negative, or neutral), entities (quantity,
    person, place, and so on), and key phrases.'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在我们执行 `s3_trigger` 之前，考虑以下文本方面的输出：情感（正面、负面或中性）、实体（数量、人物、地点等）和关键词。
- en: Note
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 备注
- en: '`test_s3trigger_configured.txt` is available at the following GitHub repository:
    [https://packt.live/3gAxqku](https://packt.live/3gAxqku).'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`test_s3trigger_configured.txt` 可在以下 GitHub 仓库中找到：[https://packt.live/3gAxqku](https://packt.live/3gAxqku).'
- en: 'Click `Upload`, then `Next`:![Figure 2.59: S3 file added to the bucket for
    the Lambda trigger test'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 `上传`，然后 `下一步`：![图 2.59：用于 Lambda 触发测试的存储桶中添加的文件
- en: '](img/B16061_02_59.jpg)'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_59.jpg)'
- en: 'Figure 2.59: S3 file added to the bucket for the Lambda trigger test'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.59：用于 Lambda 触发测试的存储桶中添加的文件
- en: 'Click `Next` in the Set Permissions tab:![Figure 2.60: S3 file added to the
    bucket for the Lambda trigger test—object permissions'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在设置权限选项卡中点击 `下一步`：![图 2.60：用于 Lambda 触发测试的存储桶中添加的文件——对象权限
- en: '](img/B16061_02_60.jpg)'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_60.jpg)'
- en: 'Figure 2.60: S3 file added to the bucket for the Lambda trigger test—object
    permissions'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.60：用于 Lambda 触发测试的存储桶中添加的文件——对象权限
- en: 'Keep the default `Standard` `Storage class` and click `Next`:![Figure 2.61:
    S3 file added to the bucket for the Lambda trigger test—Storage class'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持默认的 `Standard` `存储类` 并点击 `下一步`：![图 2.61：用于 Lambda 触发测试的存储桶中添加的文件——存储类
- en: '](img/B16061_02_61.jpg)'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_61.jpg)'
- en: 'Figure 2.61: S3 file added to the bucket for the Lambda trigger test—Storage
    class'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.61：用于 Lambda 触发测试的存储桶中添加的文件——存储类
- en: 'Select `Upload`:![Figure 2.62: S3 file added to the bucket for the Lambda trigger
    test—Upload'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 `上传`：![图 2.62：用于 Lambda 触发测试的存储桶中添加的文件——上传
- en: '](img/B16061_02_62.jpg)'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_62.jpg)'
- en: 'Figure 2.62: S3 file added to the bucket for the Lambda trigger test—Upload'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.62：用于 Lambda 触发测试的存储桶中添加的文件——上传
- en: 'You will see the file in the file list:![Figure 2.63: S3 file added to the
    bucket for the Lambda trigger test – file list'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将在文件列表中看到该文件：![图 2.63：用于 Lambda 触发测试的存储桶中添加的文件 – 文件列表
- en: '](img/B16061_02_63.jpg)'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_63.jpg)'
- en: 'Figure 2.63: S3 file added to the bucket for the Lambda trigger test – file
    list'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.63：用于 Lambda 触发测试的存储桶中添加的文件 – 文件列表
- en: 'Now let''s see if our Lambda was triggered. Navigate back to the Lambda via
    `Services>Compute>Lambda>Functions>s3_trigger`. Click `Monitoring`:![Figure 2.64:
    Select the Monitoring tab'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们来看看我们的Lambda是否被触发。通过`Services>Compute>Lambda>Functions>s3_trigger`导航回Lambda。点击`监控`：![图2.64：选择监控选项卡
- en: '](img/B16061_02_64.jpg)'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_64.jpg)'
- en: 'Figure 2.64: Select the Monitoring tab'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.64：选择监控选项卡
- en: 'Click `View logs in CloudWatch`:![Figure 2.65: Select View logs in CloudWatch'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`在CloudWatch中查看日志`：![图2.65：在CloudWatch中选择查看日志
- en: '](img/B16061_02_65.jpg)'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_65.jpg)'
- en: 'Figure 2.65: Select View logs in CloudWatch'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.65：在CloudWatch中选择查看日志
- en: 'Click the log stream:![Figure 2.66: Select the log stream'
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击日志流：![图2.66：选择日志流
- en: '](img/B16061_02_66.jpg)'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_66.jpg)'
- en: 'Figure 2.66: Select the log stream'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.66：选择日志流
- en: 'Select the radio button next to `Text` to expand the output:![Figure 2.67:
    Click the radio button to expand the Lambda output'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`文本`旁边的单选按钮以展开输出：![图2.67：点击单选按钮以展开Lambda输出
- en: '](img/B16061_02_67.jpg)'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_67.jpg)'
- en: 'Figure 2.67: Click the radio button to expand the Lambda output'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.67：点击单选按钮以展开Lambda输出
- en: 'The following is the first few lines of the output. To see the entire output,
    you need to scroll down to view all of the results (see the following). We will
    interpret the total output in the next step:'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下是一些输出内容的前几行。要查看整个输出，您需要向下滚动以查看所有结果（见下文）。我们将在下一步解释总输出：
- en: '![Figure 2.68: The top portion of the s3_trigger output'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图2.68：s3_trigger输出的顶部部分'
- en: '](img/B16061_02_68.jpg)'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_68.jpg)'
- en: 'Figure 2.68: The top portion of the s3_trigger output'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.68：s3_trigger输出的顶部部分
- en: Note
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: If you encounter permission errors, check the permissions for `s3TriggerRole`
    from `Services>Security, Identity, & Compliance-IAM-Roles`. The policy list should
    look as follows. If one of them is missing, you can add them.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您遇到权限错误，请检查`Services>Security, Identity, & Compliance-IAM-Roles`中的`s3TriggerRole`的权限。策略列表应如下所示。如果其中之一缺失，您可以添加它们。
- en: 'Also, if you delete and recreate your Lambda, you can reuse the role—just select
    `Use an existing role` instead of `Create a new role`. It is always good to play
    around with the various configurations and understand how they all fit together:![Figure
    2.69: The policies for s3TriggerRole'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，如果您删除并重新创建Lambda，您可以重用该角色——只需选择`使用现有角色`而不是`创建新角色`。总是好的，尝试各种配置并了解它们是如何相互配合的：![图2.69：s3TriggerRole的策略
- en: '](img/B16061_02_69.jpg)'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_02_69.jpg)'
- en: 'Figure 2.69: The policies for s3TriggerRole'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.69：s3TriggerRole的策略
- en: Now let's examine the results of our Lambda from AWS Comprehend. You might see
    slightly different confidence levels because Amazon trains its algorithms periodically.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们来检查AWS Comprehend的Lambda结果。您可能会看到略有不同的置信度水平，因为亚马逊定期训练其算法。
- en: '`Sentiment_response` -> Classified as `51.0`% likely to be neutral. This is
    a statement, so neutral is fine.'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`Sentiment_response` -> 被分类为`51.0`%可能是中性的。这是一个陈述，所以中性是好的。'
- en: '`Sentiment_response`:'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`Sentiment_response`：'
- en: '[PRE2]'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '`entity_response` -> It did find the date and the quantity from the text'
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`entity_response` -> 它确实从文本中找到了日期和数量'
- en: '`entity_response`:'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`entity_response`：'
- en: '[PRE3]'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '`key_phases_response` -> It found the key phrases and the scores are close
    to 100% confidence'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`key_phases_response` -> 它找到了关键短语，分数接近100%的置信度'
- en: '`key_phases_response`:'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`key_phases_response`：'
- en: '[PRE4]'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 3\. Topic Modeling and Theme Extraction
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3. 主题建模和主题提取
- en: 'Activity 3.01: Performing Topic Modeling on a Set of Documents with Unknown
    Topics'
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动三.01：对一组未知主题的文档执行主题建模
- en: '**Solution**:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**解决方案**：'
- en: 'For this activity, we are going to use 1,000 movie review files. Navigate to
    the following link (or to your local directory where you have downloaded the GitHub
    files) to obtain the text data files that contain movie review comments: [https://packt.live/3gISDZL](https://packt.live/3gISDZL).
    It is definitely better to download the GitHub repository rather than download
    1,000 files by hand.'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个活动，我们将使用1,000个电影评论文件。导航到以下链接（或导航到您已下载GitHub文件的本地目录）以获取包含电影评论的文本数据文件：[https://packt.live/3gISDZL](https://packt.live/3gISDZL)。肯定比手动下载1,000个文件要好。
- en: Navigate to the S3 dashboard at [https://s3.console.aws.amazon.com/s3/home](https://s3.console.aws.amazon.com/s3/home).
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到S3仪表板[https://s3.console.aws.amazon.com/s3/home](https://s3.console.aws.amazon.com/s3/home)。
- en: 'Click the bucket that you created earlier (in my case, it is "`aws-ml-input-for-topic-modeling-20200301`"):![Figure
    3.50: The S3 home screen for ‘input-for-topic-modeling’'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击您之前创建的存储桶（在我的情况下，它是"`aws-ml-input-for-topic-modeling-20200301`"）：![图3.50：'input-for-topic-modeling'的S3主屏幕
- en: '](img/B16061_03_50.jpg)'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_50.jpg)'
- en: 'Figure 3.50: The S3 home screen for ''input-for-topic-modeling'''
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.50：'input-for-topic-modeling'的S3主屏幕
- en: 'Click `Create folder`:![Figure 3.51: Clicking on Create folder'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`创建文件夹`：![图3.51：点击创建文件夹
- en: '](img/B16061_03_51.jpg)'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_51.jpg](img/B16061_03_51.jpg)'
- en: 'Figure 3.51: Clicking on Create folder'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.51：点击创建文件夹
- en: 'Type `movie_review_files` and click `Save`:![Figure 3.52: Clicking Save'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`movie_review_files`并点击`保存`：![图3.52：点击保存
- en: '](img/B16061_03_52.jpg)'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_52.jpg](img/B16061_03_52.jpg)'
- en: 'Figure 3.52: Clicking Save'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.52：点击保存
- en: Note
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: 'For this step, you may either follow along with the exercise and type in the
    code in a Jupyter notebook or obtain the notebook file (`text_files_to_s3.ipynb`)
    from the source code folder for this chapter: [https://packt.live/2W077MR](https://packt.live/2W077MR).
    Copy the file and paste it into the editor.'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于这一步，您可以选择跟随练习并输入Jupyter笔记本中的代码，或者从本章的源代码文件夹中获取笔记本文件（`text_files_to_s3.ipynb`）：[https://packt.live/2W077MR](https://packt.live/2W077MR)。复制文件并将其粘贴到编辑器中。
- en: 'First, you will import the `os` and `boto3` packages using the following command:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，您将使用以下命令导入`os`和`boto3`包：
- en: '[PRE5]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Create an S3 client:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个S3客户端：
- en: '[PRE6]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Next, type in your unique bucket name in the highlighted space:'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在突出显示的区域输入您唯一的存储桶名称：
- en: '[PRE7]'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Next, get the working directory of the local path to the text files:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，获取本地路径中文本文件的当前工作目录：
- en: '[PRE8]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Create a list of all the text files:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建所有文本文件的列表：
- en: '[PRE9]'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Iterate on all files, and upload each to `s3`:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对所有文件进行迭代，并将每个文件上传到`s3`：
- en: '[PRE10]'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Press *Shift* + *Enter* to run the cell.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按*Shift* + *Enter*运行单元格。
- en: 'This will take a few minutes. The result is 1,000 text files uploaded to the
    S3 `movie_review_files` folder:![Figure 3.53: movie_review_files uploaded to S3'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将需要几分钟时间。结果是1,000个文本文件被上传到S3的`movie_review_files`文件夹：![图3.53：上传到S3的movie_review_files
- en: '](img/B16061_03_53.jpg)'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_53.jpg](img/B16061_03_53.jpg)'
- en: 'Figure 3.53: movie_review_files uploaded to S3'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.53：上传到S3的movie_review_files
- en: 'Refer to the following figure for the top few lines of the S3 output:![Figure
    3.54: movie_review_files in S3'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 参考以下图中的S3输出前几行：![图3.54：S3中的movie_review_files
- en: '](img/B16061_03_54.jpg)'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_54.jpg](img/B16061_03_54.jpg)'
- en: 'Figure 3.54: movie_review_files in S3'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.54：S3中的movie_review_files
- en: 'Next, navigate to AWS Comprehend via the Comprehend link: [https://aws.amazon.com/comprehend/](https://aws.amazon.com/comprehend/).
    You can also get there from [https://aws.amazon.com/](https://aws.amazon.com/),
    then clicking `My account` and selecting `AWS Management Console`. In the console,
    select `services` and then click `Amazon Comprehend` in the machine learning category.'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过Comprehend链接导航到AWS Comprehend：[https://aws.amazon.com/comprehend/](https://aws.amazon.com/comprehend/)。您也可以从[https://aws.amazon.com/](https://aws.amazon.com/)进入，然后点击`我的账户`并选择`AWS管理控制台`。在控制台中，选择`服务`然后点击机器学习类别下的`Amazon
    Comprehend`。
- en: 'Then, click `Launch Amazon Comprehend`:![Figure 3.55: The Amazon Comprehend
    home screen'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，点击`启动Amazon Comprehend`：![图3.55：Amazon Comprehend的主屏幕
- en: '](img/B16061_03_55.jpg)'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_55.jpg](img/B16061_03_55.jpg)'
- en: 'Figure 3.55: The Amazon Comprehend home screen'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.55：Amazon Comprehend的主屏幕
- en: 'Now, click `Analysis jobs`, the first item on the left-hand toolbar:![Figure
    3.56: Selecting Analysis jobs'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击左侧工具栏上的第一个项目`分析作业`：![图3.56：选择分析作业
- en: '](img/B16061_03_56.jpg)'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_56.jpg](img/B16061_03_56.jpg)'
- en: 'Figure 3.56: Selecting Analysis jobs'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.56：选择分析作业
- en: 'Now, click `Create job`:![Figure 3.57: Clicking Create job'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击`创建作业`：![图3.57：点击创建作业
- en: '](img/B16061_03_57.jpg)'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_57.jpg](img/B16061_03_57.jpg)'
- en: 'Figure 3.57: Clicking Create job'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.57：点击创建作业
- en: 'Now, type `unknown_topic_structure_job` in the `Name` input field:![Figure
    3.58: Entering unknown_topic_structure_job'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在`名称`输入字段中输入`unknown_topic_structure_job`：![图3.58：输入unknown_topic_structure_job
- en: '](img/B16061_03_58.jpg)'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_58.jpg](img/B16061_03_58.jpg)'
- en: 'Figure 3.58: Entering unknown_topic_structure_job'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.58：输入unknown_topic_structure_job
- en: 'Select `Topic modeling` in the analysis type drop-down box:![Figure 3.59: Choosing
    the Topic Modeling analysis type'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在分析类型下拉框中选择`主题建模`：![图3.59：选择主题建模分析类型
- en: '](img/B16061_03_59.jpg)'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_59.jpg](img/B16061_03_59.jpg)'
- en: 'Figure 3.59: Choosing the Topic Modeling analysis type'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.59：选择主题建模分析类型
- en: 'Now, scroll down to the `Input data` section and click `Browse S3`:![Figure
    3.60: Selecting the Browse S3 button'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，向下滚动到`输入数据`部分并点击`浏览S3`：![图3.60：选择浏览S3按钮
- en: '](img/B16061_03_60.jpg)'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 B16061_03_60.jpg](img/B16061_03_60.jpg)'
- en: 'Figure 3.60: Selecting the Browse S3 button'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.60：选择浏览S3按钮
- en: 'Click the radio button next to the bucket you selected to input files for Topic
    Modeling (`aws-ml-input-for-topic-modeling-20200301`) and then click the bucket
    name:![Figure 3.61: Expanding the S3 bucket sub-folders'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击所选存储桶旁边的单选按钮以输入用于主题建模的文件（`aws-ml-input-for-topic-modeling-20200301`），然后点击存储桶名称：![图3.61：展开S3存储桶子文件夹
- en: '](img/B16061_03_61.jpg)'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_61.jpg)'
- en: 'Figure 3.61: Expanding the S3 bucket sub-folders'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.61：展开 S3 存储桶子文件夹
- en: 'Click the radio button next to the "`movie_review_files`" folder:![Figure 3.62:
    Selecting the movie_review_files folder'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“`movie_review_files`”文件夹旁边的单选按钮：![图 3.62：选择 movie_review_files 文件夹
- en: '](img/B16061_03_62.jpg)'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_62.jpg)'
- en: 'Figure 3.62: Selecting the movie_review_files folder'
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.62：选择 movie_review_files 文件夹
- en: Now, click the `Choose` button.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击“选择”按钮。
- en: 'The following figure shows the S3 location for the input data selected:'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下图显示了所选输入数据的 S3 位置：
- en: '![Figure 3.63: S3 location for the input data selected'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 3.63：选择输入数据所选的 S3 位置'
- en: '](img/B16061_03_63.jpg)'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_63.jpg)'
- en: 'Figure 3.63: S3 location for the input data selected'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.63：选择输入数据的 S3 位置
- en: 'Select `One document per file` from the `Input format` dropdown:![Figure 3.64:
    Selecting the One document per file option'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从“输入格式”下拉菜单中选择“每文件一个文档”：![图 3.64：选择每文件一个文档选项
- en: '](img/B16061_03_64.jpg)'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_64.jpg)'
- en: 'Figure 3.64: Selecting the One document per file option'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.64：选择每文件一个文档选项
- en: 'Next, enter `40` in the `Number of topics` input field:![Figure 3.65: Entering
    40 topics'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在“主题数量”输入字段中输入“40”：![图 3.65：输入 40 个主题
- en: '](img/B16061_03_65.jpg)'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_65.jpg)'
- en: 'Figure 3.65: Entering 40 topics'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.65：输入 40 个主题
- en: 'Scroll down to choose the output location, and then click `Browse S3`:![Figure
    3.66: Clicking Browse S3'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到选择输出位置，然后点击“浏览 S3”：![图 3.66：点击浏览 S3
- en: '](img/B16061_03_66.jpg)'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_66.jpg)'
- en: 'Figure 3.66: Clicking Browse S3'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.66：点击浏览 S3
- en: 'Select the output bucket you uniquely named for the Topic Modeling output and
    click on `Choose`:![Figure 3.67: Selecting the S3 bucket for the Topic Modeling
    output'
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您为主题建模输出唯一命名的输出存储桶，然后点击“选择”：![图 3.67：选择主题建模输出的 S3 存储桶
- en: '](img/B16061_03_67.jpg)'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_67.jpg)'
- en: 'Figure 3.67: Selecting the S3 bucket for the Topic Modeling output'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.67：选择主题建模输出的 S3 存储桶
- en: 'Scroll down to `Access Permissions` and select `Use an existing IAM role`,
    as shown:![Figure 3.68: Selecting Use an existing IAM role in Access permissions'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到“访问权限”，并选择如图所示的“使用现有的 IAM 角色”：![图 3.68：在访问权限中选择使用现有的 IAM 角色
- en: '](img/B16061_03_68.jpg)'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_68.jpg)'
- en: 'Figure 3.68: Selecting Use an existing IAM role in Access permissions'
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.68：在访问权限中选择使用现有的 IAM 角色
- en: 'In the `Role Name` dropdown, select `AmazonComprehendServiceRole-myTopicModelingRole`:![Figure
    3.69: Selecting an existing IAM role'
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“角色名称”下拉菜单中，选择“AmazonComprehendServiceRole-myTopicModelingRole”：![图 3.69：选择现有的
    IAM 角色
- en: '](img/B16061_03_69.jpg)'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_69.jpg)'
- en: 'Figure 3.69: Selecting an existing IAM role'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.69：选择现有的 IAM 角色
- en: 'The final screen should look like the following:![Figure 3.70: Selecting an
    existing IAM role'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终屏幕应如下所示：![图 3.70：选择现有的 IAM 角色
- en: '](img/B16061_03_70.jpg)'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_70.jpg)'
- en: 'Figure 3.70: Selecting an existing IAM role'
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.70：选择现有的 IAM 角色
- en: 'Click the `Create job` button. The Topic Modeling job status will first display `Submitted`:![Figure
    3.71: Status as Submitted'
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“创建作业”按钮。主题建模作业状态将首先显示为“已提交”：![图 3.71：状态为已提交
- en: '](img/B16061_03_71.jpg)'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_71.jpg)'
- en: 'Figure 3.71: Status as Submitted'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.71：状态为已提交
- en: 'The Topic Modeling job status will next display `In progress`. The Topic Modeling
    job takes about 20 minutes:![Figure 3.72: Status as In progress'
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 主题建模作业状态将随后显示为“进行中”。主题建模作业大约需要 20 分钟：![图 3.72：状态为进行中
- en: '](img/B16061_03_72.jpg)'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_72.jpg)'
- en: 'Figure 3.72: Status as In progress'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.72：状态为进行中
- en: 'When the status changes to `Completed`, click the `unknown_topic_structure_job`
    link:![Figure 3.73: Selecting the hyperlinked Topic Modeling link'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当状态变为“完成”时，点击“unknown_topic_structure_job”链接：![图 3.73：选择超链接的主题建模链接
- en: '](img/B16061_03_73.jpg)'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_03_73.jpg)'
- en: 'Figure 3.73: Selecting the hyperlinked Topic Modeling link'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 3.73：选择超链接的主题建模链接
- en: Note
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 备注
- en: As you can see, we didn't get it right the first time and the status showed
    `Failed`. It might take a few attempts for you. If a job fails, click `Copy` (the
    button to the left of `Create job`) and then correct the errors. As you can't
    have duplicate jobs, a good process would be to append the job name with a sequence
    number, for example, `unknown_topic_structure_job_01`.
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如您所见，我们第一次没有做对，状态显示为“失败”。可能需要尝试几次。如果作业失败，请点击“复制”（位于“创建作业”按钮左侧的按钮）并纠正错误。由于不能有重复的作业，一个好的流程是在作业名称后附加一个序列号，例如，`unknown_topic_structure_job_01`。
- en: 'Scroll down and click the Topic Modeling output hyperlink (yours will display
    a different unique Topic Modeling job alphanumeric character string):![Figure
    3.74: Clicking the Topic Modeling output S3 location'
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并单击主题建模输出超链接（您的将显示不同的唯一主题建模作业字母数字字符串）：![图3.74：单击主题建模输出S3位置
- en: '](img/B16061_03_74.jpg)'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![img/B16061_03_74.jpg]'
- en: 'Figure 3.74: Clicking the Topic Modeling output S3 location'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.74：单击主题建模输出S3位置
- en: 'You will be directed to the actual file in the S3 output folder for the Topic
    Modeling job. Click `Download`:![Figure 3.75: Clicking Download on the output
    file'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将被引导到S3输出文件夹中实际的主题建模作业文件。点击“下载”：![图3.75：在输出文件上点击下载
- en: '](img/B16061_03_75.jpg)'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![img/B16061_03_75.jpg]'
- en: 'Figure 3.75: Clicking Download on the output file'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.75：在输出文件上点击下载
- en: 'Save the file to a local directory; usually, the `Downloads` folder or the
    desktop is fine:![Figure 3.76: Saving the downloaded output file from S3'
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件保存到本地目录；通常，`下载`文件夹或桌面都行：![图3.76：从S3保存下载的输出文件
- en: '](img/B16061_03_76.jpg)'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![img/B16061_03_76.jpg]'
- en: 'Figure 3.76: Saving the downloaded output file from S3'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.76：从S3保存下载的输出文件
- en: 'Navigate to the directory where you have downloaded the file and extract the
    CSV files by double-clicking. In Windows, right-click the `output.tar.gz` file
    and select `Extract Here`:![Figure 3.77: Selecting Extract Here'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到您下载文件的目录，通过双击提取CSV文件。在Windows中，右键单击`output.tar.gz`文件并选择“在此处提取”：![图3.77：选择此处提取
- en: '](img/B16061_03_77.jpg)'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![img/B16061_03_77.jpg]'
- en: 'Figure 3.77: Selecting Extract Here'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图3.77：选择此处提取
- en: 'The result is two CSV files: `doc-topics.csv` and `topic-terms.csv`.'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果是两个CSV文件：`doc-topics.csv`和`topic-terms.csv`。
- en: 'For reference, the extracted CSV files are available in the following GitHub
    directories and where you downloaded them in the local directory (in my case,
    this is `/Users/ksankar/Documents/aws_book/The-Applied-AI-and-Natural-Language-Processing-with-AWS/Chapter03/Activity3.01`):'
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 作为参考，提取的CSV文件可在以下GitHub目录中找到，以及您在本地目录中下载它们的位置（在我的情况下，这是`/Users/ksankar/Documents/aws_book/The-Applied-AI-and-Natural-Language-Processing-with-AWS/Chapter03/Activity3.01`）：
- en: '[https://packt.live/2AIccSw](https://packt.live/2AIccSw).'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://packt.live/2AIccSw](https://packt.live/2AIccSw).'
- en: '[https://packt.live/3eaGdry](https://packt.live/3eaGdry).'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://packt.live/3eaGdry](https://packt.live/3eaGdry).'
- en: 'We have completed Part 1: Performing Topic Modeling, for this activity. Now,
    let''s move to Part 2: Analysis of Unknown Topics.'
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们已经完成了第1部分：执行主题建模，对于这个活动。现在，让我们进入第2部分：未知主题的分析。
- en: Note
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: 'For this step, you may either follow along with the exercise and type in the
    code on a Jupyter notebook or obtain the `local_csv_to_s3_for_analysis.ipynb`
    file from the GitHub folder where you have downloaded the repository and paste
    it into the Jupyter editor. For reference, the source code is available via GitHub
    in the following repository: [https://packt.live/3gDErks](https://packt.live/3gDErks).'
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于这一步，您可以选择跟随练习并输入代码到Jupyter笔记本中，或者从您下载存储库的GitHub文件夹中获取`local_csv_to_s3_for_analysis.ipynb`文件并将其粘贴到Jupyter编辑器中。作为参考，源代码可通过以下GitHub存储库获取：[https://packt.live/3gDErks](https://packt.live/3gDErks)。
- en: 'Firstly, we will import `boto3`:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将导入`boto3`：
- en: '[PRE11]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Next, import `pandas`:'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，导入`pandas`：
- en: '[PRE12]'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Create the S3 client object.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建S3客户端对象。
- en: '[PRE13]'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Next, create a unique name for the S3 bucket to store your source CSV files.
    Here, the bucket is named `unknown-tm-analysis-20200302`, but you will need to
    create a unique name:'
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为存储源CSV文件的S3存储桶创建一个唯一名称。在这里，存储桶被命名为`unknown-tm-analysis-20200302`，但您需要创建一个唯一的名称：
- en: '[PRE14]'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Next, create a new bucket:'
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，创建一个新的存储桶：
- en: '[PRE15]'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Create a list of the CSV filenames to import:'
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个CSV文件名列表以导入：
- en: '[PRE16]'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Iterate on each file to upload to S3:'
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 遍历每个要上传到S3的文件：
- en: '[PRE17]'
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Next, check whether the filename is `''doc-topics.csv''`:'
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，检查文件名是否为`'doc-topics.csv'`：
- en: '[PRE18]'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Now, get the `doc-topics.csv` file object and assign it to the `obj` variable:'
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，获取`doc-topics.csv`文件对象并将其分配给`obj`变量：
- en: '[PRE19]'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Next, read the `csv` object and assign it to the `doc_topics variable`:'
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，读取`csv`对象并将其分配给`doc_topics`变量：
- en: '[PRE20]'
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Merge files on the Topic column to obtain the most common terms for each document:'
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在主题列上合并文件以获取每个文档的最常见术语：
- en: '[PRE21]'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Print the `merged_df` to the console:'
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`merged_df`打印到控制台：
- en: '[PRE22]'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Next, execute the notebook cells using *Shift* + *Enter*.
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用*Shift* + *Enter*执行笔记本单元格。
- en: 'The console output is a merged DataFrame that provides the docnames with their
    respective terms and the terms'' weights (refer to the following):![Figure 3.78:
    Output from the S3 Create bucket call'
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 控制台输出是一个合并的DataFrame，它提供了文档名称及其相应的术语和术语的权重（参见图）：![图3.78：S3创建存储桶调用的输出
- en: '](img/B16061_03_78.jpg)'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 3.78: Output from the S3 Create bucket call'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.79: Activity merged Topic Modeling output'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16061_03_79.jpg)'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 3.79: Activity merged Topic Modeling output'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
- en: 5\. Using Speech with the Chatbot
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Activity 5.01: Creating a Custom Bot and Connecting the Bot with Amazon Connect'
  id: totrans-252
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Solution:**'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
- en: This is an activity that combines what we learned in the previous chapters.
    Try to complete the activity on your own and refer to the solution as needed.
    You will make mistakes and will encounter things that do not seem to work. This
    is all part of learning an interesting domain. If you build and test it incrementally,
    the development will be easier and there will be fewer moving parts.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 1: Creating an S3 Bucket and storing balance.txt**'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
- en: 'First, navigate to the Amazon S3 service from https://aws.amazon.com/, and
    then navigate to `My Account – AWS management Console-Services-Storage-S3`. Click
    `Create bucket`:![Figure 5.35: S3 bucket creation for user account balance'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16061_05_35.jpg)'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 5.35: S3 bucket creation for user account balance'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: For the `Bucket name`, type in `account-balance`, and then click `Create`.
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Note
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The bucket names in AWS have to be unique. Otherwise, you will get a `Bucket
    name already exists` error. One easy way to get a unique name is to append the
    bucket name with today's date plus the time, say, YYYYMMDDHHMM. While writing
    this chapter, we created an `account-balance-202001241911` bucket and it worked.
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Your bucket will be created, and you will be redirected to the bucket list:![Figure
    5.36: S3 bucket list screen'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16061_05_36.jpg)'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 5.36: S3 bucket list screen'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Click the bucket name you are using (in our case, `account-balance-202001241911`)
    and then click `Upload`:![Figure 5.37: S3 bucket list on the Upload screen'
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16061_05_37.jpg)'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 5.37: S3 bucket list on the Upload screen'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The following screen will display:'
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 5.38: S3 Upload bucket Add files screen'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '](img/B16061_05_38.jpg)'
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 5.38: S3 Upload bucket Add files screen'
  id: totrans-271
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Click `Add files`:![Figure 5.39: S3 Add files selection screen'
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16061_05_39.jpg)'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 5.39: S3 Add files selection screen'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Navigate to the `balance.txt` file location. Select the file.
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The `balance.txt` file is available from the following GitHub repository: [https://packt.live/38CipvB](https://packt.live/38CipvB).'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: As we mentioned in *Chapter 1*, *An Introduction to AWS*, you should have downloaded
    the GitHub files into a local subdirectory.
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: As an example, download the files into the `Documents/aws-book/The-Applied-AI-and-Natural-Language-Processing-with-AWS`
    directory. As you might have guessed, the files for this exercise are in the `Chapter05`
    subdirectory.
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Once the files have been selected, click the `Open` button to upload the files:![Figure
    5.40: File selection window in Explorer'
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16061_05_40.jpg)'
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 5.40: File selection window in Explorer'
  id: totrans-282
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Click `Next`:![Figure 5.41: S3 Select files tab'
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16061_05_41.jpg)'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 5.41: S3 Select files tab'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.41：S3 选择文件选项卡
- en: 'Set the permissions to those that are shown in the following screenshot:![Figure
    5.42: S3 Set permissions tab'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将权限设置为以下截图所示：![图 5.42：S3 设置权限选项卡
- en: '](img/B16061_05_42.jpg)'
  id: totrans-287
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.47：Lambda 控制台](img/B16061_05_42.jpg)'
- en: 'Figure 5.42: S3 Set permissions tab'
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.42：S3 设置权限选项卡
- en: 'Keep the default `Standard` option under `Storage class` and click `Next`:![Figure
    5.43: S3 Set properties tab'
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“存储类”下保持默认的“标准”选项，然后点击“下一步”：![图 5.43：S3 设置属性选项卡
- en: '](img/B16061_05_43.jpg)'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.44：S3 审查选项卡](img/B16061_05_43.jpg)'
- en: 'Figure 5.43: S3 Set properties tab'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.43：S3 设置属性选项卡
- en: 'Select `Upload` in the `Review` tab:![Figure 5.44: S3 Review tab'
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“审查”选项卡中选择“上传”：![图 5.44：S3 审查选项卡
- en: '](img/B16061_05_44.jpg)'
  id: totrans-293
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.42：S3 设置权限选项卡](img/B16061_05_44.jpg)'
- en: 'Figure 5.44: S3 Review tab'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.44：S3 审查选项卡
- en: 'You will see the file in the file list:![Figure 5.45: S3 file list'
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将在文件列表中看到该文件：![图 5.45：S3 文件列表
- en: '](img/B16061_05_45.jpg)'
  id: totrans-296
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.48：AWS Lambda – 使用从头开始创建作者选择创建函数](img/B16061_05_45.jpg)'
- en: 'Figure 5.45: S3 file list'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.45：S3 文件列表
- en: '**Step 2: Creating a Lambda function to access the S3 Bucket and read the account
    balance**'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: '**步骤 2：创建一个 Lambda 函数以访问 S3 存储桶并读取账户余额**'
- en: 'Navigate to Amazon Lambda, then `Services`, and click `Lambda` under `Compute`:![Figure
    5.46: Services > Compute > Lambda'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 Amazon Lambda，然后选择“服务”，在“计算”下点击“Lambda”：![图 5.46：服务 > 计算 > Lambda
- en: '](img/B16061_05_46.jpg)'
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.46：服务 > 计算 > Lambda](img/B16061_05_46.jpg)'
- en: 'Figure 5.46: Services > Compute > Lambda'
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.46：服务 > 计算 > Lambda
- en: 'You will see the `Lambda` console as follows:'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您将看到以下 Lambda 控制台：
- en: '![Figure 5.47: Lambda console'
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.47：Lambda 控制台'
- en: '](img/B16061_05_47.jpg)'
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.52：AWS Lambda—the default lambda_function screen](img/B16061_05_47.jpg)'
- en: 'Figure 5.47: Lambda console'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.47：Lambda 控制台
- en: On the `Lambda` console, click `Create function`.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“Lambda”控制台中，点击“创建函数”。
- en: 'Choose `Author from scratch` from the available options. For `Function name`,
    type in `fetch_balance`:![Figure 5.48: AWS Lambda – creating a function with the
    Author from scratch selection'
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从可用选项中选择“从头开始创建作者”。对于“函数名称”，键入“fetch_balance”：![图 5.48：AWS Lambda – 使用从头开始创建作者选择创建函数
- en: '](img/B16061_05_48.jpg)'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.53：fetch_balance 函数代码](img/B16061_05_48.jpg)'
- en: 'Figure 5.48: AWS Lambda – creating a function with the Author from scratch
    selection'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.48：AWS Lambda – 使用从头开始创建作者选择创建函数
- en: 'For the `Runtime` option, choose `Python 3.6` from the list:![Figure 5.49:
    AWS Lambda—Python 3.6 selection'
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于“运行时”选项，从列表中选择“Python 3.6”：![图 5.49：AWS Lambda—Python 3.6 选择
- en: '](img/B16061_05_49.jpg)'
  id: totrans-311
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.52：AWS Lambda—the default lambda_function screen](img/B16061_05_49.jpg)'
- en: 'Figure 5.49: AWS Lambda—Python 3.6 selection'
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.49：AWS Lambda—Python 3.6 选择
- en: Click on `Choose or create an execution role` and select `Create a new role
    from AWS policy templates`. Then, enter the name `readBalanceRole` in the `Role
    name` field.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“选择或创建执行角色”，然后选择“从 AWS 策略模板创建新角色”。然后，在“角色名称”字段中输入“readBalanceRole”。
- en: Click the drop-down menu under `Policy templates` and select `Amazon S3 object
    read-only permissions`.
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“策略模板”下点击下拉菜单，然后选择“Amazon S3 对象只读权限”。
- en: 'Then, click the `Create function` button to create the Lambda function in AWS:![Figure
    5.50: AWS Lambda—create function screen'
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，点击“创建函数”按钮以在 AWS 中创建 Lambda 函数：![图 5.50：AWS Lambda—创建函数屏幕
- en: '](img/B16061_05_50.jpg)'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.43：S3 设置属性选项卡](img/B16061_05_50.jpg)'
- en: 'Figure 5.50: AWS Lambda—create function screen'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.50：AWS Lambda—创建函数屏幕
- en: 'You will see the Lambda function designer. There is a lot of information there.
    Let''s focus on the essentials for this activity:'
  id: totrans-318
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您将看到 Lambda 函数设计器。那里有很多信息。让我们关注这个活动的要点：
- en: '![Figure 5.51: AWS Lambda—function designer'
  id: totrans-319
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.51：AWS Lambda—函数设计器'
- en: '](img/B16061_05_51.jpg)'
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.45：S3 文件列表](img/B16061_05_51.jpg)'
- en: 'Figure 5.51: AWS Lambda—function designer'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.51：AWS Lambda—函数设计器
- en: 'Next, scroll down the screen to the `Function code` section. The default code
    will be the same as, or similar to, the following:![Figure 5.52: AWS Lambda—the
    default lambda_function screen'
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将屏幕向下滚动到“函数代码”部分。默认代码将与以下代码相同或类似：![图 5.52：AWS Lambda—the default lambda_function
    screen
- en: '](img/B16061_05_52.jpg)'
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.51：AWS Lambda—函数设计器](img/B16061_05_52.jpg)'
- en: 'Figure 5.52: AWS Lambda—the default lambda_function screen'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.52：AWS Lambda—默认 lambda_function 屏幕
- en: 'Here, we can enter and edit our code entirely within the `lambda_function`
    tab (as long as `Code entry type` is set to `Edit code inline`, which is the default
    value in the drop-down menu):'
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，我们可以在“lambda_function”选项卡内完全输入和编辑我们的代码（只要“代码输入类型”设置为“内联编辑”，这是下拉菜单中的默认值）：
- en: Note
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: For this step, you may either follow along and type in the code or you can obtain
    it from the source code folder in your local disk where you downloaded the files
    from GitHub or [https://packt.live/2ZOSJbd](https://packt.live/2ZOSJbd).
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于这个步骤，您可以跟随操作并输入代码，或者您可以从您本地磁盘上的源代码文件夹中获取它，该文件夹是从 GitHub 或 [https://packt.live/2ZOSJbd](https://packt.live/2ZOSJbd)
    下载的文件。
- en: '![Figure 5.53: Function code for fetch_balance'
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.53：fetch_balance 函数代码'
- en: '](img/B16061_05_53.jpg)'
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_53.jpg)'
- en: 'Figure 5.53: Function code for fetch_balance'
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.53：`fetch_balance`函数的代码
- en: 'First, we import the `boto3`) from [http://boto3.readthedocs.io/en/latest/](http://boto3.readthedocs.io/en/latest/):'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们从[http://boto3.readthedocs.io/en/latest/](http://boto3.readthedocs.io/en/latest/)导入`boto3`：
- en: '[PRE23]'
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Next, create a function that takes two parameters—`event` and `context`:'
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，创建一个接受两个参数——`event`和`context`的函数：
- en: '[PRE24]'
  id: totrans-334
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Next, create the `s3` client object:'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，创建`s3`客户端对象：
- en: '[PRE25]'
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Next, replace `<input Bucket name>` with the bucket you created (`account-balance-202001241911`,
    in my example):'
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将`<输入桶名>`替换为您创建的桶（例如，在我的例子中是`account-balance-202001241911`）：
- en: '[PRE26]'
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Next, assign the `filename` to a variable, and then print the filename:'
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将`filename`分配给一个变量，然后打印文件名：
- en: '[PRE27]'
  id: totrans-340
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Next, create the file object by getting the `Bucket` and `Key`:'
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过获取`Bucket`和`Key`创建文件对象：
- en: '[PRE28]'
  id: totrans-342
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Extract the account balance from the file:'
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文件中提取账户余额：
- en: '[PRE29]'
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Then, return the balance as a message:'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，将余额作为消息返回：
- en: '[PRE30]'
  id: totrans-346
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'We need the `close` function for our bot, which requires a well-formed JSON response:'
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要为我们的机器人提供一个`close`函数，它需要一个格式良好的 JSON 响应：
- en: '[PRE31]'
  id: totrans-348
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Remember to `Save` the function frequently:'
  id: totrans-349
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 记得经常`保存`函数：
- en: Note
  id: totrans-350
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 备注
- en: Use the `Test` button in the top-right corner to test and debug the code. You
    will see the results in `Execution Results` below the code pane.
  id: totrans-351
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用右上角的`测试`按钮测试和调试代码。您将在代码面板下方的`执行结果`中看到结果。
- en: 'Click the `Test` button on the top-right corner:![Figure 5.54: Test Button
    for testing Lambda function'
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右上角的`测试`按钮：![图 5.54：测试 Lambda 函数的测试按钮
- en: '](img/B16061_05_54.jpg)'
  id: totrans-353
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_54.jpg)'
- en: 'Figure 5.54: Test Button for testing Lambda function'
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.54：测试 Lambda 函数的测试按钮
- en: 'For every test, we need to create at least one `Test Event`. If this is the
    first time you are running a test, you will see the `Configure test event` screen:![Figure
    5.55: Configure Test Event to test a Lambda function'
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于每个测试，我们至少需要创建一个`测试事件`。如果您是第一次运行测试，您将看到`配置测试事件`屏幕：![图 5.55：配置测试事件以测试 Lambda
    函数
- en: '](img/B16061_05_55.jpg)'
  id: totrans-356
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_55.jpg)'
- en: 'Figure 5.55: Configure Test Event to test a Lambda function'
  id: totrans-357
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.55：配置测试事件以测试 Lambda 函数
- en: 'If the event expects values, for example a stock symbol or an account number,
    this is the place to create a valid JSON payload for the event. And, if you have
    multiple actions based on what the user asks for, you can have multiple events
    and then invoke the lambda with any of the events. In our case, to keep the interaction
    simple, we do not look for any information in the event payload. So just give
    the event a name – for example, type `getBalance` and then click the `Create`
    button.![Figure 5.56: Configure Test Event with name getBalance'
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果事件需要值，例如股票符号或账户号码，这就是创建有效 JSON 有效负载的地方。如果你根据用户的要求有多个操作，你可以有多个事件，然后使用任何事件调用
    Lambda。在我们的例子中，为了保持交互简单，我们不在事件有效负载中查找任何信息。所以只需给事件起一个名字——例如，输入`getBalance`然后点击`创建`按钮。![图
    5.56：配置名为 getBalance 的测试事件
- en: '](img/B16061_05_56.jpg)'
  id: totrans-359
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_56.jpg)'
- en: 'Figure 5.56: Configure Test Event with name getBalance'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.56：配置名为 getBalance 的测试事件
- en: 'You will see the results under the `Execution Results` tab:![Figure 5.57: Execution
    results of fetch_balance - Response'
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将在`执行结果`选项卡下看到结果：![图 5.57：`fetch_balance`函数的执行结果 - 响应
- en: '](img/B16061_05_57.jpg)'
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_57.jpg)'
- en: 'Figure 5.57: Execution results of fetch_balance - Response'
  id: totrans-363
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.57：`fetch_balance`函数的执行结果 - 响应
- en: 'If you scroll down in the Execution results window, you will see more details
    and the `Function Logs` where you will see the diagnostic prints that you have
    in your code. It is always good to print diagnostic messages while developing
    a lambda function:![Figure 5.58: Execution results of fetch_balance – Function
    Logs'
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您在执行结果窗口中向下滚动，您将看到更多详细信息以及您在代码中看到的`函数日志`。在开发 Lambda 函数时打印诊断消息总是好的：![图 5.58：`fetch_balance`函数的执行结果
    – 函数日志
- en: '](img/B16061_05_58.jpg)'
  id: totrans-365
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_58.jpg)'
- en: 'Figure 5.58: Execution results of fetch_balance – Function Logs'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.58：`fetch_balance`函数的执行结果 – 函数日志
- en: '**Step 3: Creating a Lex bot to get the balance using the Lambda function**'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '**第 3 步：创建 Lex 机器人以使用 Lambda 函数获取余额**'
- en: The first step is to navigate to the `Amazon Lex` service within the AWS Console.
    You can do so by clicking on `Services` | `Machine Learning` | `Amazon Lex` or
    navigating to [https://console.aws.amazon.com/lex](https://console.aws.amazon.com/lex).
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一步是导航到 AWS 控制台中的`Amazon Lex`服务。您可以通过点击`服务`|`机器学习`|`Amazon Lex`或导航到[https://console.aws.amazon.com/lex](https://console.aws.amazon.com/lex)来实现。
- en: 'The next step is to click on the `Create` button in order to get to the `Bots`
    creation screen:![Figure 5.59: The Amazon Lex console'
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一步是点击`创建`按钮，以便进入`聊天机器人`创建屏幕：![图5.59：Amazon Lex控制台
- en: '](img/B16061_05_59.jpg)'
  id: totrans-370
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_59.jpg)'
- en: 'Figure 5.59: The Amazon Lex console'
  id: totrans-371
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.59：Amazon Lex控制台
- en: 'At this point, you can create a custom bot by clicking on the `Custom bot`
    option. This reveals the bot''s details, which can be filled out, as shown in
    the following screenshot:![Figure 5.60: The Custom bot option'
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这一点上，您可以通过点击`自定义聊天机器人`选项来创建一个自定义聊天机器人。这会显示聊天机器人的详细信息，可以填写，如下面的截图所示：![图5.60：自定义聊天机器人选项
- en: '](img/B16061_05_60.jpg)'
  id: totrans-373
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_60.jpg)'
- en: 'Figure 5.60: The Custom bot option'
  id: totrans-374
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.60：自定义聊天机器人选项
- en: The `Bot name` field can be set to `GetBalance`. The `Output voice` field is
    set to any of the voices, for example, you can select `Kendra`. This is because
    we will be interacting with the bot using voice.
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`聊天机器人名称`字段可以设置为`GetBalance`。`输出语音`字段可以设置为任何声音，例如，您可以选择`Kendra`。这是因为我们将使用语音与聊天机器人进行交互。'
- en: '`Session timeout` can be set to the default of `5` `min`. The `IAM role` field
    displays the name of the IAM role, which is automatically created by Lex for use
    by bot applications. Let''s say `No` to `Sentiment analysis`.'
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`会话超时`可以设置为默认的`5`分钟。`IAM角色`字段显示IAM角色的名称，Lex会自动创建该角色以供聊天机器人应用程序使用。对于`情感分析`，我们选择`否`。'
- en: Finally, the `COPPA` field pertains to the `Children's Online Privacy Protection
    Act`, which online applications must conform with. Choose `Yes` or `No` depending
    on whether you want to have someone under the age of 13 using your chatbot.
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，`COPPA`字段指的是`儿童在线隐私保护法案`，这是在线应用程序必须遵守的。根据您是否希望13岁以下的用户使用您的聊天机器人，选择`是`或`否`。
- en: Note
  id: totrans-378
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: A law was passed in 1998 to protect the privacy of children under 13\. It states
    that online sites may not collect personal information from users who are younger
    than 13 years old without parental consent, among other provisions. You can learn
    more about COPPA at [https://www.ftc.gov/enforcement/rules/rulemaking-regulatory-reform-proceedings/childrens-online-privacy-protection-rule](https://www.ftc.gov/enforcement/rules/rulemaking-regulatory-reform-proceedings/childrens-online-privacy-protection-rule).
  id: totrans-379
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 1998年通过了一项法律，以保护13岁以下儿童的隐私。该法律指出，在线网站在未经父母同意的情况下，不得收集13岁以下用户的个人信息，以及其他规定。您可以在[https://www.ftc.gov/enforcement/rules/rulemaking-regulatory-reform-proceedings/childrens-online-privacy-protection-rule](https://www.ftc.gov/enforcement/rules/rulemaking-regulatory-reform-proceedings/childrens-online-privacy-protection-rule)了解更多关于COPPA的信息。
- en: Finally, clicking on the `Create` button will create the chatbot and bring you
    to the bot's `Editor` screen. This screen will allow you to create and define
    an intent for the bot, as well as a slot with a custom slot type.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，点击`创建`按钮将创建聊天机器人，并带您进入聊天机器人的`编辑`屏幕。此屏幕将允许您为聊天机器人创建和定义意图，以及一个具有自定义槽类型的槽。
- en: 'Click on the `Create Intent` button to bring up the `Add Intent` pop-up dialog
    window:![Figure 5.61: GetBalance bot’s Editor tab'
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`创建意图`按钮，将弹出`添加意图`的弹出对话框：![图5.61：GetBalance聊天机器人的编辑标签
- en: '](img/B16061_05_61.jpg)'
  id: totrans-382
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_61.jpg)'
- en: 'Figure 5.61: GetBalance bot''s Editor tab'
  id: totrans-383
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.61：GetBalance聊天机器人的编辑标签
- en: Conversely, if you already have an intent defined, you can create a new one
    by clicking on the `+` sign next to the `Intents` heading in the left-hand side
    menu on the screen.
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 相反，如果您已经定义了一个意图，您可以通过点击屏幕左侧菜单中`意图`标题旁边的`+`号来创建一个新的意图。
- en: The `Create Intent` window offers a few options to add an intent to the bot.
    The `Import intent` link allows you to import an intent from a `ZIP` file containing
    one or more `JSON` files with intents in the Lex format.
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`创建意图`窗口提供了一些选项，可以将意图添加到聊天机器人中。`导入意图`链接允许您从包含一个或多个Lex格式意图的`ZIP`文件中导入意图。'
- en: The search for existing intents allows you to reuse the intents that you may
    have defined or imported previously, as well as the built-in intents defined by
    Amazon Lex.
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搜索现有意图允许您重用您可能之前定义或导入的意图，以及Amazon Lex定义的内置意图。
- en: You should just click on the `Create Intent` link, however, to get to the following
    dialog box.
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您只需点击`创建意图`链接，即可进入以下对话框。
- en: 'In the `Create intent` dialog box, name your new intent `Balance`. The bot
    will recognize this intent when you let it know that you are interested in a market
    quote. Click on the `Add` button to complete this step:![Figure 5.62: The Create
    intent dialog box'
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`创建意图`对话框中，为新意图命名为`Balance`。当您告诉聊天机器人您对市场报价感兴趣时，聊天机器人将识别此意图。点击`添加`按钮完成此步骤：![图5.62：创建意图对话框
- en: '](img/B16061_05_62.jpg)'
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_62.jpg)'
- en: 'Figure 5.62: The Create intent dialog box'
  id: totrans-390
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.62：创建意图对话框
- en: You should be back at the `Balance` intent in the left toolbar portion of the
    screen. The **Editor** screen also contains many fields that are used to define
    and customize the new intent.
  id: totrans-391
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你应该回到屏幕左侧工具栏部分的 `Balance` 意图。**编辑器** 屏幕还包含许多用于定义和自定义新意图的字段。
- en: 'The first thing to do is to fill in some `Sample utterances` to train the NLU
    system behind Lex to recognize the utterances you will provide to the bot as signals
    from the user for the `Balance` intent:![Figure 5.63: Creation of the new intent'
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首件事是填写一些 `示例语句` 以训练 Lex 背后的 NLU 系统，以便识别你提供给机器人的语句作为用户对 `Balance` 意图的信号：![图 5.63：创建新意图
- en: '](img/B16061_05_63.jpg)'
  id: totrans-393
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_63.jpg)'
- en: 'Figure 5.63: Creation of the new intent'
  id: totrans-394
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.63：创建新意图
- en: 'After entering some sample utterances, you click on the `Build` button near
    the top of the page in order to kick off the training process for the bot:![Figure
    5.64: Building the bot'
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输入一些示例语句后，你点击页面顶部的 `构建` 按钮以启动机器人的训练过程：![图 5.64：构建机器人
- en: '](img/B16061_05_64.jpg)'
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_64.jpg)'
- en: 'Figure 5.64: Building the bot'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.64：构建机器人
- en: 'There will be a follow-up dialog box with another `Build` button, which you
    should also click on:![Figure 5.65: Build confirmation'
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将会出现一个带有另一个 `构建` 按钮的后续对话框，你也应该点击它：![图 5.65：构建确认
- en: '](img/B16061_05_65.jpg)'
  id: totrans-399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_65.jpg)'
- en: 'Figure 5.65: Build confirmation'
  id: totrans-400
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.65：构建确认
- en: 'After this, you should wait until you see the `GetBalance build was successful`
    message box. It might take between a few seconds and a couple of minutes:![Figure
    5.66: Bot build is successful'
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此之后，你应该等待，直到你看到 `GetBalance 构建成功` 消息框。这可能需要几秒钟到几分钟：![图 5.66：机器人构建成功
- en: '](img/B16061_05_66.jpg)'
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_66.jpg)'
- en: 'Figure 5.66: Bot build is successful'
  id: totrans-403
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.66：机器人构建成功
- en: You can test your new intent within the bot in the `Test bot` pane, in the top-right
    corner of the screen.
  id: totrans-404
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你可以在屏幕右上角的 `测试机器人` 窗格中测试你的新意图，在机器人内部。
- en: Note
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: If the `Test bot` pane is not visible, you may have to click on the arrow button
    in order to expand it and make it visible.
  id: totrans-406
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果 `测试机器人` 窗格不可见，你可能需要点击箭头按钮以展开它并使其可见。
- en: 'Type utterances into the pane to verify that the bot is able to recognize the
    correct intent from the utterances:'
  id: totrans-407
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在窗格中输入语句以验证机器人能否从语句中识别出正确的意图：
- en: '![Figure 5.67: Test bot pane'
  id: totrans-408
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.67：测试机器人窗格'
- en: '](img/B16061_05_67.jpg)'
  id: totrans-409
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_67.jpg)'
- en: 'Figure 5.67: Test bot pane'
  id: totrans-410
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.67：测试机器人窗格
- en: 'You know that it has recognized the intent correctly when it returns the response:
    `Intent Balance is` `ReadyForFulfillment`. Feel free to experiment with different
    utterances, based on your sample utterances, in order to verify that the NLU engine
    is working correctly.'
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当它返回响应：“意图 Balance 是 `ReadyForFulfillment`”时，你就知道它已经正确识别了意图。请随意根据你的示例语句进行实验，以验证
    NLU 引擎是否正常工作。
- en: At this point, your bot does not do much, other than try to recognize the `Balance`
    intent and flag that it is ready for fulfillment.
  id: totrans-412
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这个阶段，你的机器人几乎不做任何事情，除了尝试识别 `Balance` 意图并标记它已准备好执行。
- en: 'Let''s now connect our Lambda function and see whether it works. Select `AWS
    Lambda function` in `Fulfillment` and then select the `fetch_balance` Lambda function:![Figure
    5.68: Lambda initiation'
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们现在连接我们的 Lambda 函数并查看它是否工作。在 `执行` 中选择 `AWS Lambda 函数`，然后选择 `fetch_balance`
    Lambda 函数：![图 5.68：Lambda 启动
- en: '](img/B16061_05_68.jpg)'
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_68.jpg)'
- en: 'Figure 5.68: Lambda initiation'
  id: totrans-415
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.68：Lambda 启动
- en: 'Click `Build` and then test again. Now it should show the balance:![Figure
    5.69: Testing the Lambda function'
  id: totrans-416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 `构建` 并再次测试。现在应该会显示余额：![图 5.69：测试 Lambda 函数
- en: '](img/B16061_05_69.jpg)'
  id: totrans-417
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_69.jpg)'
- en: 'Figure 5.69: Testing the Lambda function'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.69：测试 Lambda 函数
- en: We are making good progress.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在取得良好的进展。
- en: '**Step 4: Connecting the Amazon Connect call center to the GetBalance bot**'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: '**步骤 4：将 Amazon Connect 呼叫中心连接到 GetBalance 机器人**'
- en: We will extend the call center created in `Exercise 5.01` to add this `GetBalance`
    feature.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将扩展在 `练习 5.01` 中创建的呼叫中心，以添加此 `GetBalance` 功能。
- en: 'From the `My Account` | `AWS Management Console`, go to `Services` | `Customer
    Engagement` | `Amazon Connect`. Select the instance you have created (`jarvis42`,
    in our case):![Figure 5.70: Amazon Connect contact flow configuration'
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 `我的账户` | `AWS 管理控制台`，转到 `服务` | `客户参与` | `Amazon Connect`。选择你创建的实例（在我们的例子中是
    `jarvis42`）：![图 5.70：Amazon Connect 联系流程配置
- en: '](img/B16061_05_70.jpg)'
  id: totrans-423
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B16061_05_70.jpg)'
- en: 'Figure 5.70: Amazon Connect contact flow configuration'
  id: totrans-424
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.70：Amazon Connect联系流程配置
- en: We have two ways to connect — via Amazon Lex or AWS Lambda. We will use Lex,
    but feel free to try out Lambda.
  id: totrans-425
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们有两种连接方式——通过Amazon Lex或AWS Lambda。我们将使用Lex，但您也可以自由尝试Lambda。
- en: 'Add the `GetBalance` bot:![Figure 5.71: Amazon Connect contact flows'
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加`GetBalance`机器人：![图5.71：Amazon Connect联系流程
- en: '](img/B16061_05_71.jpg)'
  id: totrans-427
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_71.jpg)'
- en: 'Figure 5.71: Amazon Connect contact flows'
  id: totrans-428
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.71：Amazon Connect联系流程
- en: 'The next step is to create a contact flow. Go to the Dashboard, click `View
    Contact Flows` and `Create Contact Flow` in the upper-right corner:'
  id: totrans-429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一步是创建一个联系流程。转到仪表板，点击右上角的`查看联系流程`和`创建联系流程`：
- en: 'Name it `GetBalance` and wire it as follows:![Figure 5.72: Contact flow editor—add
    entry point'
  id: totrans-430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其命名为`GetBalance`，并按照以下方式连接：![图5.72：联系流程编辑器—添加入口点
- en: '](img/B16061_05_72.jpg)'
  id: totrans-431
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_72.jpg)'
- en: 'Figure 5.72: Contact flow editor—add entry point'
  id: totrans-432
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.72：联系流程编辑器—添加入口点
- en: 'Add `Get customer input` and a friendly message:![Figure 5.73: Get customer
    input details'
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加`获取客户输入`和一条友好的消息：![图5.73：获取客户输入详情
- en: '](img/B16061_05_73.jpg)'
  id: totrans-434
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_73.jpg)'
- en: 'Figure 5.73: Get customer input details'
  id: totrans-435
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.73：获取客户输入详情
- en: 'Connect it to our `GetBalance` Lex bot and the `Balance` intent:![Figure 5.74:
    Get customer input configurations'
  id: totrans-436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其连接到我们的`GetBalance` Lex机器人和`Balance`意图：![图5.74：获取客户输入配置
- en: '](img/B16061_05_74.jpg)'
  id: totrans-437
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_74.jpg)'
- en: 'Figure 5.74: Get customer input configurations'
  id: totrans-438
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.74：获取客户输入配置
- en: 'Then, connect all of them to hang up for now. It is a simple sequence. You
    can experiment with various flows:'
  id: totrans-439
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后，暂时将所有这些连接到挂断。这是一个简单的序列。您可以尝试各种流程：
- en: '![Figure 5.75: Add a hang up flow'
  id: totrans-440
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图5.75：添加挂断流程'
- en: '](img/B16061_05_75.jpg)'
  id: totrans-441
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_75.jpg)'
- en: 'Figure 5.75: Add a hang up flow'
  id: totrans-442
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.75：添加挂断流程
- en: Now that we have created another contact flow, let's rewire our phone number
    to answer this.
  id: totrans-443
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在我们已经创建了另一个联系流程，让我们重新连接我们的电话号码来回答这个问题。
- en: 'Go to `Overview` and click on `Login URL` and then enter your Amazon Connect
    credentials:![Figure 5.76: Overview screen'
  id: totrans-444
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往`概览`，点击`登录URL`，然后输入您的Amazon Connect凭据：![图5.76：概览屏幕
- en: '](img/B16061_05_76.jpg)'
  id: totrans-445
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_76.jpg)'
- en: 'Figure 5.76: Overview screen'
  id: totrans-446
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.76：概览屏幕
- en: 'Click on `Routing` and `Phone numbers`:![Figure 5.77: Selecting the phone numbers'
  id: totrans-447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`路由`和`电话号码`：![图5.77：选择电话号码
- en: '](img/B16061_05_77.jpg)'
  id: totrans-448
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_77.jpg)'
- en: 'Figure 5.77: Selecting the phone numbers'
  id: totrans-449
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.77：选择电话号码
- en: 'Click on the phone number:![Figure 5.78: Manage Phone numbers screen'
  id: totrans-450
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击电话号码：![图5.78：管理电话号码屏幕
- en: '](img/B16061_05_78.jpg)'
  id: totrans-451
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_78.jpg)'
- en: 'Figure 5.78: Manage Phone numbers screen'
  id: totrans-452
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.78：管理电话号码屏幕
- en: 'Select `GetBalance` from the drop-down list for `Contact flow/IVR`:![Figure
    5.79: Add GetBalance to the phone number'
  id: totrans-453
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉列表中选择`GetBalance`用于`Contact flow/IVR`：![图5.79：将GetBalance添加到电话号码
- en: '](img/B16061_05_79.jpg)'
  id: totrans-454
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_05_79.jpg)'
- en: 'Figure 5.79: Add GetBalance to the phone number'
  id: totrans-455
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.79：将GetBalance添加到电话号码
- en: Click `Save`. Now you have wired your bot to a call center.
  id: totrans-456
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`保存`。现在您已经将机器人连接到了呼叫中心。
- en: 'Call the number. It will ask you `How may I help you?` You can say `How much
    money do I have?` and it will reply `You have 42.0!` Amazon has done a good job:
    when we activated the bot via the keyboard from the test console, it gave us a
    text message back. However, when we called it via Connect, it gave us a voice
    answer back.'
  id: totrans-457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 拨打电话。它会问您`我能帮您什么忙？`您可以说`我有多少钱？`然后它会回答`您有42.0！`亚马逊做得很好：当我们通过测试控制台从键盘激活机器人时，它给我们发回了文本消息。然而，当我们通过Connect拨打时，它给我们的是语音回答。
- en: This is a good time to play around with different questions and even different
    people—your friends, your spouse, and others. With relatively very little work,
    the voice bot will understand what they are saying and answer this simple question.
    You can try different prompts, maybe even add a dollar sign and see whether it
    says it the right way.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 这是个好时机，可以尝试不同的问题，甚至不同的人——您的朋友、您的配偶和其他人。通过相对较少的工作，语音机器人将能够理解他们在说什么，并回答这个简单的问题。您可以尝试不同的提示，也许甚至添加一个美元符号，看看它是否正确地说出来。
- en: 6\. Computer Vision and Image Processing
  id: totrans-459
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6. 计算机视觉和图像处理
- en: 'Activity 6.01: Creating and Analyzing Different Faces in Rekognition'
  id: totrans-460
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 活动第6.01节：在Rekognition中创建和分析不同的面部
- en: '**Solution**:'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: '**解决方案**:'
- en: Navigate to the Amazon Rekognition service from the Amazon Management Console
    and choose `Face comparison` from the left toolbar.
  id: totrans-462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从亚马逊管理控制台导航到亚马逊Rekognition服务，并在左侧工具栏中选择`面部比较`。
- en: 'Upload the first set of images to Rekognition so that it can recognize and
    compare the faces, that is, [https://packt.live/31X6IP6](https://packt.live/31X6IP6)
    and [https://packt.live/2ZLseUd](https://packt.live/2ZLseUd):![Figure 6.56: The
    first images provided for face comparison'
  id: totrans-463
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将第一组图像上传到 Rekognition 以便它可以识别和比较人脸，即[https://packt.live/31X6IP6](https://packt.live/31X6IP6)
    和 [https://packt.live/2ZLseUd](https://packt.live/2ZLseUd)：![图 6.56：用于人脸比较的第一组图像
- en: '](img/B16061_06_56.jpg)'
  id: totrans-464
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_06_56.jpg)'
- en: 'Figure 6.56: The first images provided for face comparison'
  id: totrans-465
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 6.56：用于人脸比较的第一组图像
- en: 'Rekognition can recognize that the faces are of the same person with a `99.1`%
    degree of confidence, even with different angles, lighting, and shades:'
  id: totrans-466
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 即使在不同角度、光照和色调下，Rekognition 也能以 `99.1`% 的置信度识别出这些人脸是同一个人：
- en: '![Figure 6.57: Results for the first images provided for face comparison'
  id: totrans-467
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 6.57：用于人脸比较的第一组图像的结果'
- en: '](img/B16061_06_57.jpg)'
  id: totrans-468
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B16061_06_57.jpg)'
- en: 'Figure 6.57: Results for the first images provided for face comparison'
  id: totrans-469
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 6.57：用于人脸比较的第一组图像的结果
- en: '**Additional Challenge**'
  id: totrans-470
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**额外挑战**'
- en: 'The second set of images are [https://images.unsplash.com/photo-1526510747491-58f928ec870f](https://images.unsplash.com/photo-1526510747491-58f928ec870f)
    and [https://images.unsplash.com/photo-1529946179074-87642f6204d7](https://images.unsplash.com/photo-1529946179074-87642f6204d7):'
  id: totrans-471
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第二组图像是 [https://images.unsplash.com/photo-1526510747491-58f928ec870f](https://images.unsplash.com/photo-1526510747491-58f928ec870f)
    和 [https://images.unsplash.com/photo-1529946179074-87642f6204d7](https://images.unsplash.com/photo-1529946179074-87642f6204d7)：
- en: '![Figure 6.58: The second images provided for face comparison'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.58：用于人脸比较的第二组图像'
- en: '](img/B16061_06_58.jpg)'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16061_06_58.jpg)'
- en: 'Figure 6.58: The second images provided for face comparison'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.58：用于人脸比较的第二组图像
- en: 'Once again, Rekognition recognizes the faces with a 99.4% degree of confidence,
    even at different angles:'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: 再次证明，Rekognition 以 99.4% 的置信度识别出人脸，即使在不同的角度下：
- en: '![Figure 6.59: Results for the second images provided for face comparison'
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.59：用于人脸比较的第二组图像的结果'
- en: '](img/B16061_06_59.jpg)'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16061_06_59.jpg)'
- en: 'Figure 6.59: Results for the second images provided for face comparison'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.59：用于人脸比较的第二组图像的结果
- en: With those impressive results, we conclude this activity.
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: 在那些令人印象深刻的成果基础上，我们得出这个活动的结论。
