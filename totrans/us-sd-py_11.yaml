- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Image Restore and Super-Resolution
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 图像恢复和超分辨率
- en: While both Stable Diffusion V1.5 and Stable Diffusion XL have demonstrated abilities
    in generating images, our initial creations might not yet exhibit their utmost
    quality. This chapter aims to explore various techniques and strategies that can
    elevate image restoration, amplify image resolution, and introduce intricate details
    to produced visuals.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然稳定扩散V1.5和稳定扩散XL都展示了生成图像的能力，但我们的初始创作可能尚未展现出它们的最优质量。本章旨在探索各种技术和策略，以提高图像恢复、增强图像分辨率并向生成的视觉作品中引入复杂细节。
- en: The primary focus of this chapter lies in leveraging the potential of Stable
    Diffusion as an effective tool to enhance and upscale images. Furthermore, we
    will briefly introduce you to complementary cutting-edge **Artificial Intelligence**
    (**AI**) methodologies to boost image resolutions, which are distinct from diffusion-based
    processes.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的主要重点是利用稳定扩散作为有效工具来增强和提升图像的潜力。此外，我们将简要介绍一些互补的尖端**人工智能**（**AI**）方法，以提升图像分辨率，这些方法与基于扩散的过程不同。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Understanding the terminologies
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解术语
- en: Upscaling images using an image-to-image diffusion pipeline
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用图像到图像扩散管道提升图像
- en: Upscaling images using ControlNet Tile
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用ControlNet Tile提升图像
- en: Let’s start!
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧！
- en: Understanding the terminologies
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解术语
- en: 'Before we begin using Stable Diffusion to enhance image quality, it is beneficial
    to understand the common terminologies associated with this process. Three related
    terms you may encounter in articles or books on Stable Diffusion are **image interpolation**,
    **image upscale**, and **image super-resolution**. These techniques aim to improve
    the resolution of an image, but they differ in their methods and outcomes. Familiarizing
    yourself with these terms will help you better understand how Stable Diffusion
    and other image enhancement tools work:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始使用稳定扩散来提升图像质量之前，了解与此过程相关的常见术语是有益的。在关于稳定扩散的文章或书籍中，你可能会遇到三个相关术语：**图像插值**、**图像上采样**和**图像超分辨率**。这些技术旨在提高图像的分辨率，但它们在方法和结果上有所不同。熟悉这些术语将帮助你更好地理解稳定扩散和其他图像增强工具的工作原理：
- en: '**Image interpolation** stands out as the simplest and most prevalent method
    to upscale images. It functions by approximating new pixel values based on the
    existing pixels within an image. Various interpolation methods exist, each with
    its strengths and weaknesses. Some of the most commonly used interpolation methods
    include nearest-neighbor interpolation [6], bilinear interpolation [7], bicubic
    interpolation [8], and Lanczos resampling [9].'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像插值**是提升图像最简单且最普遍的方法。它通过基于图像中现有像素来近似新的像素值来实现。存在多种插值方法，每种方法都有其优势和劣势。最常用的插值方法包括最近邻插值[6]、双线性插值[7]、双三次插值[8]和Lanczos重采样[9]。'
- en: '**Image upscale** is a broader term encompassing any technique that augments
    an image’s resolution. This category includes interpolation methods, as well as
    more sophisticated approaches such as super-resolution.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像上采样**是一个更广泛的术语，包括任何增强图像分辨率的技巧。这个类别包括插值方法，以及更复杂的方法，如超分辨率。'
- en: '**Image super-resolution** represents a specific subset of image upscaling
    aimed at enhancing an image’s resolution and finer details beyond its original
    dimensions while minimizing quality loss and preventing artifacts. In contrast
    to conventional image upscaling methods, which rely on basic interpolation, image
    super-resolution employs advanced algorithms, often based on deep learning techniques.
    These algorithms learn high-frequency patterns and details from a dataset of high-resolution
    images. Subsequently, these learned patterns are employed to upscale low-resolution
    images, producing superior-quality results.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像超分辨率**代表一种特定的图像上采样子集，旨在在不增加原始尺寸的情况下提高图像的分辨率和更精细的细节，同时最小化质量损失并防止出现伪影。与依赖于基本插值的传统图像上采样方法不同，图像超分辨率采用先进的算法，通常基于深度学习技术。这些算法从高分辨率图像数据集中学习高频模式和细节。随后，这些学习到的模式被用于提升低分辨率图像，产生高质量的成果。'
- en: A solution to the aforementioned tasks (image interpolation, image upscale,
    and image super-resolution) is commonly referred to as an **upscaler** or a **high-res
    fixer**. We will use the term *upscaler* throughout the chapter.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 解决上述任务（图像插值、图像上采样和图像超分辨率）的解决方案通常被称为**上采样器**或**高分辨率修复器**。在本章中，我们将使用术语*upscaler*。
- en: 'Among the deep learning-based solutions for super-resolution, various types
    of upscalers exist. Super-resolution solutions can be broadly classified into
    three types:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在基于深度学习的超分辨率解决方案中，存在各种类型的上采样器。超分辨率解决方案可以大致分为三种类型：
- en: GAN-based solutions such as ESRGAN [10]
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于 GAN 的解决方案，例如 ESRGAN [10]
- en: Swin Transformer-based solutions such as SwinIR [11],
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于 Swin Transformer 的解决方案，例如 SwinIR [11]，
- en: Stable Diffusion-based solutions
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于 Stable Diffusion 的解决方案
- en: In this chapter, our primary focus will be on the Stable Diffusion upscaler.
    This choice is driven not only by the book’s emphasis on the diffusion model but
    also by the potential of Stable Diffusion to provide enhanced upscale results
    and superior control flexibility. For instance, it allows us to direct the super-resolution
    process with prompts and fill in additional details. We will implement this using
    Python code in the latter part of this chapter.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们的主要关注点将是 Stable Diffusion 上采样器。这一选择不仅受到本书对扩散模型的强调，还受到 Stable Diffusion
    提供增强上采样结果和优越控制灵活性的潜力驱动。例如，它允许我们通过提示来指导超分辨率过程并填充额外的细节。我们将在本章的后半部分使用 Python 代码实现这一点。
- en: You might be eager to start utilizing the Latent Upscaler and Stable Diffusion
    Upscale pipeline [1] from Diffusers. However, it’s worth noting that the current
    Latent Upscaler and Upscale pipeline are not optimal. Both rely heavily on a specific
    pre-trained model, consume a substantial amount of VRAM, and exhibit relatively
    slower performance.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能急于开始使用来自 Diffusers 的 Latent Upscaler 和 Stable Diffusion Upscale 管道 [1]。然而，值得注意的是，当前的
    Latent Upscaler 和 Upscale 管道并非最优。两者都严重依赖于特定的预训练模型，消耗大量的 VRAM，并且表现出相对较慢的性能。
- en: 'This chapter will introduce two alternative solutions based on the Stable Diffusion
    approach:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将介绍基于 Stable Diffusion 方法两种替代解决方案：
- en: '`StableDiffusionPipeline` class. It also retains support for lengthy prompts
    and incorporates Textual Inversion, as introduced in previous chapters.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`StableDiffusionPipeline` 类。它还保留了支持长提示并引入了在前面章节中介绍过的文本反转。'
- en: '`ControlNet` model, it becomes possible to achieve image super-resolution with
    remarkable enhancements in detail.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ControlNet` 模型，这使得通过显著增强细节来实现图像超分辨率成为可能。'
- en: With this background, let’s delve into the intricate details of these two super-resolution
    methods.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个背景下，让我们深入了解这两种超分辨率方法的复杂细节。
- en: Upscaling images using Img2img diffusion
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Img2img 扩散进行图像上采样
- en: As we discussed in [*Chapter 5*](B21263_05.xhtml#_idTextAnchor097), Stable Diffusion
    doesn’t solely rely on text as its initial guidance; it is also capable of utilizing
    an image as the starting point. We implemented a custom pipeline that employs
    an image as the foundation for image generation.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在[*第五章*](B21263_05.xhtml#_idTextAnchor097)中讨论的那样，Stable Diffusion 并不仅仅依赖于文本作为其初始指导；它还能够利用图像作为起点。我们实现了一个自定义的管道，该管道以图像作为图像生成的基石。
- en: By reducing the denoising strength to a certain threshold, such as `0.3`, the
    features and style of the initial image persist in the final generated image.
    This property can be exploited to employ Stable Diffusion as an image upscaler,
    thereby enabling image super-resolution. Let’s explore this process step by step.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将去噪强度降低到某个阈值，例如 `0.3`，初始图像的特征和风格将保留在最终生成的图像中。这一特性可以用来将 Stable Diffusion 作为图像上采样器，从而实现图像超分辨率。让我们一步一步地探索这个过程。
- en: We will begin by introducing the concept of one-step super-resolution, followed
    by an exploration of multiple-step super-resolution.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先介绍一步超分辨率的概念，然后探讨多步超分辨率。
- en: One-step super-resolution
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一步超分辨率
- en: 'In this section, we will cover a solution to upscale images using image-to-image
    diffusion once. Here are the step-by-step instructions to implement it:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将介绍一种使用图像到图像扩散一次上采样图像的解决方案。以下是实现它的步骤指南：
- en: 'Let’s start by generating a 256x256 start image using Stable Diffusion. Instead
    of downloading an image from the internet or utilizing an external image as the
    input, let’s leverage Stable Diffusion to generate one. After all, this is the
    area where Stable Diffusion excels:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们首先使用Stable Diffusion生成一个256x256的起始图像。而不是从互联网下载图像或使用外部图像作为输入，让我们利用Stable Diffusion生成一个。毕竟，这是Stable
    Diffusion擅长的领域：
- en: '[PRE0]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[PRE3]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '[PRE10]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[PRE11]'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[PRE12]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[PRE14]'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[PRE15]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The preceding code will generate an image, as shown in *Figure 11**.1*:'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 前面的代码将生成如图*图11**.1*所示的图像：
- en: '![Figure 11.1: A photo of a woman’s face sized 256x256, generated by Stable
    Diffusion](img/B21263_11_01.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![图11.1：由Stable Diffusion生成的256x256大小的女性面部照片](img/B21263_11_01.jpg)'
- en: 'Figure 11.1: A photo of a woman’s face sized 256x256, generated by Stable Diffusion'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.1：由Stable Diffusion生成的256x256大小的女性面部照片
- en: You may not be able to see the noise and blur in the image if you view it in
    a printed form (e.g., a paper book). However, if you run the preceding code and
    enlarge the image, you can easily notice the *blur* and *noise* in the generated
    image.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你以打印形式（例如，一本书）查看图像，可能看不到图像中的噪声和模糊。然而，如果你运行前面的代码并放大图像，你很容易注意到生成的图像中的*模糊*和*噪声*。
- en: 'Let’s save the image for further processing:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存图像以进行进一步处理：
- en: '[PRE16]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Resize the image to the target size. Initially, we need to establish a function
    for image adjustment, ensuring that the image’s width and height are both divisible
    by `8`:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将图像调整到目标大小。最初，我们需要建立一个图像调整函数，确保图像的宽度和高度都能被`8`整除：
- en: '[PRE17]'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '[PRE18]'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '[PRE19]'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '[PRE20]'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Next, resize it to the target size using image interpolation:'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来，使用图像插值将其调整到目标大小：
- en: '[PRE21]'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '[PRE22]'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '[PRE23]'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '[PRE24]'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '[PRE25]'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '[PRE26]'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '[PRE27]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '[PRE28]'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '[PRE29]'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '[PRE30]'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '[PRE31]'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '[PRE32]'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '[PRE33]'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '[PRE34]'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '[PRE35]'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '[PRE36]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The following code employs the `resize_img` function to resize an image threefold:'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下代码使用`resize_img`函数将图像放大三倍：
- en: '[PRE37]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Feel free to input any floating-point number greater than `1.0` into the function.
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你可以将任何大于`1.0`的浮点数输入到函数中。
- en: 'Create an img-to-img pipeline as the upscaler. To enable guided image super-resolution,
    we need to provide a guided prompt, as shown here:'
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个img-to-img管道作为上采样器。为了启用引导图像超分辨率，我们需要提供一个引导提示，如下所示：
- en: '[PRE38]'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '[PRE39]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '[PRE40]'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '[PRE41]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '[PRE42]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '[PRE43]'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '`sr_prompt` means **super-resolution prompt** and can be resused without changing
    the same for any super-resolution tasks. Next, call the pipeline to upscale the
    image:'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`sr_prompt`表示**超分辨率提示**，可以在任何超分辨率任务中重用，无需更改。接下来，调用管道以提升图像：'
- en: '[PRE44]'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '[PRE45]'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '[PRE46]'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '[PRE47]'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '[PRE48]'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '[PRE49]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '[PRE50]'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: '[PRE51]'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '[PRE52]'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: '[PRE53]'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: '[PRE54]'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '[PRE55]'
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Note that the `strength` parameter is set to `0.3`, meaning that each denoising
    step applies 30% Gaussian noise to the latent. When utilizing the plain text-to-image
    pipeline, the strength is set to `1.0` by default. By increasing the `strength`
    value here, more `new` elements will be introduced to the initial image. From
    my testing, `0.3` seems to strike a well-balanced point. However, you have the
    flexibility to adjust it to values such as `0.25` or elevate it to `0.4`.
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，`strength`参数设置为`0.3`，这意味着每个去噪步骤将对潜在图像应用30%的高斯噪声。当使用纯文本到图像的管道时，默认将强度设置为`1.0`。通过增加这里的`strength`值，将向初始图像引入更多的`新`元素。根据我的测试，`0.3`似乎是一个很好的平衡点。然而，你可以将其调整为`0.25`或提高到`0.4`。
- en: For an img-to-img pipeline from Diffusers, the actual denoising steps will be
    a multiplication of `num_inference_steps` by `strength`. The total denoising steps
    will be 80 × 0.3 = 24\. This is not a rule enforced by Stable Diffusion; it is
    sourced from the implementation of Diffusers’ Stable Diffusion pipeline.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Diffusers的img-to-img管道，实际的去噪步骤将是`num_inference_steps`乘以`strength`。总去噪步骤将是80
    × 0.3 = 24。这不是Stable Diffusion强制执行的规则；它来自Diffusers的Stable Diffusion管道的实现。
- en: As explained in [*Chapter 3*](B21263_03.xhtml#_idTextAnchor064), the `guidance_scale`
    parameter governs how closely the result aligns with the provided `prompt` and
    `neg_prompt`. In practice, a higher `guidance_scale` will yield a slightly clearer
    image but may also alter the image elements more, while a lower `guidance_scale`
    will lead to a more blurred image while preserving more original image elements.
    If you’re uncertain about the value, opt for something between 7 and 8.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如[*第3章*](B21263_03.xhtml#_idTextAnchor064)所述，`guidance_scale`参数控制结果与提供的`prompt`和`neg_prompt`的匹配程度。在实践中，较高的`guidance_scale`会产生稍微清晰一些的图像，但可能会更多地改变图像元素，而较低的`guidance_scale`会导致图像更加模糊，同时保留更多原始图像元素。如果你不确定值，可以选择介于7到8之间的某个值。
- en: Once you run the preceding code, you’ll observe that not only does the size
    of the original image upscale to 768x768 but the image quality also experiences
    a significant enhancement.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦运行前面的代码，你会观察到原始图像的大小不仅升级到768x768，图像质量也经历了显著的提升。
- en: However, this is not the end; we can reuse the preceding process to further
    improve image resolution and quality.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这并不是终点；我们可以重用前面的过程来进一步提高图像分辨率和质量。
- en: 'Let’s save the image for further usage:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们保存图像以供进一步使用：
- en: '[PRE56]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Next, let’s upscale the image using multiple image-to-image steps.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们使用多图像到图像步骤来提高图像分辨率。
- en: Multiple-step super-resolution
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 多步超分辨率
- en: Using the one-step resolution, the code upscales the image from 256x256 to 768x768\.
    In this section, we’re taking the process a step further by increasing the image
    size to double its current dimensions.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 使用一步分辨率，代码将图像从 256x256 超分辨率到 768x768。在本节中，我们将过程进一步推进，将图像大小增加到当前尺寸的两倍。
- en: Note that before progressing to an even higher resolution image, you need to
    ensure that the utilization of VRAM might necessitate more than 8 GB.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在进步到更高分辨率的图像之前，您需要确保 VRAM 的使用可能需要超过 8 GB。
- en: 'We will primarily be reusing the code from the one-step super-resolution process:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将主要重用一步超分辨率过程中的代码：
- en: 'Double the size of the image:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将图像大小加倍：
- en: '[PRE57]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: '[PRE58]'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'Further image super-resolution code can be applied to increase the resolution
    of an image by six times (256x256 to 1,536x1,536), which can significantly enhance
    the clarity and details of the image:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进一步的图像超分辨率代码可以将图像分辨率提高六倍（256x256 到 1,536x1,536），这可以显著提高图像的清晰度和细节：
- en: '[PRE59]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '[PRE60]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '[PRE61]'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: '[PRE62]'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '[PRE63]'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '[PRE64]'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '[PRE65]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '[PRE66]'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: '[PRE67]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '[PRE68]'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: '[PRE69]'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE69]'
- en: '[PRE70]'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE70]'
- en: '[PRE71]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE71]'
- en: '[PRE72]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE72]'
- en: '[PRE73]'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '[PRE74]'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE74]'
- en: The preceding code will produce an image that is six times the size of the original,
    greatly enhancing its quality.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码将生成一个比原始图像大六倍的图像，极大地提高了其质量。
- en: A super-resolution result comparison
  id: totrans-132
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 超分辨率结果比较
- en: Now, let’s examine the six-times-upscaled image and compare it with the original
    image to see how much the image quality has improved.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们检查六倍超分辨率图像，并将其与原始图像进行比较，以查看图像质量提高了多少。
- en: '*Figure 11**.2* provides a side-by-side comparison of the original image and
    the six-times-upscaled super-resolution image:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '*图11.2* 提供了原始图像和六倍超分辨率图像的并排比较：'
- en: '![Figure 11.2: Left – the original raw image, and right – the image with the
    six-times-upscaled super-resolution](img/B21263_11_02.jpg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![图11.2：左 – 原始原始图像，右 – 六倍超分辨率图像](img/B21263_11_02.jpg)'
- en: 'Figure 11.2: Left – the original raw image, and right – the image with the
    six-times-upscaled super-resolution'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.2：左 – 原始原始图像，右 – 六倍超分辨率图像
- en: 'Kindly check out the ebook version to easily discern the finer enhancements.
    *Figure 11**.3* provides a clear depiction of the improvements in the mouth area:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 请查看电子书版本，以便轻松辨别更细微的改进。*图11.3* 清晰地展示了嘴巴区域的改进：
- en: '![Figure 11.3: Left – the mouth from the original raw image, and right – the
    mouth from the image with six-times-upscaled super-resolution](img/B21263_11_03.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图11.3：左 – 原始原始图像中的嘴巴，右 – 六倍超分辨率图像中的嘴巴](img/B21263_11_03.jpg)'
- en: 'Figure 11.3: Left – the mouth from the original raw image, and right – the
    mouth from the image with six-times-upscaled super-resolution'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.3：左 – 原始原始图像中的嘴巴，右 – 六倍超分辨率图像中的嘴巴
- en: '*Figure 11**.4* shows the improvements to the eyes:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '*图11.4* 展示了眼睛的改进：'
- en: '![Figure 11.4: Above – the eyes from the original raw image, and below – the
    eyes from the image with six-times-upscaled super-resolution](img/B21263_11_04.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![图11.4：上方 – 原始原始图像中的眼睛，下方 – 六倍超分辨率图像中的眼睛](img/B21263_11_04.jpg)'
- en: 'Figure 11.4: Above – the eyes from the original raw image, and below – the
    eyes from the image with six-times-upscaled super-resolution'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.4：上方 – 原始原始图像中的眼睛，下方 – 六倍超分辨率图像中的眼睛
- en: Stable Diffusion enhances nearly every aspect of the image – from the eyebrows
    and eyelashes to the pupils – resulting in substantial improvements over the original
    raw image.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 稳定扩散增强了图像的几乎所有方面 – 从眉毛和睫毛到瞳孔 – 与原始原始图像相比，带来了显著的改进。
- en: Img-to-Img limitations
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Img-to-Img 限制
- en: The `deliberate-v2` Stable Diffusion model is a checkpoint model built on SD
    v1.5, and it’s trained using 512x512 images. As a result, the img-to-img pipeline
    inherits all the constraints of this model. When attempting to upscale an image
    from 1,024x1,024 to an even higher resolution, the model might not be as efficient
    as it is with lower-resolution images.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '`deliberate-v2` 稳定扩散模型是一个基于 SD v1.5 的检查点模型，它使用 512x512 的图像进行训练。因此，img-to-img
    管道继承了该模型的所有约束。当尝试将图像从 1,024x1,024 超分辨率到更高的分辨率时，该模型可能不如处理低分辨率图像时高效。'
- en: However, img-to-img is not the only available solution to generate exceptionally
    high-quality images. Next, we will explore another technique that can upscale
    images with even greater detail.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，img-to-img 并非生成高质量图像的唯一解决方案。接下来，我们将探讨另一种可以以更高细节提升图像的技术。
- en: ControlNet Tile image upscaling
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ControlNet Tile 图像提升
- en: Stable Diffusion ControlNet is a neural network architecture designed to enhance
    diffusion models through the incorporation of additional conditions. The concept
    behind this model stems from a paper titled *Adding Conditional Control to Text-to-Image
    Diffusion Models* [3], authored by Lvmin Zhang and Maneesh Agrawala in 2023\.
    For more details about ControlNet, refer to [*Chapter 13*](B21263_13.xhtml#_idTextAnchor257).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: Stable Diffusion ControlNet 是一种神经网络架构，通过引入额外的条件来增强扩散模型。这个模型背后的概念源于一篇题为 *Adding
    Conditional Control to Text-to-Image Diffusion Models* [3] 的论文，由 Zhang Lvmin 和
    Maneesh Agrawala 在 2023 年撰写。有关 ControlNet 的更多详细信息，请参阅[*第 13 章*](B21263_13.xhtml#_idTextAnchor257)。
- en: ControlNet bears similarities to the image-to-image Stable Diffusion pipeline
    but boasts significantly greater potency.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: ControlNet 与图像到图像的 Stable Diffusion 流水线相似，但具有显著更强的功能。
- en: When utilizing the img2img pipeline, we input the initial image, along with
    conditional text, to generate an image similar to the starting guidance image.
    In contrast, ControlNet employs one or more supplementary UNet models that work
    alongside the Stable Diffusion model. These UNet models process both the input
    prompt and the image concurrently, with results being merged back in each step
    of the UNet up-stage. A comprehensive exploration of ControlNet is provided in
    [*Chapter 13*](B21263_13.xhtml#_idTextAnchor257).
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 img2img 流水线时，我们输入初始图像以及条件文本，以生成与起始引导图像相似的画面。相比之下，ControlNet 使用一个或多个辅助 UNet
    模型，这些模型与 Stable Diffusion 模型协同工作。这些 UNet 模型同时处理输入提示和图像，并在 UNet 上一个阶段中的每个步骤将结果合并。ControlNet
    的全面探索可以在[*第 13 章*](B21263_13.xhtml#_idTextAnchor257)中找到。
- en: Compared with the image-to-image pipeline, ControlNet yields superior outcomes.
    Among the ControlNet models, ControlNet Tile stands out for its ability to upscale
    images by introducing substantial detail information to the original image.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 与图像到图像的流水线相比，ControlNet 产生了更优越的结果。在 ControlNet 模型中，ControlNet Tile 因其能够通过向原始图像引入大量细节信息来提升图像的能力而脱颖而出。
- en: In the subsequent code, we will employ the latest ControlNet version, 1.1\.
    The authors of the paper and model affirm that they will maintain the architecture
    consistently up until ControlNet V1.5\. At the time of reading, the most recent
    ControlNet iteration might surpass v1.1\. There’s a likelihood that you can repurpose
    the v1.1 code for later versions of ControlNet.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在后续的代码中，我们将使用最新的 ControlNet 版本，1.1。论文和模型的作者确认，他们将保持架构的一致性，直到 ControlNet V1.5。在阅读时，最新的
    ControlNet 迭代可能超过 v1.1。有可能将 v1.1 的代码用于 ControlNet 的后续版本。
- en: Steps to use ControlNet Tile to upscale an image
  id: totrans-153
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 ControlNet Tile 提升图像的步骤
- en: 'Next, let’s use ControlNet Tile to upscale an image step by step:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们一步一步地使用 ControlNet Tile 来提升图像：
- en: 'Initialize ControlNet Tile model. The following code will start a ControlNet
    v1.1 model. Note that when ControlNet starts from v1.1, the sub-type of ControlNet
    is specified by `subfolder = ''``control_v11f1e_sd15_tile''`:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始化 ControlNet Tile 模型。以下代码将启动一个 ControlNet v1.1 模型。请注意，当 ControlNet 从 v1.1
    开始时，ControlNet 的子类型由 `subfolder = 'control_v11f1e_sd15_tile'` 指定：
- en: '[PRE75]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: '[PRE76]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE76]'
- en: '[PRE77]'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE77]'
- en: '[PRE78]'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '[PRE79]'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE79]'
- en: '[PRE80]'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '[PRE81]'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE81]'
- en: We can’t simply use ControlNet itself to do anything; we will need to spin up
    a Stable Diffusion V1.5 pipeline to work together with the ControlNet model.
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们不能简单地使用 ControlNet 本身来做任何事情；我们需要启动一个 Stable Diffusion V1.5 流水线，以便与 ControlNet
    模型协同工作。
- en: 'Initialize a Stable Diffusion v1.5 model pipeline. The primary advantage of
    using ControlNet lies in its compatibility with any checkpoint model that has
    been fine-tuned from the Stable Diffusion base model. We will continue to use
    the Stable Diffusion V1.5-based model due to its outstanding quality and relatively
    low VRAM requirements. Given these attributes, Stable Diffusion v1.5 is expected
    to retain its relevance for a considerable period:'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始化一个 Stable Diffusion v1.5 模型流水线。使用 ControlNet 的主要优势在于其与任何从 Stable Diffusion
    基础模型微调过的检查点模型的兼容性。我们将继续使用基于 Stable Diffusion V1.5 的模型，因为它具有卓越的质量和相对较低的 VRAM 要求。鉴于这些属性，预计
    Stable Diffusion v1.5 将在相当长的一段时间内保持其相关性：
- en: '[PRE82]'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE82]'
- en: '[PRE83]'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE83]'
- en: '[PRE84]'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE84]'
- en: '[PRE85]'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE85]'
- en: '[PRE86]'
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE86]'
- en: '[PRE87]'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE87]'
- en: '[PRE88]'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE88]'
- en: '[PRE89]'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE89]'
- en: '[PRE90]'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE90]'
- en: In the provided code, we furnish `controlnet` which we initialized in *step
    1* as a parameter for the `StableDiffusionControlNetImg2ImgPipeline` pipeline.
    Additionally, the code closely resembles that of a standard Stable Diffusion pipeline.
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在提供的代码中，我们提供了 `controlnet`，这是我们按照 *步骤1* 初始化的，作为 `StableDiffusionControlNetImg2ImgPipeline`
    管道的参数。此外，代码与标准 Stable Diffusion 管道非常相似。
- en: 'Resize the image. This is the same step we took in the image-to-image pipeline;
    we need to enlarge the image to the target size:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整图像大小。这是我们在图像到图像管道中采取的相同步骤；我们需要将图像放大到目标大小：
- en: '[PRE91]'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE91]'
- en: '[PRE92]'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE92]'
- en: '[PRE93]'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE93]'
- en: '[PRE94]'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE94]'
- en: 'The preceding code upsizes the image three times using the `LANCZOS` interpolation:'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 之前的代码使用 `LANCZOS` 插值将图像放大三次：
- en: '[PRE95]'
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE95]'
- en: '[PRE96]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE96]'
- en: '[PRE97]'
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE97]'
- en: '[PRE98]'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE98]'
- en: '[PRE99]'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE99]'
- en: '[PRE100]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE100]'
- en: '[PRE101]'
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE101]'
- en: '[PRE102]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE102]'
- en: '[PRE103]'
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE103]'
- en: '[PRE104]'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE104]'
- en: '[PRE105]'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE105]'
- en: '[PRE106]'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE106]'
- en: '[PRE107]'
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE107]'
- en: '[PRE108]'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE108]'
- en: '[PRE109]'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '[PRE110]'
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE110]'
- en: '[PRE111]'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE111]'
- en: '[PRE112]'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE112]'
- en: '[PRE113]'
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE113]'
- en: '[PRE114]'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE114]'
- en: 'We reuse the positive prompt and negative prompt from the image-to-image upscaler.
    The distinctions are outlined here:'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们重用了图像到图像上采样器中的正提示和负提示。区别在此概述：
- en: We assign the raw upscaled image to both the initial diffusion image, denoted
    as `image = resized_raw_image`, and the ControlNet start image, marked as `control_image
    =` `resized_raw_image`.
  id: totrans-202
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将原始上采样图像分配给初始扩散图像，标记为 `image = resized_raw_image`，以及 ControlNet 起始图像，标记为 `control_image
    = resized_raw_image`。
- en: The strength is configured to `0.8` in order to leverage the influence of ControlNet
    on denoising, thereby enhancing the generation process.
  id: totrans-203
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了利用 ControlNet 对去噪的影响，从而增强生成过程，强度被配置为 `0.8`。
- en: Note that we can lower the strength parameter to preserve as much original image
    as possible.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们可以降低强度参数以尽可能保留原始图像。
- en: The ControlNet Tile upscaling result
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ControlNet Tile 上采样结果
- en: 'With just a single round of three-fold super-resolution, we can significantly
    enhance our image by introducing an abundance of intricate details:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 仅通过一轮三倍超分辨率，我们就可以通过引入大量复杂细节来显著提高我们的图像：
- en: '![Figure 11.5: Left – the original raw image, and right – the ControlNet Tile
    three-times-upscaled super-resolution](img/B21263_11_05.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![图11.5：左 – 原始原始图像，右 – ControlNet Tile 三倍上采样超分辨率](img/B21263_11_05.jpg)'
- en: 'Figure 11.5: Left – the original raw image, and right – the ControlNet Tile
    three-times-upscaled super-resolution'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.5：左 – 原始原始图像，右 – ControlNet Tile 三倍上采样超分辨率
- en: When compared to the image-to-image upscaler, ControlNet Tile incorporates even
    more details. Upon zooming into the image, you can observe the addition of individual
    hair strands, leading to an overall improvement in image quality.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 与图像到图像上采样器相比，ControlNet Tile 包含了更多的细节。在放大图像时，你可以观察到单个发丝的添加，从而整体提高了图像质量。
- en: To achieve a comparable outcome, the image-to-image approach would require multiple
    steps to upscale the image sixfold. In contrast, ControlNet Tile accomplishes
    the same outcome with a single round of threefold upscaling.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 为了达到类似的效果，图像到图像方法需要多个步骤将图像放大六倍。相比之下，ControlNet Tile 通过一轮三倍上采样就实现了相同的效果。
- en: Furthermore, ControlNet Tile offers the advantage of relatively lower VRAM usage
    compared to the image-to-image solution.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，与图像到图像解决方案相比，ControlNet Tile 提供了相对较低的 VRAM 使用优势。
- en: Additional ControlNet Tile upscaling samples
  id: totrans-212
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他 ControlNet Tile 上采样样本
- en: 'The ControlNet Tile super-resolution can produce remarkable results for a wide
    array of photos and images. Here are a few additional samples achieved by using
    just a few lines of code to generate, resize, and upscale images, capturing intricate
    details:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: ControlNet Tile 超分辨率可以为各种照片和图像产生显著的结果。以下是一些通过仅使用几行代码生成、调整大小和上采样图像，捕捉到复杂细节的额外样本：
- en: '**Man’s face**: The code to generate, resize, and upscale this image is as
    follows:'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**人脸**：生成、调整大小和上采样此图像的代码如下：'
- en: '[PRE115]'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE115]'
- en: '[PRE116]'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE116]'
- en: '[PRE117]'
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE117]'
- en: '[PRE118]'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE118]'
- en: '[PRE119]'
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE119]'
- en: '[PRE120]'
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE120]'
- en: '[PRE121]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE121]'
- en: '[PRE122]'
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE122]'
- en: '[PRE123]'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE123]'
- en: '[PRE124]'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE124]'
- en: '[PRE125]'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE125]'
- en: '[PRE126]'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE126]'
- en: '[PRE127]'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE127]'
- en: '[PRE128]'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE128]'
- en: '[PRE129]'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE129]'
- en: '[PRE130]'
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE130]'
- en: '[PRE131]'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE131]'
- en: '[PRE132]'
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE132]'
- en: '[PRE133]'
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE133]'
- en: '[PRE134]'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE134]'
- en: '[PRE135]'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE135]'
- en: '[PRE136]'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE136]'
- en: '[PRE137]'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE137]'
- en: '[PRE138]'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE138]'
- en: '[PRE139]'
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE139]'
- en: '[PRE140]'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE140]'
- en: '[PRE141]'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE141]'
- en: '[PRE142]'
  id: totrans-242
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE142]'
- en: '[PRE143]'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE143]'
- en: '[PRE144]'
  id: totrans-244
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE144]'
- en: '[PRE145]'
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE145]'
- en: '[PRE146]'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE146]'
- en: '[PRE147]'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE147]'
- en: '[PRE148]'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE148]'
- en: '[PRE149]'
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE149]'
- en: '[PRE150]'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE150]'
- en: '[PRE151]'
  id: totrans-251
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE151]'
- en: '[PRE152]'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE152]'
- en: 'The result is shown in *Figure 11**.6*:'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果在 *图11.6* 中展示：
- en: '![Figure 11.6: Left – the original raw image, and right – the ControlNet Tile
    three-times-upscaled super-resolution](img/B21263_11_06.jpg)'
  id: totrans-254
  prefs: []
  type: TYPE_IMG
  zh: '![图11.6：左 – 原始原始图像，右 – ControlNet Tile 三倍上采样超分辨率](img/B21263_11_06.jpg)'
- en: 'Figure 11.6: Left – the original raw image, and right – the ControlNet Tile
    three-times-upscaled super-resolution'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.6：左 – 原始原始图像，右 – ControlNet Tile 三倍上采样超分辨率
- en: '**Old man**: Here is the code to generate, resize, and upscale the image:'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**老人**：以下是生成、调整大小和上采样图像的代码：'
- en: '[PRE153]'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE153]'
- en: '[PRE154]'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE154]'
- en: '[PRE155]'
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE155]'
- en: '[PRE156]'
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE156]'
- en: '[PRE157]'
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE157]'
- en: '[PRE158]'
  id: totrans-262
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE158]'
- en: '[PRE159]'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE159]'
- en: '[PRE160]'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE160]'
- en: '[PRE161]'
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE161]'
- en: '[PRE162]'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE162]'
- en: '[PRE163]'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE163]'
- en: '[PRE164]'
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE164]'
- en: '[PRE165]'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE165]'
- en: '[PRE166]'
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE166]'
- en: '[PRE167]'
  id: totrans-271
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE167]'
- en: '[PRE168]'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE168]'
- en: '[PRE169]'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE169]'
- en: '[PRE170]'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE170]'
- en: '[PRE171]'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE171]'
- en: '[PRE172]'
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE172]'
- en: '[PRE173]'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE173]'
- en: '[PRE174]'
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE174]'
- en: '[PRE175]'
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE175]'
- en: '[PRE176]'
  id: totrans-280
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE176]'
- en: '[PRE177]'
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE177]'
- en: '[PRE178]'
  id: totrans-282
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE178]'
- en: '[PRE179]'
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE179]'
- en: '[PRE180]'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE180]'
- en: '[PRE181]'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE181]'
- en: '[PRE182]'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE182]'
- en: '[PRE183]'
  id: totrans-287
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE183]'
- en: '[PRE184]'
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE184]'
- en: '[PRE185]'
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE185]'
- en: '[PRE186]'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE186]'
- en: '[PRE187]'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE187]'
- en: '[PRE188]'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE188]'
- en: '[PRE189]'
  id: totrans-293
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE189]'
- en: 'The result is shown in *Figure 11**.7*:'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果在 *图11.7* 中展示：
- en: '![Figure 11.7: Left – the original raw image of the old man, and right – the
    ControlNet Tile four-times-upscaled super-resolution](img/B21263_11_07.jpg)'
  id: totrans-295
  prefs: []
  type: TYPE_IMG
  zh: '![图11.7：左 – 老人的原始原始图像，右 – ControlNet Tile 四倍上采样超分辨率](img/B21263_11_07.jpg)'
- en: 'Figure 11.7: Left – the original raw image of the old man, and right – the
    ControlNet Tile four-times-upscaled super-resolution'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.7：左 – 老人的原始图像，右 – ControlNet 瓦片四倍上采样超分辨率
- en: '**Royal female**: Here is the code to generate, resize, and upscale the image:'
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**皇家女性**：以下是生成、调整大小和上采样图像的代码：'
- en: '[PRE190]'
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE190]'
- en: '[PRE191]'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE191]'
- en: '[PRE192]'
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE192]'
- en: '[PRE193]'
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE193]'
- en: '[PRE194]'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE194]'
- en: '[PRE195]'
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE195]'
- en: '[PRE196]'
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE196]'
- en: '[PRE197]'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE197]'
- en: '[PRE198]'
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE198]'
- en: '[PRE199]'
  id: totrans-307
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE199]'
- en: '[PRE200]'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE200]'
- en: '[PRE201]'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE201]'
- en: '[PRE202]'
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE202]'
- en: '[PRE203]'
  id: totrans-311
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE203]'
- en: '[PRE204]'
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE204]'
- en: '[PRE205]'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE205]'
- en: '[PRE206]'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE206]'
- en: '[PRE207]'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE207]'
- en: '[PRE208]'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE208]'
- en: '[PRE209]'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE209]'
- en: '[PRE210]'
  id: totrans-318
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE210]'
- en: '[PRE211]'
  id: totrans-319
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE211]'
- en: '[PRE212]'
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE212]'
- en: '[PRE213]'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE213]'
- en: '[PRE214]'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE214]'
- en: '[PRE215]'
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE215]'
- en: '[PRE216]'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE216]'
- en: '[PRE217]'
  id: totrans-325
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE217]'
- en: '[PRE218]'
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE218]'
- en: '[PRE219]'
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE219]'
- en: '[PRE220]'
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE220]'
- en: '[PRE221]'
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE221]'
- en: '[PRE222]'
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE222]'
- en: '[PRE223]'
  id: totrans-331
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE223]'
- en: '[PRE224]'
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE224]'
- en: '[PRE225]'
  id: totrans-333
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE225]'
- en: '[PRE226]'
  id: totrans-334
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE226]'
- en: '[PRE227]'
  id: totrans-335
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE227]'
- en: '[PRE228]'
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE228]'
- en: 'The result is shown in *Figure 11**.8*:'
  id: totrans-337
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果展示在 *图 11.8* 中：
- en: "![Figure 11.8: Left – the original raw royal female, and right – the ControlNet\
    \ Tile four- times\uFEFF-upscaled super-resolution](img/B21263_11_08.jpg)"
  id: totrans-338
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.8：左 – 原始的皇家女性图像，右 – ControlNet 瓦片四倍上采样超分辨率](img/B21263_11_08.jpg)'
- en: 'Figure 11.8: Left – the original raw royal female, and right – the ControlNet
    Tile four- times-upscaled super-resolution'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.8：左 – 原始的皇家女性图像，右 – ControlNet 瓦片四倍上采样超分辨率
- en: Summary
  id: totrans-340
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: 'This chapter offered a summary of contemporary image upscaling and super-resolution
    methodologies, emphasizing their unique characteristics. The primary focus of
    the chapter was on two super-resolution techniques that leverage the capabilities
    of Stable Diffusion:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 本章提供了当代图像上采样和超分辨率方法的总结，强调了它们的独特特性。本章的主要重点是两种利用稳定扩散能力的超分辨率技术：
- en: Utilizing the Stable Diffusion image-to-image pipeline
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用稳定扩散图像到图像管道
- en: Implementing ControlNet Tile to upscale images while enhancing details
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现ControlNet瓦片以在上采样图像的同时增强细节
- en: Furthermore, we showcased additional examples of the ControlNet Tile super-resolution
    technique.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们还展示了 ControlNet 瓦片超分辨率技术的更多示例。
- en: If your goal is to preserve as many aspects of the original image as possible
    during upscaling, we recommend the image-to-image pipeline. Conversely, if you
    prefer an AI-driven approach that generates a wealth of detail, ControlNet Tile
    is the more appropriate option.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的目标是尽可能保留原始图像的上采样方面的各个方面，我们建议使用图像到图像管道。相反，如果你更喜欢一种由 AI 驱动的生成丰富细节的方法，ControlNet
    瓦片是更合适的选择。
- en: In [*Chapter 12*](B21263_12.xhtml#_idTextAnchor240), we will develop a scheduled
    prompt parser to allow us more accurate control over image generation.
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [*第 12 章*](B21263_12.xhtml#_idTextAnchor240) 中，我们将开发一个计划提示解析器，以便我们能够更精确地控制图像生成。
- en: References
  id: totrans-347
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: 'Hugging Face – Super-Resolution: [https://huggingface.co/docs/diffusers/v0.13.0/en/api/pipelines/stable_diffusion/upscale](https://huggingface.co/docs/diffusers/v0.13.0/en/api/pipelines/stable_diffusion/upscale'
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Hugging Face – 超分辨率: [https://huggingface.co/docs/diffusers/v0.13.0/en/api/pipelines/stable_diffusion/upscale](https://huggingface.co/docs/diffusers/v0.13.0/en/api/pipelines/stable_diffusion/upscale)'
- en: )
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Hugging Face – Ultra-fast ControlNet with Diffusers: [https://huggingface.co/blog/controlnet](https://huggingface.co/blog/controlnet'
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Hugging Face – 带有扩散器的超快速控制网络: [https://huggingface.co/blog/controlnet](https://huggingface.co/blog/controlnet)'
- en: )
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Lvmin Zhang, Maneesh Agrawala, Adding Conditional Control to Text-to-Image
    Diffusion Models: [https://arxiv.org/abs/2302.05543](https://arxiv.org/abs/2302.05543'
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Lvmin Zhang, Maneesh Agrawala, 向文本到图像扩散模型添加条件控制: [https://arxiv.org/abs/2302.05543](https://arxiv.org/abs/2302.05543)'
- en: )
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Lvmin Zhang, ControlNet original implementation code: [https://github.com/lllyasviel](https://github.com/lllyasviel'
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Lvmin Zhang, ControlNet 原始实现代码: [https://github.com/lllyasviel](https://github.com/lllyasviel)'
- en: )
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Lvmin Zhang, ControlNet 1.1 Tile: [https://github.com/lllyasviel/ControlNet-v1-1-nightly#controlnet-11-tile](https://github.com/lllyasviel/ControlNet-v1-1-nightly#controlnet-11-tile'
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Lvmin Zhang, ControlNet 1.1 瓦片: [https://github.com/lllyasviel/ControlNet-v1-1-nightly#controlnet-11-tile](https://github.com/lllyasviel/ControlNet-v1-1-nightly#controlnet-11-tile)'
- en: )
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Nearest-neighbor interpolation: [https://en.wikipedia.org/wiki/Nearest-neighbor_interpolation](https://en.wikipedia.org/wiki/Nearest-neighbor_interpolation'
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '最近邻插值: [https://en.wikipedia.org/wiki/Nearest-neighbor_interpolation](https://en.wikipedia.org/wiki/Nearest-neighbor_interpolation)'
- en: )
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Bilinear interpolation: [https://en.wikipedia.org/wiki/Bilinear_interpolation](https://en.wikipedia.org/wiki/Bilinear_interpolation'
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '双线性插值: [https://en.wikipedia.org/wiki/Bilinear_interpolation](https://en.wikipedia.org/wiki/Bilinear_interpolation)'
- en: )
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Bicubic interpolation: [https://en.wikipedia.org/wiki/Bicubic_interpolation](https://en.wikipedia.org/wiki/Bicubic_interpolation'
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '双三次插值: [https://en.wikipedia.org/wiki/Bicubic_interpolation](https://en.wikipedia.org/wiki/Bicubic_interpolation)'
- en: )
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Lanczos resampling: [https://en.wikipedia.org/wiki/Lanczos_resampling](https://en.wikipedia.org/wiki/Lanczos_resampling'
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Lanczos 重采样: [https://en.wikipedia.org/wiki/Lanczos_resampling](https://en.wikipedia.org/wiki/Lanczos_resampling)'
- en: )
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'ESRGAN: Enhanced Super-Resolution Generative Adversarial Networks: [https://arxiv.org/abs/1809.00219](https://arxiv.org/abs/1809.00219'
  id: totrans-366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'ESRGAN: 增强型超分辨率生成对抗网络: [https://arxiv.org/abs/1809.00219](https://arxiv.org/abs/1809.00219)'
- en: )
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'SwinIR: Image Restoration Using Swin Transformer: [https://arxiv.org/abs/2108.10257](https://arxiv.org/abs/2108.10257'
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SwinIR：使用 Swin Transformer 进行图像恢复：[https://arxiv.org/abs/2108.10257](https://arxiv.org/abs/2108.10257)
- en: )
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: 'Python Pillow package: [https://github.com/python-pillow/Pillow](https://github.com/python-pillow/Pillow)'
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Python Pillow 包：[https://github.com/python-pillow/Pillow](https://github.com/python-pillow/Pillow)
