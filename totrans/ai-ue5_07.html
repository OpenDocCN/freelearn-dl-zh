<html><head></head><body>
  <div id="_idContainer120">
   <h1 class="chapter-number" id="_idParaDest-130">
    <a id="_idTextAnchor132">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     7
    </span>
   </h1>
   <h1 id="_idParaDest-131">
    <a id="_idTextAnchor133">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Introducing Behavior Trees
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     In the
    </span>
    <a id="_idIndexMarker260">
    </a>
    <a id="_idIndexMarker261">
    </a>
    <span class="koboSpan" id="kobo.4.1">
     universe of game development,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.5.1">
      behavior trees
     </span>
    </strong>
    <span class="koboSpan" id="kobo.6.1">
     are hierarchical structures that govern the decision-making processes of AI characters, determining their actions and reactions during gameplay.
    </span>
    <span class="koboSpan" id="kobo.6.2">
     As a game programmer, delving into the intricacies of behavior trees is crucial, as it will empower you with the ability to craft dynamic, intelligent, and engaging virtual entities that enhance the player’s
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.7.1">
      game experience.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.8.1">
     This chapter aims to provide a gentle introduction to behavior trees and Blackboards, as well as their application within the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.9.1">
      Unreal Engine.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.10.1">
     In this chapter, we will be covering the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.11.1">
      following topics
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.12.1">
      Explaining
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.13.1">
       behavior trees
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.14.1">
      Understanding behavior trees in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.15.1">
       Unreal Engine
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.16.1">
      Understanding
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.17.1">
       the Blackboard
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-132">
    <a id="_idTextAnchor134">
    </a>
    <span class="koboSpan" id="kobo.18.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.19.1">
     There are no technical requirements to follow
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.20.1">
      this chapter.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-133">
    <a id="_idTextAnchor135">
    </a>
    <span class="koboSpan" id="kobo.21.1">
     Explaining behavior trees
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.22.1">
     In its broader sense, a behavior tree is a
    </span>
    <a id="_idIndexMarker262">
    </a>
    <span class="koboSpan" id="kobo.23.1">
     mathematical model used in many fields of computer science, including video games.
    </span>
    <span class="koboSpan" id="kobo.23.2">
     It outlines the transition between a finite set of tasks in a modular manner.
    </span>
    <span class="koboSpan" id="kobo.23.3">
     The power of behavior trees lies in their ability to create intricate tasks from simple components, without going into the details of how each component is implemented.
    </span>
    <span class="koboSpan" id="kobo.23.4">
     While behavior trees share some similarities with hierarchical state machines – where states are organized in a hierarchy, allowing for better reuse of behaviors – the primary distinction lies in the fact that tasks, not states, serve as the fundamental elements of behavior.
    </span>
    <span class="koboSpan" id="kobo.23.5">
     The main advantage is their intuitive nature, making them less prone to errors; this is why they are highly favored within the game
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.24.1">
      development industry.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.25.1">
     Today’s video games are increasingly intricate, leading to a proportional complexity in AI characters.
    </span>
    <span class="koboSpan" id="kobo.25.2">
     Hence, the maintenance of these characters – or agents – is crucial.
    </span>
    <span class="koboSpan" id="kobo.25.3">
     Unlike systems such as finite state machines, which become difficult to maintain as the number of states increases, behavior trees offer a practical and scalable solution for decision-making processes.
    </span>
    <span class="koboSpan" id="kobo.25.4">
     When an agent executes a behavior tree, it conducts a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.26.1">
      depth-first search
     </span>
    </strong>
    <span class="koboSpan" id="kobo.27.1">
     to
    </span>
    <a id="_idIndexMarker263">
    </a>
    <span class="koboSpan" id="kobo.28.1">
     locate and execute the lowest-level
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.29.1">
      leaf node.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.30.1">
     The key advantages of
    </span>
    <a id="_idIndexMarker264">
    </a>
    <a id="_idIndexMarker265">
    </a>
    <span class="koboSpan" id="kobo.31.1">
     behavior trees over other systems lie in their scalability, expressiveness, and extensibility.
    </span>
    <span class="koboSpan" id="kobo.31.2">
     Unlike other systems, behavior trees do not involve explicit transitions between states; instead, each node in the tree specifies how to run its children.
    </span>
    <span class="koboSpan" id="kobo.31.3">
     This stateless nature eliminates the need to track previously executed nodes to determine the next set of behaviors.
    </span>
    <span class="koboSpan" id="kobo.31.4">
     The expressiveness of behavior trees stems from the use of various levels of abstraction, implicit transitions, and complex control structures for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.32.1">
      composite nodes.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.33.1">
     Furthermore, in behavior trees, transitions occur through calls and return values exchanged between tree nodes, facilitating a two-way control
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.34.1">
      transfer mechanism.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-134">
    <a id="_idTextAnchor136">
    </a>
    <span class="koboSpan" id="kobo.35.1">
     Behavior tree structure
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.36.1">
     A behavior tree is visually depicted as a tree
    </span>
    <a id="_idIndexMarker266">
    </a>
    <a id="_idIndexMarker267">
    </a>
    <span class="koboSpan" id="kobo.37.1">
     structure with nodes categorized as
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.38.1">
      root
     </span>
    </strong>
    <span class="koboSpan" id="kobo.39.1">
     ,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.40.1">
      control flow
     </span>
    </strong>
    <span class="koboSpan" id="kobo.41.1">
     , and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.42.1">
      execution
     </span>
    </strong>
    <span class="koboSpan" id="kobo.43.1">
     – or
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.44.1">
      tasks
     </span>
    </strong>
    <span class="koboSpan" id="kobo.45.1">
     .
    </span>
    <span class="koboSpan" id="kobo.45.2">
     In this representation, each node may have a parent node and one or more children.
    </span>
    <span class="koboSpan" id="kobo.45.3">
     In particular, the following is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.46.1">
      worth noting:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.47.1">
      The root node has no parents and only
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.48.1">
       one child
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.49.1">
      Control flow nodes have one parent and at least
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.50.1">
       one child
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.51.1">
      Execution nodes have one parent and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.52.1">
       no children
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.53.1">
     A behavior tree is executed starting from the root, which sends execution triggers to its
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.54.1">
      child nodes.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.55.1">
     Whenever a control flow node is reached, it will control the execution and flow of decision-making within the tree, determining which tasks or sub-trees should be executed based on certain conditions
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.56.1">
      or rules.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.57.1">
     Every time an execution node is triggered, it will execute a specific task, reporting back to its parent with a status of
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.58.1">
      running
     </span>
    </em>
    <span class="koboSpan" id="kobo.59.1">
     if the task is ongoing,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.60.1">
      success
     </span>
    </em>
    <span class="koboSpan" id="kobo.61.1">
     if the objective is accomplished, or
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.62.1">
      failure
     </span>
    </em>
    <span class="koboSpan" id="kobo.63.1">
     if the task
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.64.1">
      is unsuccessful.
     </span>
    </span>
   </p>
   <p>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.65.1">
       Figure 7
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.66.1">
      .1
     </span>
    </em>
    <span class="koboSpan" id="kobo.67.1">
     shows an
    </span>
    <a id="_idIndexMarker268">
    </a>
    <a id="_idIndexMarker269">
    </a>
    <span class="koboSpan" id="kobo.68.1">
     example of a behavior tree execution, starting from the root, going to a control flow node, and finally executing
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.69.1">
      a task:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer109">
     <span class="koboSpan" id="kobo.70.1">
      <img alt="Figure 7.1 – Behavior tree example" src="image/Figure_7.1_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.71.1">
     Figure 7.1 – Behavior tree example
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.72.1">
     Note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.73.1">
     Behavior tree nodes are executed from top to bottom and left to right; this is also the way they are
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.74.1">
      usually numbered.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.75.1">
     It goes without saying that there isn’t just one way to implement behavior trees.
    </span>
    <span class="koboSpan" id="kobo.75.2">
     That’s why in the next section, I’ll dive into all the nitty-gritty details about the Unreal
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.76.1">
      Engine system.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-135">
    <a id="_idTextAnchor137">
    </a>
    <span class="koboSpan" id="kobo.77.1">
     What is a behavior tree in Unreal Engine?
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.78.1">
     In Unreal Engine, behavior trees are
    </span>
    <a id="_idIndexMarker270">
    </a>
    <a id="_idIndexMarker271">
    </a>
    <span class="koboSpan" id="kobo.79.1">
     assets that are edited in a similar way to Blueprints – that is, visually – by adding and linking a set of nodes with specific functionalities to form a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.80.1">
      behavior tree graph
     </span>
    </strong>
    <span class="koboSpan" id="kobo.81.1">
     .
    </span>
    <span class="koboSpan" id="kobo.81.2">
     During the
    </span>
    <a id="_idIndexMarker272">
    </a>
    <span class="koboSpan" id="kobo.82.1">
     execution of logic in a behavior tree, a separate asset known as a Blackboard – further details on this will be provided later in this chapter – is used to retain information that the behavior tree requires to make
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.83.1">
      well-informed decisions.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.84.1">
     A behavior tree is handled by a
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.85.1">
      BehaviorTreeComponent
     </span>
    </strong>
    <span class="koboSpan" id="kobo.86.1">
     instance that is held by the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.87.1">
      AIController
     </span>
    </strong>
    <span class="koboSpan" id="kobo.88.1">
     instance.
    </span>
    <span class="koboSpan" id="kobo.88.2">
     It should be noted that the component is not automatically attached to the controller; you will need to add it through C++ or Blueprints.
    </span>
    <span class="koboSpan" id="kobo.88.3">
     If no component is present, it will automatically be created
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.89.1">
      at runtime.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.90.1">
     When comparing Unreal Engine behavior trees with other behavior tree systems, one key distinction to keep in mind is their event-driven nature, which prevents constant code execution.
    </span>
    <span class="koboSpan" id="kobo.90.2">
     Instead of continuously checking for relevant changes, an Unreal Engine behavior tree listens for events that can prompt tree modifications.
    </span>
    <span class="koboSpan" id="kobo.90.3">
     Using an event-driven architecture provides performance enhancements and debugging capabilities benefits – this is something I will show in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.91.1">
      upcoming chapters.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-136">
    <a id="_idTextAnchor138">
    </a>
    <span class="koboSpan" id="kobo.92.1">
     Behavior tree node instancing
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.93.1">
     It needs to be noted that
    </span>
    <a id="_idIndexMarker273">
    </a>
    <span class="koboSpan" id="kobo.94.1">
     behavior trees exist as
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.95.1">
      shared objects
     </span>
    </strong>
    <span class="koboSpan" id="kobo.96.1">
     in your project; this means that all agents using a behavior tree will share the same instance, and all shared objects will be unable to store agent-specific data.
    </span>
    <span class="koboSpan" id="kobo.96.2">
     The main advantages of using shared nodes are CPU speed improvement and reduced
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.97.1">
      memory usage.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.98.1">
     Agent-specific data can be leveraged in many ways – one being the Blackboard that we will see later in this chapter – to give you more flexibility on how to use your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.99.1">
      behavior tree.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.100.1">
     Another such method is instancing single nodes; this will grant each AI agent using a behavior tree a unique instance of the node at the cost of higher performance and memory usage.
    </span>
    <span class="koboSpan" id="kobo.100.2">
     An example of a node using such a
    </span>
    <a id="_idIndexMarker274">
    </a>
    <span class="koboSpan" id="kobo.101.1">
     method is the
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.102.1">
       PlayAnimation
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.103.1">
      task.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-137">
    <a id="_idTextAnchor139">
    </a>
    <span class="koboSpan" id="kobo.104.1">
     Order of execution
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.105.1">
     As previously mentioned,
    </span>
    <a id="_idIndexMarker275">
    </a>
    <span class="koboSpan" id="kobo.106.1">
     behavior tree nodes are executed from top to bottom and left to right and Unreal Engine is no exception.
    </span>
    <span class="koboSpan" id="kobo.106.2">
     Nodes are numbered following this convention to easily track the execution order.
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.107.1">
       Figure 7
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.108.1">
      .2
     </span>
    </em>
    <span class="koboSpan" id="kobo.109.1">
     shows a behavior tree
    </span>
    <a id="_idIndexMarker276">
    </a>
    <a id="_idIndexMarker277">
    </a>
    <span class="koboSpan" id="kobo.110.1">
     from the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.111.1">
      Lyra Starter Game
     </span>
    </strong>
    <span class="koboSpan" id="kobo.112.1">
     project, showing the nodes with their corresponding
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.113.1">
      sequence numbers:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer110">
     <span class="koboSpan" id="kobo.114.1">
      <img alt="Figure 7.2 – Behavior tree sequence" src="image/Figure_7.2_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.115.1">
     Figure 7.2 – Behavior tree sequence
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.116.1">
     Note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.117.1">
     In Unreal Engine, a root node is never numbered because it is not considered part of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.118.1">
      the sequence.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.119.1">
     In this section, you have received a gentle introduction to behavior trees and how they are executed.
    </span>
    <span class="koboSpan" id="kobo.119.2">
     The next section will delve deeper into the Unreal Engine system to help you better understand how to incorporate behavior trees effectively into
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.120.1">
      your games.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-138">
    <a id="_idTextAnchor140">
    </a>
    <span class="koboSpan" id="kobo.121.1">
     Understanding behavior trees in Unreal Engine
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.122.1">
     Understanding behavior trees and what they are made of is essential for designing effective AI systems in Unreal Engine; in this section, I will be presenting you with the key concepts associated with behavior trees to help you start developing your own
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.123.1">
      AI characters.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.124.1">
     In Unreal Engine, there are five types of elements in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.125.1">
      behavior trees:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.126.1">
       Root node
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.127.1">
       Task nodes
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.128.1">
       Composite nodes
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.129.1">
       Decorators
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.130.1">
       Services
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.131.1">
     To provide you with a comprehensive understanding of each type, I will present them individually, ensuring a clear depiction of their
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.132.1">
      respective functions.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-139">
    <a id="_idTextAnchor141">
    </a>
    <span class="koboSpan" id="kobo.133.1">
     The root node
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.134.1">
     The root node
    </span>
    <a id="_idIndexMarker278">
    </a>
    <a id="_idIndexMarker279">
    </a>
    <span class="koboSpan" id="kobo.135.1">
     functions as the initial point for a
    </span>
    <a id="_idIndexMarker280">
    </a>
    <a id="_idIndexMarker281">
    </a>
    <span class="koboSpan" id="kobo.136.1">
     behavior tree; it holds a distinct position within the tree and is governed by a set of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.137.1">
      special rules:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.138.1">
      There can be only one such node in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.139.1">
       tree structure
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.140.1">
      It can have only one connection, and if this connection is removed, then the entire tree
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.141.1">
       is disabled
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.142.1">
      It does not support the attachment of decorator or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.143.1">
       service nodes
      </span>
     </span>
    </li>
   </ul>
   <div>
    <div class="IMG---Figure" id="_idContainer111">
     <span class="koboSpan" id="kobo.144.1">
      <img alt="Figure 7.3 – Root node" src="image/Figure_7.3_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.145.1">
     Figure 7.3 – Root node
    </span>
   </p>
   <h2 id="_idParaDest-140">
    <a id="_idTextAnchor142">
    </a>
    <span class="koboSpan" id="kobo.146.1">
     Task nodes
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.147.1">
     Task nodes are
    </span>
    <a id="_idIndexMarker282">
    </a>
    <a id="_idIndexMarker283">
    </a>
    <span class="koboSpan" id="kobo.148.1">
     responsible for performing actions
    </span>
    <a id="_idIndexMarker284">
    </a>
    <a id="_idIndexMarker285">
    </a>
    <span class="koboSpan" id="kobo.149.1">
     such as moving an AI or adjusting Blackboard values.
    </span>
    <span class="koboSpan" id="kobo.149.2">
     A task will not stop its execution until a failure or success result
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.150.1">
      is reported.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.151.1">
     A task node can also have one or more decorators or services attached, allowing for more complex behaviors and interactions within the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.152.1">
      game environment.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.153.1">
     Task nodes
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.154.1">
     Tasks are identified by a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.155.1">
      purple color.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer112">
     <span class="koboSpan" id="kobo.156.1">
      <img alt="Figure 7.4 – Task examples" src="image/Figure_7.4_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.157.1">
     Figure 7.4 – Task examples
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.158.1">
     Unreal Engine includes a set of pre-built tasks that are readily available for use.
    </span>
    <span class="koboSpan" id="kobo.158.2">
     These tasks address the most generic scenarios that developers are likely to require.
    </span>
    <span class="koboSpan" id="kobo.158.3">
     However, tasks can be extended to allow you to create your own
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.159.1">
      custom nodes.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.160.1">
     Here is a partial list of some of the tasks that will be available to you as
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.161.1">
      standard features:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.162.1">
       Finish With Result
      </span>
     </strong>
     <span class="koboSpan" id="kobo.163.1">
      : Once executed, this node will instantly finish with a defined result –
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.164.1">
       Succeeded
      </span>
     </strong>
     <span class="koboSpan" id="kobo.165.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.166.1">
       Failed
      </span>
     </strong>
     <span class="koboSpan" id="kobo.167.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.168.1">
       Aborted
      </span>
     </strong>
     <span class="koboSpan" id="kobo.169.1">
      , or
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.170.1">
        In Progress
       </span>
      </strong>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.171.1">
       Move To
      </span>
     </strong>
     <span class="koboSpan" id="kobo.172.1">
      : Once executed, it will move the AI agent to a target location by using the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.173.1">
       Navigation System
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.174.1">
       Move Directly Toward
      </span>
     </strong>
     <span class="koboSpan" id="kobo.175.1">
      : Once executed, it will move the AI agent to a target location without using the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.176.1">
       Navigation System
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.177.1">
       Wait
      </span>
     </strong>
     <span class="koboSpan" id="kobo.178.1">
      : Once executed, it will cause the behavior tree to wait on this node until a specified time
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.179.1">
       has passed
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.180.1">
       Play Animation
      </span>
     </strong>
     <span class="koboSpan" id="kobo.181.1">
      : Once executed, this node will play a specified
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.182.1">
       animation asset
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.183.1">
       Play Sound
      </span>
     </strong>
     <span class="koboSpan" id="kobo.184.1">
      : Once executed, this node will play a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.185.1">
       specified sound
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.186.1">
     As you can see, tasks represent individual actions or operations that an AI agent can perform; you can use them to create simple actions or combine several to create more
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.187.1">
      complex behaviors.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-141">
    <a id="_idTextAnchor143">
    </a>
    <span class="koboSpan" id="kobo.188.1">
     Composite nodes
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.189.1">
     Composite nodes
    </span>
    <a id="_idIndexMarker286">
    </a>
    <a id="_idIndexMarker287">
    </a>
    <span class="koboSpan" id="kobo.190.1">
     define the root of a
    </span>
    <a id="_idIndexMarker288">
    </a>
    <a id="_idIndexMarker289">
    </a>
    <span class="koboSpan" id="kobo.191.1">
     branch and set the rules for its execution; additionally, they are the only nodes that can be applied to the root node of a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.192.1">
      behavior tree.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.193.1">
     A composite node can also have decorators and services applied, enabling more complex logic in it.
    </span>
    <span class="koboSpan" id="kobo.193.2">
     Once a service is applied, it will be active while the children of the composite
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.194.1">
      are executed.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.195.1">
     Composite nodes
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.196.1">
     Composites are identified by a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.197.1">
      grey color.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.198.1">
     There are three composite
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.199.1">
      nodes available:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.200.1">
        Selectors
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.201.1">
        Simple parallels
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.202.1">
        Sequences
       </span>
      </strong>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.203.1">
     Let’s examine them one
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.204.1">
      by one.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.205.1">
     Selectors
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.206.1">
     Selector nodes execute
    </span>
    <a id="_idIndexMarker290">
    </a>
    <a id="_idIndexMarker291">
    </a>
    <span class="koboSpan" id="kobo.207.1">
     their children sequentially
    </span>
    <a id="_idIndexMarker292">
    </a>
    <a id="_idIndexMarker293">
    </a>
    <span class="koboSpan" id="kobo.208.1">
     from left to right, and they will halt execution as soon as one of them succeeds.
    </span>
    <span class="koboSpan" id="kobo.208.2">
     When a child of a selector node succeeds, the selector itself is considered successful.
    </span>
    <span class="koboSpan" id="kobo.208.3">
     On the other hand, if all the selector’s children fail, the selector node itself is marked
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.209.1">
      as failed.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer113">
     <span class="koboSpan" id="kobo.210.1">
      <img alt="Figure 7.5 – Selector node" src="image/Figure_7.5_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.211.1">
     Figure 7.5 – Selector node
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.212.1">
     Simple parallels
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.213.1">
     Simple parallel nodes
    </span>
    <a id="_idIndexMarker294">
    </a>
    <a id="_idIndexMarker295">
    </a>
    <span class="koboSpan" id="kobo.214.1">
     enable the execution of a single
    </span>
    <a id="_idIndexMarker296">
    </a>
    <a id="_idIndexMarker297">
    </a>
    <span class="koboSpan" id="kobo.215.1">
     main task node concurrently with a complete tree.
    </span>
    <span class="koboSpan" id="kobo.215.2">
     After the main task is completed, you may decide – through the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.216.1">
      Finish Mode
     </span>
    </strong>
    <span class="koboSpan" id="kobo.217.1">
     attribute – whether the node should immediately finish, halting the secondary tree, or whether it should wait for the secondary tree to finish
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.218.1">
      before completing.
     </span>
    </span>
   </p>
   <p class="IMG---Figure">
    <span class="koboSpan" id="kobo.219.1">
     <img alt="Figure 7.6 – Simple Parallel node" src="image/Figure_7.6_B31016.jpg"/>
    </span>
   </p>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.220.1">
     Figure 7.6 – Simple Parallel node
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.221.1">
     Sequences
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.222.1">
     Sequence nodes run their
    </span>
    <a id="_idIndexMarker298">
    </a>
    <a id="_idIndexMarker299">
    </a>
    <span class="koboSpan" id="kobo.223.1">
     children sequentially from
    </span>
    <a id="_idIndexMarker300">
    </a>
    <a id="_idIndexMarker301">
    </a>
    <span class="koboSpan" id="kobo.224.1">
     left to right.
    </span>
    <span class="koboSpan" id="kobo.224.2">
     They halt execution when a child fails.
    </span>
    <span class="koboSpan" id="kobo.224.3">
     If a child fails, the sequence also fails.
    </span>
    <span class="koboSpan" id="kobo.224.4">
     Unlike selectors, the success of the sequence is achieved only when all its
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.225.1">
      children succeed.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer115">
     <span class="koboSpan" id="kobo.226.1">
      <img alt="Figure 7.7 – Sequence node" src="image/Figure_7.7_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.227.1">
     Figure 7.7 – Sequence node
    </span>
   </p>
   <h2 id="_idParaDest-142">
    <a id="_idTextAnchor144">
    </a>
    <span class="koboSpan" id="kobo.228.1">
     Decorators
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.229.1">
     Decorators – sometimes also
    </span>
    <a id="_idIndexMarker302">
    </a>
    <a id="_idIndexMarker303">
    </a>
    <span class="koboSpan" id="kobo.230.1">
     referred to as conditionals – are used to determine whether a branch in the tree, or even a
    </span>
    <a id="_idIndexMarker304">
    </a>
    <a id="_idIndexMarker305">
    </a>
    <span class="koboSpan" id="kobo.231.1">
     single node, can be executed.
    </span>
    <span class="koboSpan" id="kobo.231.2">
     They must be attached to either a composite or a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.232.1">
      task node.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.233.1">
     Decorators play a crucial role in determining the execution path of branches within the behavior tree; they essentially act as decision-makers, evaluating whether a specific branch or individual node should proceed with execution.
    </span>
    <span class="koboSpan" id="kobo.233.2">
     They serve as a condition, assessing the viability of continuing down a particular branch, signaling a precautionary failure if the task – or a sub-tree – is destined to fail.
    </span>
    <span class="koboSpan" id="kobo.233.3">
     This preemptive action helps prevent the decorator from attempting to carry out a task – or sub-tree – that is bound to fail due to various reasons such as insufficient information or
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.234.1">
      outdated objectives.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.235.1">
     Decorators
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.236.1">
     Decorators are identified by a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.237.1">
      blue color.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer116">
     <span class="koboSpan" id="kobo.238.1">
      <img alt="Figure 7.8 – Decorator applied to a Selector" src="image/Figure_7.8_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.239.1">
     Figure 7.8 – Decorator applied to a Selector
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.240.1">
     Unreal Engine includes a set of pre-built
    </span>
    <a id="_idIndexMarker306">
    </a>
    <a id="_idIndexMarker307">
    </a>
    <span class="koboSpan" id="kobo.241.1">
     decorators that are readily available for use, but they can be extended to allow you to create your own
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.242.1">
      custom ones.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.243.1">
     Here is a partial list of some of the tasks that will be available to you as
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.244.1">
      standard features:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.245.1">
       Blackboard
      </span>
     </strong>
     <span class="koboSpan" id="kobo.246.1">
      : Will check whether a value has been set – or not set – on a given
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.247.1">
       Blackboard key
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.248.1">
       Composite
      </span>
     </strong>
     <span class="koboSpan" id="kobo.249.1">
      : Will let you create some more advanced logic than built-in nodes by using
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.250.1">
       AND
      </span>
     </strong>
     <span class="koboSpan" id="kobo.251.1">
      ,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.252.1">
       OR
      </span>
     </strong>
     <span class="koboSpan" id="kobo.253.1">
      , and
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.254.1">
        NOT
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.255.1">
       nodes
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.256.1">
       Cooldown
      </span>
     </strong>
     <span class="koboSpan" id="kobo.257.1">
      : Will lock the execution of a node or a branch until a predefined time
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.258.1">
       has passed
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.259.1">
       Does Path Exists
      </span>
     </strong>
     <span class="koboSpan" id="kobo.260.1">
      : Will check whether a path is found between
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.261.1">
       two points
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.262.1">
       Loop
      </span>
     </strong>
     <span class="koboSpan" id="kobo.263.1">
      : Will loop a node or a branch indefinitely – or a number of times,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.264.1">
       if set
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.265.1">
     Most decorators include an
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.266.1">
      Inverse Condition
     </span>
    </strong>
    <span class="koboSpan" id="kobo.267.1">
     property, that will let you, well...
    </span>
    <span class="koboSpan" id="kobo.267.2">
     invert the condition, giving you more flexibility.
    </span>
    <span class="koboSpan" id="kobo.267.3">
     As an example, you may use the same decorator in a behavior tree to execute different tasks under
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.268.1">
      opposite conditions.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.269.1">
     For instance, you may use
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.270.1">
      Does Path Exist
     </span>
    </strong>
    <span class="koboSpan" id="kobo.271.1">
     to move an AI agent to a target point and use
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.272.1">
      Inverse Condition
     </span>
    </strong>
    <span class="koboSpan" id="kobo.273.1">
     on another instance of
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.274.1">
      Does Path Exist
     </span>
    </strong>
    <span class="koboSpan" id="kobo.275.1">
     to look for an alternative
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.276.1">
      target point.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.277.1">
     In conclusion, decorators serve as decision points that determine whether a certain action or branch within the behavior tree should be executed
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.278.1">
      or not.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-143">
    <a id="_idTextAnchor145">
    </a>
    <span class="koboSpan" id="kobo.279.1">
     Services
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.280.1">
     Services can be
    </span>
    <a id="_idIndexMarker308">
    </a>
    <a id="_idIndexMarker309">
    </a>
    <span class="koboSpan" id="kobo.281.1">
     attached to composite or task
    </span>
    <a id="_idIndexMarker310">
    </a>
    <a id="_idIndexMarker311">
    </a>
    <span class="koboSpan" id="kobo.282.1">
     nodes and run at specific intervals – defined in the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.283.1">
      Interval
     </span>
    </strong>
    <span class="koboSpan" id="kobo.284.1">
     attribute – while their branch is active.
    </span>
    <span class="koboSpan" id="kobo.284.2">
     They are commonly employed for conducting checks and updating
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.285.1">
      the Blackboard.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.286.1">
     Once triggered by a task or a composite, a service will keep executing regardless of the number of parent-child levels being executed below the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.287.1">
      owing node.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.288.1">
     Services
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.289.1">
     Services are identified by a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.290.1">
      green color.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer117">
     <span class="koboSpan" id="kobo.291.1">
      <img alt="Figure 7.9 – Service applied to a Selector" src="image/Figure_7.9_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.292.1">
     Figure 7.9 – Service applied to a Selector
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.293.1">
     Services are very specific to the behavior tree you are developing; this means that, most probably, you will have to create your own custom ones.
    </span>
    <span class="koboSpan" id="kobo.293.2">
     However, Unreal Engine provides two pre-built services that are readily available
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.294.1">
      for use:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.295.1">
       Default Focus
      </span>
     </strong>
     <span class="koboSpan" id="kobo.296.1">
      : This enables quick access to an actor from the AI controller instead of using a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.297.1">
       Blackboard key.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.298.1">
       Run EQS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.299.1">
      : This can be used to regularly execute an EQS – more on this in
     </span>
     <a href="B31016_11.xhtml#_idTextAnchor218">
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.300.1">
         Chapter 11
        </span>
       </em>
      </span>
     </a>
     <span class="koboSpan" id="kobo.301.1">
      ,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.302.1">
       Understanding the Environment Query System
      </span>
     </em>
     <span class="koboSpan" id="kobo.303.1">
      – at assigned intervals.
     </span>
     <span class="koboSpan" id="kobo.303.2">
      It can also update a specified
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.304.1">
       Blackboard key.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.305.1">
     Having covered the various types of nodes that make up a behavior tree, it’s now time to get into the next section in order to delve into
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.306.1">
      Blackboard assets.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-144">
    <a id="_idTextAnchor146">
    </a>
    <span class="koboSpan" id="kobo.307.1">
     Understanding the Blackboard
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.308.1">
     In Unreal Engine, the Blackboard is a
    </span>
    <a id="_idIndexMarker312">
    </a>
    <a id="_idIndexMarker313">
    </a>
    <span class="koboSpan" id="kobo.309.1">
     crucial component of behavior trees; it acts as a memory space – some sort of brain – where AI agents can read and write data during their decision-making process.
    </span>
    <span class="koboSpan" id="kobo.309.2">
     This means that developers will be able to query and update information stored
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.310.1">
      within it.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.311.1">
     The
    </span>
    <a id="_idIndexMarker314">
    </a>
    <a id="_idIndexMarker315">
    </a>
    <span class="koboSpan" id="kobo.312.1">
     Blackboard is created as a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.313.1">
      Blackboard Data
     </span>
    </strong>
    <span class="koboSpan" id="kobo.314.1">
     asset, which will be assigned to a behavior tree, and it contains a set of variables – named keys – that store specific information of predefined types.
    </span>
    <span class="koboSpan" id="kobo.314.2">
     These keys can be accessed and manipulated during runtime to influence the decision-making of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.315.1">
      AI characters.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer118">
     <span class="koboSpan" id="kobo.316.1">
      <img alt="Figure 7.10 – Blackboard example" src="image/Figure_7.10_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.317.1">
     Figure 7.10 – Blackboard example
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.318.1">
     A key can be set to
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.319.1">
      Instance Synced
     </span>
    </strong>
    <span class="koboSpan" id="kobo.320.1">
     ; in this case, the key itself will be synchronized across all instances of the Blackboard.
    </span>
    <span class="koboSpan" id="kobo.320.2">
     This synchronization ensures that any changes made to the value of the key will be reflected consistently across all instances of the AI agents sharing the same behavior tree
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.321.1">
      and Blackboard.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer119">
     <span class="koboSpan" id="kobo.322.1">
      <img alt="Figure 7.11 – The Instance Synced property" src="image/Figure_7.11_B31016.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.323.1">
     Figure 7.11 – The Instance Synced property
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.324.1">
     A
    </span>
    <a id="_idIndexMarker316">
    </a>
    <a id="_idIndexMarker317">
    </a>
    <span class="koboSpan" id="kobo.325.1">
     Blackboard can store up to 255 keys and it supports the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.326.1">
      data types:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.327.1">
        FVector
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.328.1">
        FRotator
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.329.1">
        Bool
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.330.1">
        Int32
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.331.1">
        Float
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.332.1">
        UClass
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.333.1">
        UObject
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.334.1">
        FName
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.335.1">
        UEnum
       </span>
      </strong>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.336.1">
        FString
       </span>
      </strong>
     </span>
    </li>
   </ul>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.337.1">
     Note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.338.1">
     A Blackboard cannot
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.339.1">
      store arrays.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.340.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.341.1">
      BlackboardComponent
     </span>
    </strong>
    <span class="koboSpan" id="kobo.342.1">
     instance will allow you to query data from a Blackboard and store data in the Blackboard itself.
    </span>
    <span class="koboSpan" id="kobo.342.2">
     The creation system follows a similar pattern to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.343.1">
      BehaviorTreeComponent
     </span>
    </strong>
    <span class="koboSpan" id="kobo.344.1">
     , as explained previously in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.345.1">
      this chapter.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.346.1">
     Despite its apparent simplicity, understanding how a Blackboard works is crucial for ensuring the effective functioning of your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.347.1">
      AI agents.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-145">
    <a id="_idTextAnchor147">
    </a>
    <span class="koboSpan" id="kobo.348.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.349.1">
     In this chapter, we were introduced to the behavior tree system.
    </span>
    <span class="koboSpan" id="kobo.349.2">
     Beginning with a brief theoretical overview, we saw how behavior trees function in Unreal Engine and learned about the key components that constitute the entire system.
    </span>
    <span class="koboSpan" id="kobo.349.3">
     Finally, we discussed the Blackboard asset, a crucial element for the effective operation of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.350.1">
      behavior trees.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.351.1">
     Get ready for the upcoming chapter, where we will guide you back into action and make you craft a behavior tree for our very own dummy character.
    </span>
    <span class="koboSpan" id="kobo.351.2">
     Specifically, you will be creating your own custom services and tasks in order to give our soon-to-be AI agent a proper AI brain.
    </span>
    <span class="koboSpan" id="kobo.351.3">
     Brace yourself, because things are about to get intriguingly wild and – sometimes –
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.352.1">
      delightfully chaotic!
     </span>
    </span>
   </p>
  </div>
 </body></html>