<html><head></head><body>
  <div id="_idContainer040">
   <h1 class="chapter-number" id="_idParaDest-46">
    <a id="_idTextAnchor045">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     3
    </span>
   </h1>
   <h1 id="_idParaDest-47">
    <a id="_idTextAnchor046">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Extracting Linguistic Features
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     This chapter is a deep dive into the full power of spaCy.
    </span>
    <span class="koboSpan" id="kobo.3.2">
     You will discover the linguistic features, including spaCy’s most used
    </span>
    <a id="_idIndexMarker108">
    </a>
    <span class="koboSpan" id="kobo.4.1">
     features
    </span>
    <a id="_idIndexMarker109">
    </a>
    <span class="koboSpan" id="kobo.5.1">
     such
    </span>
    <a id="_idIndexMarker110">
    </a>
    <span class="koboSpan" id="kobo.6.1">
     as
    </span>
    <a id="_idIndexMarker111">
    </a>
    <span class="koboSpan" id="kobo.7.1">
     the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.8.1">
      part-of-speech
     </span>
    </strong>
    <span class="koboSpan" id="kobo.9.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.10.1">
      POS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.11.1">
     )
    </span>
    <strong class="bold">
    </strong>
    <strong class="bold">
     <span class="koboSpan" id="kobo.12.1">
      tagger
     </span>
    </strong>
    <span class="koboSpan" id="kobo.13.1">
     , the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.14.1">
      dependency parser
     </span>
    </strong>
    <span class="koboSpan" id="kobo.15.1">
     , the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.16.1">
      named entity recognizer
     </span>
    </strong>
    <span class="koboSpan" id="kobo.17.1">
     , and
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.18.1">
       merging/splitting
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.19.1">
      features.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.20.1">
     First, you’ll learn about the POS tag concept, how the spaCy POS tagger functions, and how to place POS tags into
    </span>
    <a id="_idIndexMarker112">
    </a>
    <span class="koboSpan" id="kobo.21.1">
     your
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.22.1">
      natural-language understanding
     </span>
    </strong>
    <span class="koboSpan" id="kobo.23.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.24.1">
      NLU
     </span>
    </strong>
    <span class="koboSpan" id="kobo.25.1">
     ) applications.
    </span>
    <span class="koboSpan" id="kobo.25.2">
     Next, you’ll learn a structured way to represent the sentence syntax through the dependency parser.
    </span>
    <span class="koboSpan" id="kobo.25.3">
     You’ll learn about the dependency labels of spaCy and how to interpret the spaCy dependency labeler results with revealing examples.
    </span>
    <span class="koboSpan" id="kobo.25.4">
     Then, you’ll learn a very important NLU concept that lies at the heart of
    </span>
    <a id="_idIndexMarker113">
    </a>
    <span class="koboSpan" id="kobo.26.1">
     many
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.27.1">
      natural language processing
     </span>
    </strong>
    <span class="koboSpan" id="kobo.28.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.29.1">
      NLP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.30.1">
     ) applications—
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.31.1">
      named entity recognition
     </span>
    </strong>
    <span class="koboSpan" id="kobo.32.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.33.1">
      NER
     </span>
    </strong>
    <span class="koboSpan" id="kobo.34.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.34.2">
     We’ll go over examples
    </span>
    <a id="_idIndexMarker114">
    </a>
    <span class="koboSpan" id="kobo.35.1">
     of how to extract information from the text using NER.
    </span>
    <span class="koboSpan" id="kobo.35.2">
     Finally, you’ll learn how to merge and split the entities
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.36.1">
      you extracted.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.37.1">
     In this chapter, we’re going to cover the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.38.1">
      main topics:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.39.1">
      What is
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.40.1">
       POS tagging?
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.41.1">
      Introduction to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.42.1">
       dependency parsing
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.43.1">
       Introducing NER
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.44.1">
      Merging and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.45.1">
       splitting tokens
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-48">
    <a id="_idTextAnchor047">
    </a>
    <span class="koboSpan" id="kobo.46.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.47.1">
     The code of this chapter can be found
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.48.1">
      at
     </span>
    </span>
    <a href="https://github.com/PacktPublishing/Mastering-spaCy-Second-Edition">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.49.1">
       https://github.com/PacktPublishing/Mastering-spaCy-Second-Edition
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.50.1">
      .
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-49">
    <a id="_idTextAnchor048">
    </a>
    <span class="koboSpan" id="kobo.51.1">
     What is POS tagging?
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.52.1">
     A part of speech is a
    </span>
    <a id="_idIndexMarker115">
    </a>
    <span class="koboSpan" id="kobo.53.1">
     syntactic category in which every word falls into a category according to its function in a sentence.
    </span>
    <span class="koboSpan" id="kobo.53.2">
     For example, English has nine main categories: verb, noun, pronoun, determiner, adjective, adverb, preposition, conjunction, and interjection.
    </span>
    <span class="koboSpan" id="kobo.53.3">
     We can describe the functions of each category
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.54.1">
      as follows:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.55.1">
       Verb
      </span>
     </strong>
     <span class="koboSpan" id="kobo.56.1">
      : Expresses an
     </span>
     <a id="_idIndexMarker116">
     </a>
     <span class="koboSpan" id="kobo.57.1">
      action or a state
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.58.1">
       of being
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.59.1">
       Noun
      </span>
     </strong>
     <span class="koboSpan" id="kobo.60.1">
      : Identifies a person, a place, or a thing, or names a particular of one of these (a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.61.1">
       proper noun)
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.62.1">
       Pronoun
      </span>
     </strong>
     <span class="koboSpan" id="kobo.63.1">
      : Can replace a noun or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.64.1">
       noun phrase
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.65.1">
       Determiner
      </span>
     </strong>
     <span class="koboSpan" id="kobo.66.1">
      : Is placed in front of a noun to express a quantity or clarify what the noun refers to—briefly, a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.67.1">
       noun introducer
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.68.1">
       Adjective
      </span>
     </strong>
     <span class="koboSpan" id="kobo.69.1">
      : Modifies a noun or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.70.1">
       a pronoun
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.71.1">
       Adverb
      </span>
     </strong>
     <span class="koboSpan" id="kobo.72.1">
      : Modifies a verb, an adjective, or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.73.1">
       another adverb
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.74.1">
       Preposition
      </span>
     </strong>
     <span class="koboSpan" id="kobo.75.1">
      : Connects a noun/pronoun to other parts of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.76.1">
       the sentence
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.77.1">
       Conjunction
      </span>
     </strong>
     <span class="koboSpan" id="kobo.78.1">
      : Glues words, clauses, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.79.1">
       sentences together
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.80.1">
       Interjection
      </span>
     </strong>
     <span class="koboSpan" id="kobo.81.1">
      : Expresses emotion in a sudden and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.82.1">
       exclamatory way
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.83.1">
     This core set of categories, without any language-specific morphological or syntactic features, are
    </span>
    <a id="_idIndexMarker117">
    </a>
    <span class="koboSpan" id="kobo.84.1">
     called
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.85.1">
      universal tags
     </span>
    </strong>
    <span class="koboSpan" id="kobo.86.1">
     .
    </span>
    <span class="koboSpan" id="kobo.86.2">
     spaCy captures universal tags via
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.87.1">
      the
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.88.1">
       pos_
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.89.1">
       feature
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.90.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.91.1">
     Throughout the book, we are providing examples in the English language, so we’ll only focus on English.
    </span>
    <span class="koboSpan" id="kobo.91.2">
     Different languages offer different tagsets.
    </span>
    <span class="koboSpan" id="kobo.91.3">
     You can see the label schemes used by each model by selecting the model language at
    </span>
    <a href="https://spacy.io/models">
     <span class="koboSpan" id="kobo.92.1">
      https://spacy.io/models
     </span>
    </a>
    <span class="koboSpan" id="kobo.93.1">
     and clicking on the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.94.1">
      Label
     </span>
    </strong>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.95.1">
       Scheme
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.96.1">
      button.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.97.1">
     Each supported language of spaCy admits its own fine-grained tagset and tagging scheme.
    </span>
    <span class="koboSpan" id="kobo.97.2">
     This language specific tagging scheme usually covers morphological features, tenses and aspects of verbs, number of nouns (singular/plural), person and number information of pronouns (first-, second-, or third-person, singular or plural), pronoun type (personal, demonstrative, or interrogative), adjective type (comparative or superlative), and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.98.1">
      so on.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.99.1">
     spaCy supports fine-grained POS tags to answer language-specific needs.
    </span>
    <span class="koboSpan" id="kobo.99.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.100.1">
      tag_feature
     </span>
    </strong>
    <span class="koboSpan" id="kobo.101.1">
     corresponds to the fine-grained tags.
    </span>
    <span class="koboSpan" id="kobo.101.2">
     Don’t worry if you haven’t worked with POS tags before, as you’ll become familiar by practicing with the help of our examples.
    </span>
    <span class="koboSpan" id="kobo.101.3">
     You can also always call
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.102.1">
      spacy.explain()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.103.1">
     on the tags.
    </span>
    <span class="koboSpan" id="kobo.103.2">
     We usually call
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.104.1">
      spacy.explain()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.105.1">
     in two ways, either directly on the tag name string or
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.106.1">
      with
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.107.1">
       token.tag_
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.108.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.109.1">
     Let’s do that in practice with some coding.
    </span>
    <span class="koboSpan" id="kobo.109.2">
     By this point, you should already have the spaCy library and the English model installed, but if not, you can just run
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.110.1">
      python –m pip install spacy
     </span>
    </strong>
    <span class="koboSpan" id="kobo.111.1">
     and then
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.112.1">
      python –m spacy download en_core_web_sm
     </span>
    </strong>
    <span class="koboSpan" id="kobo.113.1">
     .
    </span>
    <span class="koboSpan" id="kobo.113.2">
     All set; let’s
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.114.1">
      get started:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.115.1">
      First, let’s import
     </span>
     <a id="_idIndexMarker118">
     </a>
     <span class="koboSpan" id="kobo.116.1">
      spaCy and explain what the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.117.1">
       NNS
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.118.1">
       tag means:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.119.1">
import spacy
spacy.explain("NNS")
&gt;&gt;&gt; 'noun, plural'</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.120.1">
      Now let’s load the English model and process
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.121.1">
       a sentence:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.122.1">
nlp = spacy.load("en_core_web_sm")
doc = nlp("I saw flowers.")</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.123.1">
      We can print the text and the POS tag of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.124.1">
       each token:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.125.1">
for token in doc:
    print(token.text, "tag:", token.tag_)
&gt;&gt;&gt; I tag: PRP
saw tag: VBD
flowers tag: NNS
. </span><span class="koboSpan" id="kobo.125.2">tag: .</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.126.1">
      We can also print the explanation using
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.127.1">
       token.tag_
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.128.1">
       as input:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.129.1">
for token in doc:
    print(token.text, "tag:", token.tag_, "explanation:",
          spacy.explain(token.tag_))
&gt;&gt;&gt; I tag: PRP explanation: pronoun, personal
saw tag: VBD explanation: verb, past tense
flowers tag: NNS explanation: noun, plural
. </span><span class="koboSpan" id="kobo.129.2">tag: . </span><span class="koboSpan" id="kobo.129.3">explanation: punctuation mark, sentence closer</span></pre>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.130.1">
     If you want to know more about POS, you can read more about it at
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.131.1">
      Eight Parts of
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.132.1">
       Speech
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.133.1">
      :
     </span>
    </span>
    <a href="http://www.butte.edu/departments/cas/tipsheets/grammar/parts_of_speech.html">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.134.1">
       http://www.butte.edu/departments/cas/tipsheets/grammar/parts_of_speech.html
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.135.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.136.1">
     POS tagging offers a very basic syntactic understanding of the sentence.
    </span>
    <span class="koboSpan" id="kobo.136.2">
     POS tags are used in NLU when we want to find the verbs and the nouns in a sentence or better disambiguate some words for their meanings (more on this
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.137.1">
      subject soon).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.138.1">
     Each word is tagged by a POS tag depending on its context—the other surrounding words and their POS tags.
    </span>
    <span class="koboSpan" id="kobo.138.2">
     POS taggers are sequential statistical models, which means that
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.139.1">
      a tag of a word depends on the word-neighbor tokens, their tags, and the word itself
     </span>
    </em>
    <span class="koboSpan" id="kobo.140.1">
     .
    </span>
    <span class="koboSpan" id="kobo.140.2">
     POS tagging
    </span>
    <a id="_idIndexMarker119">
    </a>
    <span class="koboSpan" id="kobo.141.1">
     has always been done in different forms.
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.142.1">
      Sequence-to-sequence learning
     </span>
    </strong>
    <span class="koboSpan" id="kobo.143.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.144.1">
      Seq2seq
     </span>
    </strong>
    <span class="koboSpan" id="kobo.145.1">
     ) started with
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.146.1">
      Hidden Markov Models
     </span>
    </strong>
    <span class="koboSpan" id="kobo.147.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.148.1">
      HMMs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.149.1">
     ) and
    </span>
    <a id="_idIndexMarker120">
    </a>
    <span class="koboSpan" id="kobo.150.1">
     evolved to neural network models, usually
    </span>
    <a id="_idIndexMarker121">
    </a>
    <span class="koboSpan" id="kobo.151.1">
     using
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.152.1">
      Long Short-Term Memory
     </span>
    </strong>
    <span class="koboSpan" id="kobo.153.1">
     (
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.154.1">
       LSTM
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.155.1">
      ) cells.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.156.1">
     Many NLU applications still need to know the word type for better accuracy.
    </span>
    <span class="koboSpan" id="kobo.156.2">
     Syntactic information can be used
    </span>
    <a id="_idIndexMarker122">
    </a>
    <span class="koboSpan" id="kobo.157.1">
     in a traditional task called
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.158.1">
      Word-Sense Disambiguation
     </span>
    </strong>
    <strong class="bold">
    </strong>
    <span class="koboSpan" id="kobo.159.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.160.1">
      WSD
     </span>
    </strong>
    <span class="koboSpan" id="kobo.161.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.161.2">
     Let’s see how to tackle it with the help of the spaCy tagger in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.162.1">
      next section.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-50">
    <a id="_idTextAnchor049">
    </a>
    <span class="koboSpan" id="kobo.163.1">
     Word-Sense Disambiguation (WSD)
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.164.1">
     WSD is a classical NLU
    </span>
    <a id="_idIndexMarker123">
    </a>
    <span class="koboSpan" id="kobo.165.1">
     problem of deciding in which sense a particular word is used in a sentence.
    </span>
    <span class="koboSpan" id="kobo.165.2">
     A word can have many senses—for instance, consider the word bass.
    </span>
    <span class="koboSpan" id="kobo.165.3">
     Here are some senses we can
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.166.1">
      think of:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.167.1">
      Bass—sea
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.168.1">
       bass, fish
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.169.1">
      Bass—lowest
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.170.1">
       masculine voice
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.171.1">
      Bass—male singer with the lowest
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.172.1">
       voice range
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.173.1">
     Determining the sense of the word can be crucial in search engines, machine translation, and question-answering systems.
    </span>
    <span class="koboSpan" id="kobo.173.2">
     For the preceding example, bass, a POS tagger is unfortunately not much help as the tagger labels all senses with a noun tag.
    </span>
    <span class="koboSpan" id="kobo.173.3">
     We need more than a POS tagger.
    </span>
    <span class="koboSpan" id="kobo.173.4">
     How about the word
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.174.1">
      beat
     </span>
    </em>
    <span class="koboSpan" id="kobo.175.1">
     ?
    </span>
    <span class="koboSpan" id="kobo.175.2">
     Let’s have a look at
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.176.1">
      this here:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.177.1">
      Beat—to strike violently (
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.178.1">
        verb
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.179.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.180.1">
        V
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.181.1">
       ))
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.182.1">
      Beat—to defeat someone else in a game or a competition (
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.183.1">
        verb
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.184.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.185.1">
        V
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.186.1">
       ))
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.187.1">
      Beat—rhythm in music or poetry (
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.188.1">
        noun
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.189.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.190.1">
        N
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.191.1">
       ))
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.192.1">
      Beat—bird wing movement (
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.193.1">
        noun
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.194.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.195.1">
        N
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.196.1">
       ))
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.197.1">
      Beat—completely exhausted (
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.198.1">
        adjective
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.199.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.200.1">
        ADJ
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.201.1">
       ))
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.202.1">
     Here, POS tagging can help a lot indeed.
    </span>
    <span class="koboSpan" id="kobo.202.2">
     The
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.203.1">
      ADJ tag
     </span>
    </em>
    <span class="koboSpan" id="kobo.204.1">
     determines the word sense definitely; if the word beat is tagged as ADJ, it identifies the sense
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.205.1">
      completely exhausted
     </span>
    </em>
    <span class="koboSpan" id="kobo.206.1">
     .
    </span>
    <span class="koboSpan" id="kobo.206.2">
     This is not true for the V and N tags; if the word beat is labeled with a V tag, its sense can be to
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.207.1">
      strike violently
     </span>
    </em>
    <span class="koboSpan" id="kobo.208.1">
     or to
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.209.1">
      defeat someone else
     </span>
    </em>
    <span class="koboSpan" id="kobo.210.1">
     .
    </span>
    <span class="koboSpan" id="kobo.210.2">
     WSD is an open problem, and many statistical models are proposed.
    </span>
    <span class="koboSpan" id="kobo.210.3">
     However, if you need a quick prototype, you
    </span>
    <a id="_idIndexMarker124">
    </a>
    <span class="koboSpan" id="kobo.211.1">
     can tackle this problem in some cases (such as in the preceding example) with the help of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.212.1">
      spaCy tagger.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.213.1">
     Verb tense and aspect in NLU applications
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.214.1">
     In the previous chapter, we
    </span>
    <a id="_idIndexMarker125">
    </a>
    <span class="koboSpan" id="kobo.215.1">
     used the example of the travel agency application where we got the base forms (which are freed
    </span>
    <a id="_idIndexMarker126">
    </a>
    <span class="koboSpan" id="kobo.216.1">
     from verb tense and aspect) of the verbs by using
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.217.1">
      lemmatization
     </span>
    </strong>
    <span class="koboSpan" id="kobo.218.1">
     .
    </span>
    <span class="koboSpan" id="kobo.218.2">
     In this subsection, we’ll focus on how to use the verb tense and aspect information that we lost during the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.219.1">
      lemmatization process.
     </span>
    </span>
   </p>
   <p>
    <strong class="bold">
     <span class="koboSpan" id="kobo.220.1">
      Verb tense
     </span>
    </strong>
    <span class="koboSpan" id="kobo.221.1">
     and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.222.1">
      aspect
     </span>
    </strong>
    <span class="koboSpan" id="kobo.223.1">
     are maybe
    </span>
    <a id="_idIndexMarker127">
    </a>
    <span class="koboSpan" id="kobo.224.1">
     the most
    </span>
    <a id="_idIndexMarker128">
    </a>
    <span class="koboSpan" id="kobo.225.1">
     interesting information that verbs provide us, telling us when the action happened in time and if the action of the verb is finished or ongoing.
    </span>
    <span class="koboSpan" id="kobo.225.2">
     Tense and aspect together indicate a verb’s reference to the current time.
    </span>
    <span class="koboSpan" id="kobo.225.3">
     English has three basic tenses: past, present, and future.
    </span>
    <span class="koboSpan" id="kobo.225.4">
     A verb tense can express different aspects and forms, such as the simple, progressive/continuous, perfect, perfect continuous, and future tenses.
    </span>
    <span class="koboSpan" id="kobo.225.5">
     For instance, in the sentence
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.226.1">
      I’m eating
     </span>
    </em>
    <span class="koboSpan" id="kobo.227.1">
     , the action
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.228.1">
      eat
     </span>
    </em>
    <span class="koboSpan" id="kobo.229.1">
     happens in the present and is ongoing.
    </span>
    <span class="koboSpan" id="kobo.229.2">
     Hence, we describe this verb as
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.230.1">
       present progressive/continuous
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.231.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.232.1">
     However, how do we use this information in our travel agency NLU?
    </span>
    <span class="koboSpan" id="kobo.232.2">
     Consider the following customer sentences that can be directed to our
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.233.1">
      NLU application:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.234.1">
      I flew
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.235.1">
       to Rome
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.236.1">
      I’m flying
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.237.1">
       to Rome
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.238.1">
      I will fly
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.239.1">
       to Rome
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.240.1">
     In all the sentences, the action is to
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.241.1">
      fly
     </span>
    </em>
    <span class="koboSpan" id="kobo.242.1">
     : however, only some sentences state the intent to make a ticket booking.
    </span>
    <span class="koboSpan" id="kobo.242.2">
     Let’s imagine these sentences with a surrounding context,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.243.1">
      as follows:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.244.1">
      I flew to Rome three days ago.
     </span>
     <span class="koboSpan" id="kobo.244.2">
      I still didn’t get the bill, please send
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.245.1">
       it ASAP.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.246.1">
      I’m flying to Rome next week.
     </span>
     <span class="koboSpan" id="kobo.246.2">
      Can you check
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.247.1">
       flight availability?
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.248.1">
      I will fly to Rome next week.
     </span>
     <span class="koboSpan" id="kobo.248.2">
      Can you check
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.249.1">
       the flights?
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.250.1">
     At a quick glance, the past form of the verb fly doesn’t indicate a booking intent.
    </span>
    <span class="koboSpan" id="kobo.250.2">
     Rather, it directs to either a customer complaint or customer service issues.
    </span>
    <span class="koboSpan" id="kobo.250.3">
     The
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.251.1">
      infinitive
     </span>
    </em>
    <span class="koboSpan" id="kobo.252.1">
     and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.253.1">
      present progressive
     </span>
    </em>
    <span class="koboSpan" id="kobo.254.1">
     forms, on the other hand, point to booking intent.
    </span>
    <span class="koboSpan" id="kobo.254.2">
     We can use the POS tags to
    </span>
    <a id="_idIndexMarker129">
    </a>
    <span class="koboSpan" id="kobo.255.1">
     filter these intents by filtering the sentences that have the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.256.1">
      VBG
     </span>
    </strong>
    <span class="koboSpan" id="kobo.257.1">
     tag (a verb in present progressive form) or the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.258.1">
      VB
     </span>
    </strong>
    <span class="koboSpan" id="kobo.259.1">
     tag (a verb in base/infinitive form).
    </span>
    <span class="koboSpan" id="kobo.259.2">
     Let’s do that in the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.260.1">
      code segment:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.261.1">
import spacy
nlp = spacy.load("en_core_web_sm")
sent1 = "I flew to Rome"
sent2 = "I'm flying to Rome"
sent3 = "I will fly to Rome"
doc1 = nlp(sent1)
doc2 = nlp(sent2)
doc3 = nlp(sent3)
for doc in [doc1, doc2, doc3]:
    print([(w.text, w.lemma_) for w in doc if 
           w.tag_== 'VBG' or w.tag_== 'VB'])
&gt;&gt;&gt; []
    [('flying', 'fly')]
    [('fly', 'fly')]</span></pre>
   <p>
    <span class="koboSpan" id="kobo.262.1">
     We have covered
    </span>
    <a id="_idIndexMarker130">
    </a>
    <span class="koboSpan" id="kobo.263.1">
     one semantic and one morphological task—WSD and tense/aspect of verbs.
    </span>
    <span class="koboSpan" id="kobo.263.2">
     We’ll now continue with another syntactic
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.264.1">
      concept—dependency parsing.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-51">
    <a id="_idTextAnchor050">
    </a>
    <span class="koboSpan" id="kobo.265.1">
     Introduction to dependency parsing
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.266.1">
     With spaCy’s dependency
    </span>
    <a id="_idIndexMarker131">
    </a>
    <span class="koboSpan" id="kobo.267.1">
     parser, we can
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.268.1">
      represent the syntactic structure of sentences
     </span>
    </em>
    <span class="koboSpan" id="kobo.269.1">
     .
    </span>
    <span class="koboSpan" id="kobo.269.2">
     In the previous section, we focused on POS tags, which categorize words syntactically.
    </span>
    <span class="koboSpan" id="kobo.269.3">
     While POS tags offer insights into the tags of neighboring words, they don’t reveal the relationships between words that are not directly adjacent in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.270.1">
      a sentence.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.271.1">
     As the name suggests, dependency parsing involves analyzing sentence structures via dependencies between the tokens.
    </span>
    <span class="koboSpan" id="kobo.271.2">
     The dependency parser tags syntactic relations between tokens of the sentence and connects tokens that are syntactically related.
    </span>
    <span class="koboSpan" id="kobo.271.3">
     A dependency or a dependency relation is a directed link between
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.272.1">
      two tokens.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.273.1">
     We can visualize the dependency parsing as a tree, as illustrated in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.274.1">
       Figure 3
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.275.1">
       .1
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.276.1">
      .
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer026">
     <span class="koboSpan" id="kobo.277.1">
      <img alt="Figure 3.1 – The result of running dependency parsing on a sentence" src="image/B22441_03_01.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.278.1">
     Figure 3.1 – The result of running dependency parsing on a sentence
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.279.1">
     Let’s learn more
    </span>
    <a id="_idIndexMarker132">
    </a>
    <span class="koboSpan" id="kobo.280.1">
     about these dependency relations in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.281.1">
      next section.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-52">
    <a id="_idTextAnchor051">
    </a>
    <span class="koboSpan" id="kobo.282.1">
     Dependency relations
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.283.1">
     Many statistical
    </span>
    <a id="_idIndexMarker133">
    </a>
    <span class="koboSpan" id="kobo.284.1">
     methods in NLP revolve around vector representations of words and treat a sentence as a sequence of words.
    </span>
    <span class="koboSpan" id="kobo.284.2">
     As you can see in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.285.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.286.1">
      .1
     </span>
    </em>
    <span class="koboSpan" id="kobo.287.1">
     , a sentence is more than a sequence of tokens—it has a structure.
    </span>
    <span class="koboSpan" id="kobo.287.2">
     Every word in a sentence has a well-defined role, such as verb, subject, object, and so on; hence, sentences have a structure.
    </span>
    <span class="koboSpan" id="kobo.287.3">
     This structure is used extensively in chatbots, question-answering, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.288.1">
      machine translation.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.289.1">
     The most useful application that first comes to mind is determining the sentence object and subject.
    </span>
    <span class="koboSpan" id="kobo.289.2">
     Again, let’s go back to our travel agency application.
    </span>
    <span class="koboSpan" id="kobo.289.3">
     Imagine a customer is complaining about the service.
    </span>
    <span class="koboSpan" id="kobo.289.4">
     Compare the two sentences
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.290.1">
      I forwarded you the email
     </span>
    </em>
    <span class="koboSpan" id="kobo.291.1">
     and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.292.1">
      You forwarded me the email
     </span>
    </em>
    <span class="koboSpan" id="kobo.293.1">
     ; if we eliminate the stop words
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.294.1">
      I
     </span>
    </em>
    <span class="koboSpan" id="kobo.295.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.296.1">
      you
     </span>
    </em>
    <span class="koboSpan" id="kobo.297.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.298.1">
      me
     </span>
    </em>
    <span class="koboSpan" id="kobo.299.1">
     , and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.300.1">
      the
     </span>
    </em>
    <span class="koboSpan" id="kobo.301.1">
     , this is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.302.1">
      what remains:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.303.1">
      I forwarded you the email -&gt;
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.304.1">
       forwarded email
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.305.1">
      You forwarded me the email -&gt;
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.306.1">
       forwarded email
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.307.1">
     Though the remaining parts of the sentences are identical, the two sentences have very different meanings and require different answers.
    </span>
    <span class="koboSpan" id="kobo.307.2">
     In the first sentence, the sentence subject is
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.308.1">
      I
     </span>
    </em>
    <span class="koboSpan" id="kobo.309.1">
     (then, the answer most probably will start with
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.310.1">
      you
     </span>
    </em>
    <span class="koboSpan" id="kobo.311.1">
     ), and the second sentence’s subject is
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.312.1">
      you
     </span>
    </em>
    <span class="koboSpan" id="kobo.313.1">
     (which will end up in an
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.314.1">
       I
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.315.1">
      answer).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.316.1">
     The dependency parser helps us to go deeper into the sentence syntax and semantics, going beyond the analysis
    </span>
    <a id="_idIndexMarker134">
    </a>
    <span class="koboSpan" id="kobo.317.1">
     of the words by themselves.
    </span>
    <span class="koboSpan" id="kobo.317.2">
     Let’s explore more, starting from the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.318.1">
      dependency relations.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-53">
    <a id="_idTextAnchor052">
    </a>
    <span class="koboSpan" id="kobo.319.1">
     Syntactic relations
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.320.1">
     spaCy assigns each
    </span>
    <a id="_idIndexMarker135">
    </a>
    <span class="koboSpan" id="kobo.321.1">
     token a dependency label, just as with other linguistic features such as a lemma or a POS tag.
    </span>
    <span class="koboSpan" id="kobo.321.2">
     spaCy shows dependency relations with directed arcs.
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.322.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.323.1">
      .2
     </span>
    </em>
    <span class="koboSpan" id="kobo.324.1">
     shows an example of a dependency relation between a noun and the adjective that qualifies
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.325.1">
      the noun:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer027">
     <span class="koboSpan" id="kobo.326.1">
      <img alt="Figure 3.2 – Dependency relation between a noun and its adjective" src="image/B22441_03_02.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.327.1">
     Figure 3.2 – Dependency relation between a noun and its adjective
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.328.1">
     A dependency label describes the type of syntactic relation between two tokens as follows: one of the
    </span>
    <a id="_idIndexMarker136">
    </a>
    <span class="koboSpan" id="kobo.329.1">
     tokens is
    </span>
    <a id="_idIndexMarker137">
    </a>
    <span class="koboSpan" id="kobo.330.1">
     the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.331.1">
      syntactic parent
     </span>
    </strong>
    <span class="koboSpan" id="kobo.332.1">
     (called the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.333.1">
      head
     </span>
    </strong>
    <span class="koboSpan" id="kobo.334.1">
     ) and the
    </span>
    <a id="_idIndexMarker138">
    </a>
    <span class="koboSpan" id="kobo.335.1">
     other is its
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.336.1">
      dependent
     </span>
    </strong>
    <span class="koboSpan" id="kobo.337.1">
     (called the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.338.1">
      child
     </span>
    </strong>
    <span class="koboSpan" id="kobo.339.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.339.2">
     In the preceding example,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.340.1">
      flower
     </span>
    </strong>
    <span class="koboSpan" id="kobo.341.1">
     is the head and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.342.1">
      blue
     </span>
    </strong>
    <span class="koboSpan" id="kobo.343.1">
     is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.344.1">
      its dependent/child.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.345.1">
     The dependency label is assigned to the child.
    </span>
    <span class="koboSpan" id="kobo.345.2">
     Token objects have
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.346.1">
      dep
     </span>
    </strong>
    <span class="koboSpan" id="kobo.347.1">
     (int value) and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.348.1">
      dep_
     </span>
    </strong>
    <span class="koboSpan" id="kobo.349.1">
     (unicode, human-readable string) properties that hold the dependency label, as illustrated in the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.350.1">
      code snippet:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.351.1">
doc = nlp("blue flower")
for token in doc:
    print(token.text, "\tdep:",token.dep_)
&gt;&gt;&gt; blue dep: amod
    flower dep: ROOT</span></pre>
   <p>
    <span class="koboSpan" id="kobo.352.1">
     In this example, we iterated over the tokens and printed their text and dependency labels.
    </span>
    <span class="koboSpan" id="kobo.352.2">
     Let’s understand these
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.353.1">
      dependency labels:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.354.1">
       blue
      </span>
     </strong>
     <span class="koboSpan" id="kobo.355.1">
      had the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.356.1">
       amod
      </span>
     </strong>
     <span class="koboSpan" id="kobo.357.1">
      label assigned.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.358.1">
       amod
      </span>
     </strong>
     <span class="koboSpan" id="kobo.359.1">
      is the dependency label for an
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.360.1">
       adjective-noun relation.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.361.1">
       flower
      </span>
     </strong>
     <span class="koboSpan" id="kobo.362.1">
      is the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.363.1">
       ROOT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.364.1">
      .
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.365.1">
       ROOT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.366.1">
      is a special label in the dependency tree; it is assigned to the main verb of a sentence.
     </span>
     <span class="koboSpan" id="kobo.366.2">
      If we’re processing a phrase (not a full sentence), the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.367.1">
       ROOT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.368.1">
      label is assigned to the root of the phrase, which is the head noun of the phrase.
     </span>
     <span class="koboSpan" id="kobo.368.2">
      In the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.369.1">
       blue flower
      </span>
     </strong>
     <span class="koboSpan" id="kobo.370.1">
      phrase, the head noun,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.371.1">
       flower
      </span>
     </strong>
     <span class="koboSpan" id="kobo.372.1">
      , is the root of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.373.1">
       the phrase.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.374.1">
      Each sentence or phrase has exactly one root, and it’s the root of the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.375.1">
       parse tree.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.376.1">
      Tree nodes can have more than one child, but each node can only have one parent (due to tree restrictions, and trees containing no cycles).
     </span>
     <span class="koboSpan" id="kobo.376.2">
      In other words, every token has exactly one head, but a parent can have several children.
     </span>
     <span class="koboSpan" id="kobo.376.3">
      This is the reason why the dependency label is assigned to the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.377.1">
       dependent node.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.378.1">
     Let’s see a list of the most common and useful dependency labels, then we’ll see how exactly they link tokens
    </span>
    <a id="_idIndexMarker139">
    </a>
    <span class="koboSpan" id="kobo.379.1">
     to each other.
    </span>
    <span class="koboSpan" id="kobo.379.2">
     Here’s the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.380.1">
      list first:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.381.1">
       amod
      </span>
     </strong>
     <span class="koboSpan" id="kobo.382.1">
      :
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.383.1">
       Adjectival modifier
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.384.1">
        aux
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.385.1">
       : Auxiliary
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.386.1">
        compound
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.387.1">
       : Compound
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.388.1">
       dative
      </span>
     </strong>
     <span class="koboSpan" id="kobo.389.1">
      :
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.390.1">
       Dative object
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.391.1">
        det
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.392.1">
       : Determiner
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.393.1">
       dobj
      </span>
     </strong>
     <span class="koboSpan" id="kobo.394.1">
      :
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.395.1">
       Direct object
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.396.1">
       nsubj
      </span>
     </strong>
     <span class="koboSpan" id="kobo.397.1">
      :
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.398.1">
       Nominal subject
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.399.1">
       nsubjpass
      </span>
     </strong>
     <span class="koboSpan" id="kobo.400.1">
      : Nominal
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.401.1">
       subject, passive
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.402.1">
       nummod
      </span>
     </strong>
     <span class="koboSpan" id="kobo.403.1">
      :
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.404.1">
       Numeric modifier
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.405.1">
       poss
      </span>
     </strong>
     <span class="koboSpan" id="kobo.406.1">
      :
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.407.1">
       Possessive modifier
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.408.1">
       root
      </span>
     </strong>
     <span class="koboSpan" id="kobo.409.1">
      :
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.410.1">
       The root
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.411.1">
     Let’s see examples of how these labels are used and what relation
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.412.1">
      they express:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.413.1">
       amod
      </span>
     </strong>
     <span class="koboSpan" id="kobo.414.1">
      is an adjectival modifier.
     </span>
     <span class="koboSpan" id="kobo.414.2">
      As understood from the name, this relation modifies the noun (or pronoun).
     </span>
     <span class="koboSpan" id="kobo.414.3">
      In
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.415.1">
        Figure 3
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.416.1">
       .3,
      </span>
     </em>
     <span class="koboSpan" id="kobo.417.1">
      we see white
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.418.1">
       modify sheep:
      </span>
     </span>
    </li>
   </ul>
   <div>
    <div class="IMG---Figure" id="_idContainer028">
     <span class="koboSpan" id="kobo.419.1">
      <img alt="Figure 3.3 – amod relation" src="image/B22441_03_03.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.420.1">
     Figure 3.3 – amod relation
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.421.1">
       aux
      </span>
     </strong>
     <span class="koboSpan" id="kobo.422.1">
      is what
     </span>
     <a id="_idIndexMarker140">
     </a>
     <span class="koboSpan" id="kobo.423.1">
      you might guess: it’s the dependency relation between an auxiliary verb and its main verb.
     </span>
     <span class="koboSpan" id="kobo.423.2">
      The dependent is an auxiliary verb, and the head is the main verb.
     </span>
     <span class="koboSpan" id="kobo.423.3">
      In
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.424.1">
        Figure 3
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.425.1">
       .4
      </span>
     </em>
     <span class="koboSpan" id="kobo.426.1">
      , we see that
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.427.1">
       has
      </span>
     </strong>
     <span class="koboSpan" id="kobo.428.1">
      is the auxiliary verb of the main
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.429.1">
        gone
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.430.1">
       verb:
      </span>
     </span>
    </li>
   </ul>
   <div>
    <div class="IMG---Figure" id="_idContainer029">
     <span class="koboSpan" id="kobo.431.1">
      <img alt="Figure 3.4 – aux relation" src="image/B22441_03_04.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.432.1">
     Figure 3.4 – aux relation
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.433.1">
       compound
      </span>
     </strong>
     <span class="koboSpan" id="kobo.434.1">
      is used for the noun compounds; the second noun is modified by the first noun.
     </span>
     <span class="koboSpan" id="kobo.434.2">
      In
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.435.1">
        Figure 3
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.436.1">
       .5
      </span>
     </em>
     <span class="koboSpan" id="kobo.437.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.438.1">
       phone book
      </span>
     </strong>
     <span class="koboSpan" id="kobo.439.1">
      is a noun compound and the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.440.1">
       phone
      </span>
     </strong>
     <span class="koboSpan" id="kobo.441.1">
      noun modifies the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.442.1">
        book
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.443.1">
       noun:
      </span>
     </span>
    </li>
   </ul>
   <div>
    <div class="IMG---Figure" id="_idContainer030">
     <span class="koboSpan" id="kobo.444.1">
      <img alt="Figure 3.5 – compound relation" src="image/B22441_03_05.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.445.1">
     Figure 3.5 – compound relation
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.446.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.447.1">
       det
      </span>
     </strong>
     <span class="koboSpan" id="kobo.448.1">
      relation links a
     </span>
     <a id="_idIndexMarker141">
     </a>
     <span class="koboSpan" id="kobo.449.1">
      determiner (the dependent) to the noun it qualifies (its head).
     </span>
     <span class="koboSpan" id="kobo.449.2">
      In
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.450.1">
        Figure 3
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.451.1">
       .6
      </span>
     </em>
     <span class="koboSpan" id="kobo.452.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.453.1">
       the
      </span>
     </strong>
     <span class="koboSpan" id="kobo.454.1">
      is the determiner of the noun
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.455.1">
       girl
      </span>
     </strong>
     <span class="koboSpan" id="kobo.456.1">
      in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.457.1">
       this sentence:
      </span>
     </span>
    </li>
   </ul>
   <div>
    <div class="IMG---Figure" id="_idContainer031">
     <span class="koboSpan" id="kobo.458.1">
      <img alt="Figure 3.6 – det relation" src="image/B22441_03_06.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.459.1">
     Figure 3.6 – det relation
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.460.1">
     Next, we’ll look into two object relations,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.461.1">
      dative
     </span>
    </strong>
    <span class="koboSpan" id="kobo.462.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.463.1">
      dobj
     </span>
    </strong>
    <span class="koboSpan" id="kobo.464.1">
     .
    </span>
    <span class="koboSpan" id="kobo.464.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.465.1">
      dobj
     </span>
    </strong>
    <span class="koboSpan" id="kobo.466.1">
     relation is between the verb and its direct object.
    </span>
    <span class="koboSpan" id="kobo.466.2">
     A sentence can have more than one object (such as in the following example); a direct object is the object that the verb acts upon, and the others are
    </span>
    <a id="_idIndexMarker142">
    </a>
    <span class="koboSpan" id="kobo.467.1">
     called
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.468.1">
       indirect objects
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.469.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.470.1">
     A direct object is generally marked
    </span>
    <a id="_idIndexMarker143">
    </a>
    <span class="koboSpan" id="kobo.471.1">
     with the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.472.1">
      accusative case
     </span>
    </strong>
    <span class="koboSpan" id="kobo.473.1">
     .
    </span>
    <span class="koboSpan" id="kobo.473.2">
     A
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.474.1">
      dative
     </span>
    </strong>
    <span class="koboSpan" id="kobo.475.1">
     relation
    </span>
    <a id="_idIndexMarker144">
    </a>
    <span class="koboSpan" id="kobo.476.1">
     points
    </span>
    <a id="_idIndexMarker145">
    </a>
    <span class="koboSpan" id="kobo.477.1">
     to a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.478.1">
      dative object
     </span>
    </strong>
    <span class="koboSpan" id="kobo.479.1">
     , which receives an indirect action from the verb.
    </span>
    <span class="koboSpan" id="kobo.479.2">
     In the sentence shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.480.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.481.1">
      .7
     </span>
    </em>
    <span class="koboSpan" id="kobo.482.1">
     , the indirect object is
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.483.1">
      me
     </span>
    </strong>
    <span class="koboSpan" id="kobo.484.1">
     and the direct object
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.485.1">
      is
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.486.1">
       book
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.487.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer032">
     <span class="koboSpan" id="kobo.488.1">
      <img alt="Figure 3.7 – The direct and indirect objects of the sentence" src="image/B22441_03_07.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.489.1">
     Figure 3.7 – The direct and indirect objects of the sentence
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.490.1">
      nsubj
     </span>
    </strong>
    <span class="koboSpan" id="kobo.491.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.492.1">
      nsubjposs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.493.1">
     are two relations that are related to the nominal sentence subject.
    </span>
    <span class="koboSpan" id="kobo.493.2">
     The subject of the sentence is the one that committed the action.
    </span>
    <span class="koboSpan" id="kobo.493.3">
     A passive subject is still the
    </span>
    <a id="_idIndexMarker146">
    </a>
    <span class="koboSpan" id="kobo.494.1">
     subject, but we mark it with
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.495.1">
      nsubjposs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.496.1">
     .
    </span>
    <span class="koboSpan" id="kobo.496.2">
     In
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.497.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.498.1">
      .8
     </span>
    </em>
    <span class="koboSpan" id="kobo.499.1">
     ,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.500.1">
      Mary
     </span>
    </strong>
    <span class="koboSpan" id="kobo.501.1">
     is the nominal subject of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.502.1">
      the sentence:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer033">
     <span class="koboSpan" id="kobo.503.1">
      <img alt="Figure 3.8 – nsubj relation" src="image/B22441_03_08.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.504.1">
     Figure 3.8 – nsubj relation
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.505.1">
      you
     </span>
    </strong>
    <span class="koboSpan" id="kobo.506.1">
     is the passive nominal subject of the sentence in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.507.1">
       Figure 3
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.508.1">
       .9
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.509.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer034">
     <span class="koboSpan" id="kobo.510.1">
      <img alt="Figure 3.9 – nsubjpass relation" src="image/B22441_03_09.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.511.1">
     Figure 3.9 – nsubjpass relation
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.512.1">
     We have now covered sentence subject and object relations.
    </span>
    <span class="koboSpan" id="kobo.512.2">
     Now, we’ll discover two modifier relations; one
    </span>
    <a id="_idIndexMarker147">
    </a>
    <span class="koboSpan" id="kobo.513.1">
     is the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.514.1">
      nummod (numeric modifier)
     </span>
    </strong>
    <span class="koboSpan" id="kobo.515.1">
     and the other is the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.516.1">
      poss (possessive modifier)
     </span>
    </strong>
    <span class="koboSpan" id="kobo.517.1">
     .
    </span>
    <span class="koboSpan" id="kobo.517.2">
     A
    </span>
    <a id="_idIndexMarker148">
    </a>
    <span class="koboSpan" id="kobo.518.1">
     numeric modifier modifies the meaning of the head noun by a number or quantity.
    </span>
    <span class="koboSpan" id="kobo.518.2">
     In the
    </span>
    <a id="_idIndexMarker149">
    </a>
    <span class="koboSpan" id="kobo.519.1">
     sentence in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.520.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.521.1">
      .10
     </span>
    </em>
    <span class="koboSpan" id="kobo.522.1">
     ,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.523.1">
      nummod
     </span>
    </strong>
    <span class="koboSpan" id="kobo.524.1">
     is easy to spot; it’s between
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.525.1">
      3
     </span>
    </strong>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.526.1">
      and
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.527.1">
       books
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.528.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer035">
     <span class="koboSpan" id="kobo.529.1">
      <img alt="Figure 3.10 – nummod relation" src="image/B22441_03_10.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.530.1">
     Figure 3.10 – nummod relation
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.531.1">
     A possessive modifier happens either between a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.532.1">
      possessive pronoun
     </span>
    </em>
    <span class="koboSpan" id="kobo.533.1">
     and a noun or a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.534.1">
      possessive’s
     </span>
    </em>
    <span class="koboSpan" id="kobo.535.1">
     and a noun.
    </span>
    <span class="koboSpan" id="kobo.535.2">
     In the sentence shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.536.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.537.1">
      .11
     </span>
    </em>
    <span class="koboSpan" id="kobo.538.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.539.1">
      my
     </span>
    </strong>
    <span class="koboSpan" id="kobo.540.1">
     is a possessive marker on the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.541.1">
      noun
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.542.1">
       book
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.543.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer036">
     <span class="koboSpan" id="kobo.544.1">
      <img alt="Figure 3.11 – poss relation between my and book" src="image/B22441_03_11.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.545.1">
     Figure 3.11 – poss relation between my and book
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.546.1">
     Last, but not least,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.547.1">
      is
     </span>
    </strong>
    <span class="koboSpan" id="kobo.548.1">
     is the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.549.1">
      root
     </span>
    </strong>
    <span class="koboSpan" id="kobo.550.1">
     label, which is not a real relation but is a marker for the sentence verb.
    </span>
    <span class="koboSpan" id="kobo.550.2">
     A root word has no real parent in the syntactic tree; the root is the main verb of the sentence.
    </span>
    <span class="koboSpan" id="kobo.550.3">
     In the preceding sentence, the main verb is the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.551.1">
      is
     </span>
    </strong>
    <span class="koboSpan" id="kobo.552.1">
     auxiliary verb.
    </span>
    <span class="koboSpan" id="kobo.552.2">
     Notice that the root node has no incoming arc—that is,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.553.1">
      no parent.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.554.1">
     These are the most
    </span>
    <a id="_idIndexMarker150">
    </a>
    <span class="koboSpan" id="kobo.555.1">
     useful labels for our NLU purposes.
    </span>
    <span class="koboSpan" id="kobo.555.2">
     Now let’s practice how we can make use of dependency labels.
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.556.1">
      token.dep_
     </span>
    </strong>
    <span class="koboSpan" id="kobo.557.1">
     includes the dependency label of the dependent token.
    </span>
    <span class="koboSpan" id="kobo.557.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.558.1">
      token.head
     </span>
    </strong>
    <span class="koboSpan" id="kobo.559.1">
     property points to the head/parent token.
    </span>
    <span class="koboSpan" id="kobo.559.2">
     Only the root token does not have a parent; spaCy points to the token itself in this case.
    </span>
    <span class="koboSpan" id="kobo.559.3">
     Let’s bisect the example sentence from
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.560.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.561.1">
      .11
     </span>
    </em>
    <span class="koboSpan" id="kobo.562.1">
     ,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.563.1">
      as follows:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.564.1">
doc = nlp("This is my book")
for token in doc:
    print(token.text, "\tpos:", token.pos_, "\tdep:", token.dep_)
&gt;&gt;&gt; This   pos: PRON    dep: nsubj
    is     pos: AUX     dep: ROOT
    my     pos: PRON    dep: poss
    book   pos: NOUN    dep: attr</span></pre>
   <p>
    <span class="koboSpan" id="kobo.565.1">
     We iterated over the tokens and printed the fine-grained POS tag and the dependency label.
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.566.1">
      is
     </span>
    </strong>
    <span class="koboSpan" id="kobo.567.1">
     is the main verb of the sentence and is labeled by the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.568.1">
      ROOT
     </span>
    </strong>
    <span class="koboSpan" id="kobo.569.1">
     label.
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.570.1">
      This
     </span>
    </strong>
    <span class="koboSpan" id="kobo.571.1">
     is the subject of the sentence.
    </span>
    <span class="koboSpan" id="kobo.571.2">
     We can go one level deeper and print the token heads this time,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.572.1">
      as follows:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.573.1">
doc = nlp("This is my book")
for token in doc:
    print(token.text, "\tpos:", token.pos_, "\tdep:", token.dep_, "\thead:", token.head)
&gt;&gt;&gt; This   pos: PRON   dep: nsubj   head: is
    is     pos: AUX    dep: ROOT    head: is
    my     pos: PRON   dep: poss    head: book
    book   pos: NOUN   dep: attr    head: is</span></pre>
   <p>
    <span class="koboSpan" id="kobo.574.1">
     We can see that the verb
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.575.1">
      is
     </span>
    </strong>
    <span class="koboSpan" id="kobo.576.1">
     is the head of all the tokens except the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.577.1">
      my
     </span>
    </strong>
    <span class="koboSpan" id="kobo.578.1">
     one, which has
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.579.1">
      book
     </span>
    </strong>
    <span class="koboSpan" id="kobo.580.1">
     as the head.
    </span>
    <span class="koboSpan" id="kobo.580.2">
     Let’s
    </span>
    <a id="_idIndexMarker151">
    </a>
    <span class="koboSpan" id="kobo.581.1">
     examine the dependency tree of a longer and more complicated sentence,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.582.1">
      as follows:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.583.1">
doc = nlp("We are trying to understand the difference.")
for token in doc:
    print(token.text, token.pos_, "\tdep:", token.dep_, "\thead:", token.head)
&gt;&gt;&gt;  We         PRON  dep: nsubj      head: trying
     are        AUX   dep: aux        head: trying
     trying     VERB  dep: ROOT       head: trying
     to         PART  dep: aux        head: understand
     understand VERB  dep: xcomp      head: trying
     the        DET   dep: det        head: difference
     difference NOUN  dep: dobj       head: understand
     .          PUNCT dep: punct      head: trying</span></pre>
   <p>
    <span class="koboSpan" id="kobo.584.1">
     As we can see in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.585.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.586.1">
      .12
     </span>
    </em>
    <span class="koboSpan" id="kobo.587.1">
     , we locate the main verb and the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.588.1">
      trying
     </span>
    </strong>
    <span class="koboSpan" id="kobo.589.1">
     root (it has no incoming arcs).
    </span>
    <span class="koboSpan" id="kobo.589.2">
     The left side of the word
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.590.1">
      trying
     </span>
    </strong>
    <span class="koboSpan" id="kobo.591.1">
     looks manageable, but the right side has a chain of arcs.
    </span>
    <span class="koboSpan" id="kobo.591.2">
     Let’s start with the left side.
    </span>
    <span class="koboSpan" id="kobo.591.3">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.592.1">
      we
     </span>
    </strong>
    <span class="koboSpan" id="kobo.593.1">
     pronoun is labeled with
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.594.1">
      nsubj
     </span>
    </strong>
    <span class="koboSpan" id="kobo.595.1">
     .
    </span>
    <span class="koboSpan" id="kobo.595.2">
     Hence, this is the nominal subject of the sentence.
    </span>
    <span class="koboSpan" id="kobo.595.3">
     The other left arc, labeled
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.596.1">
      aux
     </span>
    </strong>
    <span class="koboSpan" id="kobo.597.1">
     , points to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.598.1">
      trying
     </span>
    </strong>
    <span class="koboSpan" id="kobo.599.1">
     dependent (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.600.1">
      are
     </span>
    </strong>
    <span class="koboSpan" id="kobo.601.1">
     ), which is the auxiliary verb of the main
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.602.1">
      verb,
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.603.1">
       trying
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.604.1">
      .
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer037">
     <span class="koboSpan" id="kobo.605.1">
      <img alt="Figure 3.12 – A complicated parsing example" src="image/B22441_03_12.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.606.1">
     Figure 3.12 – A complicated parsing example
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.607.1">
     Now let’s see what is happening on the right side.
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.608.1">
      trying
     </span>
    </strong>
    <span class="koboSpan" id="kobo.609.1">
     is attached to the second verb,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.610.1">
      understand
     </span>
    </strong>
    <span class="koboSpan" id="kobo.611.1">
     , via an
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.612.1">
      xcomp
     </span>
    </strong>
    <span class="koboSpan" id="kobo.613.1">
     relation.
    </span>
    <span class="koboSpan" id="kobo.613.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.614.1">
      xcomp
     </span>
    </strong>
    <span class="koboSpan" id="kobo.615.1">
     (or open complement) relation of a verb is a clause without its own subject.
    </span>
    <span class="koboSpan" id="kobo.615.2">
     Here, the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.616.1">
      to understand the difference
     </span>
    </strong>
    <span class="koboSpan" id="kobo.617.1">
     clause has no subject, so it’s an open complement.
    </span>
    <span class="koboSpan" id="kobo.617.2">
     We follow the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.618.1">
      dobj
     </span>
    </strong>
    <span class="koboSpan" id="kobo.619.1">
     arc from the second verb,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.620.1">
      understand
     </span>
    </strong>
    <span class="koboSpan" id="kobo.621.1">
     , and land on the noun,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.622.1">
      difference
     </span>
    </strong>
    <span class="koboSpan" id="kobo.623.1">
     , which is the direct object of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.624.1">
      to understand the
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.625.1">
       difference
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.626.1">
      clause.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.627.1">
     The
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.628.1">
      displaCy
     </span>
    </em>
    <span class="koboSpan" id="kobo.629.1">
     online demo (
    </span>
    <a href="https://demos.explosion.ai/displacy">
     <span class="koboSpan" id="kobo.630.1">
      https://demos.explosion.ai/displacy
     </span>
    </a>
    <span class="koboSpan" id="kobo.631.1">
     ) is a great tool for you to try your own example sentences and see the parsing results.
    </span>
    <span class="koboSpan" id="kobo.631.2">
     This section has a solid foundation for
    </span>
    <a id="_idIndexMarker152">
    </a>
    <span class="koboSpan" id="kobo.632.1">
     general linguistics and information extraction for the pattern-matching exercises we will see in
    </span>
    <a href="B22441_04.xhtml#_idTextAnchor056">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.633.1">
        Chapter 4
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.634.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.635.1">
     To finish this chapter, let’s learn about a very famous NLP
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.636.1">
      task: NER.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-54">
    <a id="_idTextAnchor053">
    </a>
    <span class="koboSpan" id="kobo.637.1">
     Introducing NER
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.638.1">
     What is a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.639.1">
      named entity
     </span>
    </strong>
    <span class="koboSpan" id="kobo.640.1">
     ?
    </span>
    <span class="koboSpan" id="kobo.640.2">
     A named
    </span>
    <a id="_idIndexMarker153">
    </a>
    <span class="koboSpan" id="kobo.641.1">
     entity is a real-world object
    </span>
    <a id="_idIndexMarker154">
    </a>
    <span class="koboSpan" id="kobo.642.1">
     that we can refer to by a proper name or quantity of interest.
    </span>
    <span class="koboSpan" id="kobo.642.2">
     It can be a person, a place (city, country, landmark, or famous building), an organization, a company, a product, dates, times, percentages, monetary amounts, a drug, or a disease name.
    </span>
    <span class="koboSpan" id="kobo.642.3">
     Some examples are Alicia Keys, Paris, France, Brandenburg Gate, WHO, Google, Porsche Cayenne, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.643.1">
      so on.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.644.1">
     A named entity always points to a specific object, and that object is distinguishable via the corresponding named entity.
    </span>
    <span class="koboSpan" id="kobo.644.2">
     For instance, if we tag the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.645.1">
      Paris is the capital of France
     </span>
    </strong>
    <span class="koboSpan" id="kobo.646.1">
     sentence, we parse
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.647.1">
      Paris
     </span>
    </strong>
    <span class="koboSpan" id="kobo.648.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.649.1">
      France
     </span>
    </strong>
    <span class="koboSpan" id="kobo.650.1">
     as named entities, but not the word
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.651.1">
      capital
     </span>
    </strong>
    <span class="koboSpan" id="kobo.652.1">
     .
    </span>
    <span class="koboSpan" id="kobo.652.2">
     The reason is that
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.653.1">
      capital
     </span>
    </strong>
    <span class="koboSpan" id="kobo.654.1">
     does not point to a specific object; it’s a general name for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.655.1">
      many objects.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.656.1">
     NER categorization is a bit different from POS categorization.
    </span>
    <span class="koboSpan" id="kobo.656.2">
     Here, the number of categories is as high as we want.
    </span>
    <span class="koboSpan" id="kobo.656.3">
     The most common categories are person, location, and organization and are supported by almost every usable
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.657.1">
      NER tagger.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.658.1">
     spaCy supports a wide range of entity types.
    </span>
    <span class="koboSpan" id="kobo.658.2">
     Which ones you use depends on your corpus.
    </span>
    <span class="koboSpan" id="kobo.658.3">
     If you process financial text, you most probably use
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.659.1">
      MONEY
     </span>
    </strong>
    <span class="koboSpan" id="kobo.660.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.661.1">
      PERCENTAGE
     </span>
    </strong>
    <span class="koboSpan" id="kobo.662.1">
     more often
    </span>
    <a id="_idIndexMarker155">
    </a>
    <span class="koboSpan" id="kobo.663.1">
     than
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.664.1">
      WORK_OF_ART
     </span>
    </strong>
    <span class="koboSpan" id="kobo.665.1">
     .
    </span>
    <span class="koboSpan" id="kobo.665.2">
     Here is a list of the entity types supported by spaCy (sourced
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.666.1">
      from
     </span>
    </span>
    <a href="https://towardsdatascience.com/explorations-in-named-entity-recognition-and-was-eleanor-roosevelt-right-671271117218">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.667.1">
       https://towardsdatascience.com/explorations-in-named-entity-recognition-and-was-eleanor-roosevelt-right-671271117218
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.668.1">
      ):
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.669.1">
       PERSON
      </span>
     </strong>
     <span class="koboSpan" id="kobo.670.1">
      : People,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.671.1">
       including fictional
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.672.1">
       NORP
      </span>
     </strong>
     <span class="koboSpan" id="kobo.673.1">
      : Nationalities or religious or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.674.1">
       political groups
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.675.1">
       FAC
      </span>
     </strong>
     <span class="koboSpan" id="kobo.676.1">
      : Buildings, airports, highways, bridges, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.677.1">
       so on
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.678.1">
       ORG
      </span>
     </strong>
     <span class="koboSpan" id="kobo.679.1">
      : Companies, agencies, institutions, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.680.1">
       so on
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.681.1">
       GPE
      </span>
     </strong>
     <span class="koboSpan" id="kobo.682.1">
      : Countries,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.683.1">
       cities, states
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.684.1">
       LOC
      </span>
     </strong>
     <span class="koboSpan" id="kobo.685.1">
      : Non-GPE locations, mountain ranges, bodies
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.686.1">
       of water
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.687.1">
       PRODUCT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.688.1">
      : Objects, vehicles, foods, and so on (
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.689.1">
       not services)
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.690.1">
       EVENT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.691.1">
      : Named hurricanes, battles, wars, sports events, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.692.1">
       so on
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.693.1">
       WORK_OF_ART
      </span>
     </strong>
     <span class="koboSpan" id="kobo.694.1">
      : Titles of books, songs, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.695.1">
       so on
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.696.1">
       LAW
      </span>
     </strong>
     <span class="koboSpan" id="kobo.697.1">
      : Named documents made
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.698.1">
       into laws
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.699.1">
       LANGUAGE
      </span>
     </strong>
     <span class="koboSpan" id="kobo.700.1">
      : Any
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.701.1">
       named language
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.702.1">
       DATE
      </span>
     </strong>
     <span class="koboSpan" id="kobo.703.1">
      : Absolute or relative dates
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.704.1">
       or periods
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.705.1">
       TIME
      </span>
     </strong>
     <span class="koboSpan" id="kobo.706.1">
      : Times smaller than
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.707.1">
       a day
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.708.1">
       PERCENT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.709.1">
      : Percentage,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.710.1">
       including %
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.711.1">
       MONEY
      </span>
     </strong>
     <span class="koboSpan" id="kobo.712.1">
      : Monetary values,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.713.1">
       including unit
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.714.1">
       QUANTITY
      </span>
     </strong>
     <span class="koboSpan" id="kobo.715.1">
      : Measurements, as of weight
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.716.1">
       or distance
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.717.1">
       ORDINAL
      </span>
     </strong>
     <span class="koboSpan" id="kobo.718.1">
      : first, second, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.719.1">
       so on
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.720.1">
       CARDINAL
      </span>
     </strong>
     <span class="koboSpan" id="kobo.721.1">
      : Numerals that do not fall under
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.722.1">
       another type
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.723.1">
     Just as with the POS tagger statistical models, NER models are also sequential models.
    </span>
    <span class="koboSpan" id="kobo.723.2">
     The very first modern NER tagger
    </span>
    <a id="_idIndexMarker156">
    </a>
    <span class="koboSpan" id="kobo.724.1">
     model is a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.725.1">
      Conditional Random Field
     </span>
    </strong>
    <span class="koboSpan" id="kobo.726.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.727.1">
      CRF
     </span>
    </strong>
    <span class="koboSpan" id="kobo.728.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.728.2">
     CRFs are sequence classifiers used for structured prediction problems such as labeling and parsing.
    </span>
    <span class="koboSpan" id="kobo.728.3">
     The current state-of-the-art NER tagging is achieved
    </span>
    <a id="_idIndexMarker157">
    </a>
    <span class="koboSpan" id="kobo.729.1">
     with the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.730.1">
      transformers
     </span>
    </strong>
    <span class="koboSpan" id="kobo.731.1">
     architecture (more on that in
    </span>
    <a href="B22441_06.xhtml#_idTextAnchor087">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.732.1">
        Chapter 6
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.733.1">
      ).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.734.1">
     Named entities in a doc are available via the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.735.1">
      doc.ents
     </span>
    </strong>
    <span class="koboSpan" id="kobo.736.1">
     property.
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.737.1">
      doc.ents
     </span>
    </strong>
    <span class="koboSpan" id="kobo.738.1">
     is a list of
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.739.1">
      Span
     </span>
    </strong>
    <span class="koboSpan" id="kobo.740.1">
     objects, as illustrated in the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.741.1">
      code snippet:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.742.1">
doc = nlp("The Brazilian president visited Beijing.")
print(doc.ents)
print(type(doc.ents[0]))
&gt;&gt;&gt; (Brazilian, Beijing)
&lt;class 'spacy.tokens.span.Span'&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.743.1">
     spaCy also tags each token with the entity type.
    </span>
    <span class="koboSpan" id="kobo.743.2">
     The type of the named entity is available via
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.744.1">
      token.ent_type
     </span>
    </strong>
    <span class="koboSpan" id="kobo.745.1">
     (int) and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.746.1">
      token.ent_type_
     </span>
    </strong>
    <span class="koboSpan" id="kobo.747.1">
     (unicode).
    </span>
    <span class="koboSpan" id="kobo.747.2">
     If the token is not a named entity, then
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.748.1">
      token.ent_type_
     </span>
    </strong>
    <span class="koboSpan" id="kobo.749.1">
     is just an
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.750.1">
      empty string.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.751.1">
     Just as for POS tags and dependency labels, we can call
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.752.1">
      spacy.explain()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.753.1">
     on the tag string or on
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.754.1">
      token.ent_type_
     </span>
    </strong>
    <span class="koboSpan" id="kobo.755.1">
     ,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.756.1">
      as follows:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.757.1">
doc = nlp("He worked for NASA.")
token = doc[3]
print(token.ent_type_, spacy.explain(token.ent_type_))
&gt;&gt;&gt; ORG Companies, agencies, institutions, etc.</span></pre>
   <p>
    <span class="koboSpan" id="kobo.758.1">
     After tagging tokens
    </span>
    <a id="_idIndexMarker158">
    </a>
    <span class="koboSpan" id="kobo.759.1">
     with different syntactical features, we sometimes want to merge or split entities into fewer or more tokens.
    </span>
    <span class="koboSpan" id="kobo.759.2">
     In the next section, we will see how this merging and splitting
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.760.1">
      is done.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-55">
    <a id="_idTextAnchor054">
    </a>
    <span class="koboSpan" id="kobo.761.1">
     Merging and splitting tokens
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.762.1">
     In some cases, we want to
    </span>
    <a id="_idIndexMarker159">
    </a>
    <span class="koboSpan" id="kobo.763.1">
     unite or split multiword named entities.
    </span>
    <span class="koboSpan" id="kobo.763.2">
     For example, this is needed when the tokenizer does not perform so well on some unusual tokens, and you need to split them by hand.
    </span>
    <span class="koboSpan" id="kobo.763.3">
     In this subsection, we’ll cover a very practical remedy for our multiword expressions, multiword named entities, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.764.1">
      typos:
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.765.1">
       doc.retokenize
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.766.1">
      .
     </span>
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.767.1">
      doc.retokenize
     </span>
    </strong>
    <span class="koboSpan" id="kobo.768.1">
     is used in a context manager and it’s the correct tool for merging and splitting the spans of
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.769.1">
      doc
     </span>
    </strong>
    <span class="koboSpan" id="kobo.770.1">
     objects.
    </span>
    <span class="koboSpan" id="kobo.770.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.771.1">
      retokenizer.merge()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.772.1">
     method should receive the spans to merge and the attributes to set on these merged tokens.
    </span>
    <span class="koboSpan" id="kobo.772.2">
     Let’s see an example of retokenization by merging a multiword named entity,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.773.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.774.1">
      First, let’s create a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.775.1">
       doc
      </span>
     </strong>
     <span class="koboSpan" id="kobo.776.1">
      from the sentence and print
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.777.1">
       the entities:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.778.1">
doc = nlp("She lived in New Hampshire.")
print(doc.ents)</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.779.1">
      Now let’s see how spaCy separated
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.780.1">
       the tokens:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.781.1">
print([(token.text, token.i) for token in doc])
&gt;&gt;&gt; [('She', 0), ('lived', 1), ('in', 2), ('New', 3), ('Hampshire', 4), ('.', 5)]</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.782.1">
      We want to merge tokens on positions
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.783.1">
       3
      </span>
     </strong>
     <span class="koboSpan" id="kobo.784.1">
      and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.785.1">
       4
      </span>
     </strong>
     <span class="koboSpan" id="kobo.786.1">
      and de span slices are set as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.787.1">
       (value_included, value_not_included)
      </span>
     </strong>
     <span class="koboSpan" id="kobo.788.1">
      , so we will slice
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.789.1">
       doc[3:5]
      </span>
     </strong>
     <span class="koboSpan" id="kobo.790.1">
      and set the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.791.1">
       LEMMA
      </span>
     </strong>
     <span class="koboSpan" id="kobo.792.1">
      of this
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.793.1">
       new token:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.794.1">
with doc.retokenize() as retokenizer:
    retokenizer.merge(
        doc[3:5], attrs={"LEMMA": "new hampshire"})</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.795.1">
      Let’s print the tokens again to see whether the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.796.1">
       merge worked:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.797.1">
print([(token.text, token.i) for token in doc])
&gt;&gt;&gt; [('She', 0), ('lived', 1), ('in', 2), ('New Hampshire', 3), ('.', 4)]</span></pre>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.798.1">
     Merging the tokens worked well, but how about splitting a multiword token into several tokens?
    </span>
    <span class="koboSpan" id="kobo.798.2">
     In this setting, either there’s a typo in the text you want to fix, or the custom tokenization is not satisfactory for your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.799.1">
      specific sentence.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.800.1">
     Splitting a span is a bit more complicated than merging a span because of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.801.1">
      following reasons:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.802.1">
      We are changing the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.803.1">
       dependency tree
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.804.1">
      We need to assign new POS tags, dependency labels, and necessary token attributes to the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.805.1">
       new tokens
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.806.1">
     Basically, we need to think about how to assign linguistic features to the new tokens we created.
    </span>
    <span class="koboSpan" id="kobo.806.2">
     Let’s see how to
    </span>
    <a id="_idIndexMarker160">
    </a>
    <span class="koboSpan" id="kobo.807.1">
     deal with the new tokens with an example of how to fix a typo,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.808.1">
      as follows:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.809.1">
doc = nlp("She lived in NewHampshire")
print([(token.text, token.lemma_, token.i) for token in doc])
&gt;&gt;&gt; [('She', 'she', 0),
('lived', 'live', 1),
('in', 'in', 2),
('NewHampshire', 'NewHampshire', 3)]</span></pre>
   <p>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.810.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.811.1">
      .13
     </span>
    </em>
    <span class="koboSpan" id="kobo.812.1">
     shows what the dependency tree looks like before the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.813.1">
      splitting operation.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer038">
     <span class="koboSpan" id="kobo.814.1">
      <img alt="Figure 3.13 – Sample sentence’s dependency tree before retokenization" src="image/B22441_03_13.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.815.1">
     Figure 3.13 – Sample sentence’s dependency tree before retokenization
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.816.1">
     Now, we will split the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.817.1">
      doc[3]
     </span>
    </strong>
    <span class="koboSpan" id="kobo.818.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.819.1">
      NewHampshire
     </span>
    </strong>
    <span class="koboSpan" id="kobo.820.1">
     , into two tokens:
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.821.1">
      New
     </span>
    </strong>
    <span class="koboSpan" id="kobo.822.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.823.1">
      Hampshire
     </span>
    </strong>
    <span class="koboSpan" id="kobo.824.1">
     .
    </span>
    <span class="koboSpan" id="kobo.824.2">
     We will give fine-grained POS tags and dependency labels to the new tokens via the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.825.1">
      attrs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.826.1">
     dictionary to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.827.1">
      retokenize.split()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.828.1">
     method.
    </span>
    <span class="koboSpan" id="kobo.828.2">
     We will also rearrange the dependency tree by passing the new tokens’ parents via the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.829.1">
      heads
     </span>
    </strong>
    <span class="koboSpan" id="kobo.830.1">
     parameter.
    </span>
    <span class="koboSpan" id="kobo.830.2">
     While arranging the heads, there are two things to consider, as
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.831.1">
      outlined here:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.832.1">
      Firstly, when you provide a relative position, such as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.833.1">
       (doc[3], 1)
      </span>
     </strong>
     <span class="koboSpan" id="kobo.834.1">
      , this means that the head of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.835.1">
       doc[3]
      </span>
     </strong>
     <span class="koboSpan" id="kobo.836.1">
      will be the token that is
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.837.1">
       one position ahead
      </span>
     </em>
     <span class="koboSpan" id="kobo.838.1">
      —in this case,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.839.1">
       that’s
      </span>
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.840.1">
        doc[4]
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.841.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.842.1">
      Secondly, if you give an absolute position, it means the position in the original
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.843.1">
       Doc
      </span>
     </strong>
     <span class="koboSpan" id="kobo.844.1">
      object.
     </span>
     <span class="koboSpan" id="kobo.844.2">
      In the following code snippet, the second item in the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.845.1">
       heads
      </span>
     </strong>
     <span class="koboSpan" id="kobo.846.1">
      list indicates that the head of the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.847.1">
       Hampshire
      </span>
     </strong>
     <span class="koboSpan" id="kobo.848.1">
      token is the second token in the original Doc, which
     </span>
     <a id="_idIndexMarker161">
     </a>
     <span class="koboSpan" id="kobo.849.1">
      is the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.850.1">
        in
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.851.1">
       token.
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.852.1">
     Let’s do this in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.853.1">
      the code:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.854.1">
with doc.retokenize() as retokenizer:
    heads = [(doc[3], 1), doc[2]]
    attrs = {"TAG":["NNP", "NNP"], "DEP": ["compound", "pobj"]}
    retokenizer.split(doc[3], ["New", "Hampshire"], heads=heads, attrs=attrs)
print([(token.text, token.lemma_, token.i) for token in doc])
&gt;&gt;&gt; [('She', 'she', 0),
('lived', 'live', 1),
('in', 'in', 2),
('New', 'New', 3),
('Hampshire', '', 4)]</span></pre>
   <p>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.855.1">
       Figure 3
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.856.1">
      .14
     </span>
    </em>
    <span class="koboSpan" id="kobo.857.1">
     shows what the dependency tree looks like after the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.858.1">
      splitting operation.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer039">
     <span class="koboSpan" id="kobo.859.1">
      <img alt="Figure 3.14 – Dependency tree after the splitting operation" src="image/B22441_03_14.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.860.1">
     Figure 3.14 – Dependency tree after the splitting operation
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.861.1">
     You can apply merging and splitting operations onto any span, not only the named entity spans.
    </span>
    <span class="koboSpan" id="kobo.861.2">
     The most
    </span>
    <a id="_idIndexMarker162">
    </a>
    <span class="koboSpan" id="kobo.862.1">
     important part here is to correctly arrange the new dependency tree and the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.863.1">
      linguistic attributes.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-56">
    <a id="_idTextAnchor055">
    </a>
    <span class="koboSpan" id="kobo.864.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.865.1">
     This chapter gave you details of spaCy’s linguistic features and how to use them.
    </span>
    <span class="koboSpan" id="kobo.865.2">
     You learned about POS tagging and applications and learned about an important yet not-so-well-known and well-used feature of spaCy—dependency labels.
    </span>
    <span class="koboSpan" id="kobo.865.3">
     Then, we discovered a famous NLU tool and concept: NER.
    </span>
    <span class="koboSpan" id="kobo.865.4">
     We saw how to do named entity extraction, again via examples.
    </span>
    <span class="koboSpan" id="kobo.865.5">
     We finalized this chapter with a handy tool for merging and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.866.1">
      splitting spans.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.867.1">
     What’s next?
    </span>
    <span class="koboSpan" id="kobo.867.2">
     In the next chapter, we will discover how to use these linguistic features to extract information using the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.868.1">
      Matcher
     </span>
    </strong>
    <span class="koboSpan" id="kobo.869.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.870.1">
      PhraseMatcher
     </span>
    </strong>
    <span class="koboSpan" id="kobo.871.1">
     , and
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.872.1">
       SpanRuler
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.873.1">
      classes.
     </span>
    </span>
   </p>
  </div>
 </body></html>