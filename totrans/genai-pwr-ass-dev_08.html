<html><head></head><body>
		<div id="_idContainer161">
			<h1 class="chapter-number" id="_idParaDest-132"><a id="_idTextAnchor131"/>8</h1>
			<h1 id="_idParaDest-133"><a id="_idTextAnchor132"/>Boost Coding Efficiency for Command-Line and Shell Script with Auto-Code Generation</h1>
			<p>In this chapter, we will look at the following <span class="No-Break">key topics:</span></p>
			<ul>
				<li>Overview of command-line and <span class="No-Break">shell script</span></li>
				<li>Command-line auto-code generation for system administrators using Amazon <span class="No-Break">Q Developer</span></li>
				<li>Shell script auto-code generation for programmers using Amazon <span class="No-Break">Q Developer</span></li>
				<li>Shell script explainability and optimization using Amazon <span class="No-Break">Q Developer</span></li>
			</ul>
			<p>In the previous chapter, we dived into one of the most dominant database management languages in <a id="_idIndexMarker369"/>the software industry: <strong class="bold">Structured Query Language</strong> (<strong class="bold">SQL</strong>). Using two user personas—<strong class="bold">database administrators</strong> (<strong class="bold">DBAs</strong>) and <strong class="bold">data engineers</strong> (<strong class="bold">DEs</strong>)—we introduced how auto-code generation <a id="_idIndexMarker370"/>through Amazon Q Developer can help understand <a id="_idIndexMarker371"/>the basics, learn the syntax, and automatically generate code for common DBA and <span class="No-Break">DE activities.</span></p>
			<p>In this chapter, we continue with a similar theme and focus on system administrators and shell <a id="_idIndexMarker372"/>script programmers. System administrators primarily use the <strong class="bold">command-line interface</strong> (<strong class="bold">CLI</strong>) for various system configuration <a id="_idIndexMarker373"/>tasks, and shell script programmers use <strong class="bold">operating system</strong> (<strong class="bold">OS</strong>) commands to automate repetitive tasks such as development processes, file transfers, and preprocessing tasks. We will introduce how Amazon Q Developer can help these professionals understand the basics, learn the syntax, and automatically generate code for common system administration and shell script programming activities. Then, we will explore code explainability to support documentation and code optimization recommendations provided by Amazon Q Developer for <span class="No-Break">shell scripts.</span></p>
			<h1 id="_idParaDest-134"><a id="_idTextAnchor133"/>Overview of command-line and shell script</h1>
			<p>OS code plays a pivotal role in managing and maintaining the stability, security, and efficiency <a id="_idIndexMarker374"/>of IT infrastructures. Shell scripting and the command line serve as fundamental tools for automating routine tasks, executing system <a id="_idIndexMarker375"/>commands, and orchestrating complex workflows across Unix-based operating systems such as Linux and macOS. As organizations strive to optimize operational processes and enhance scalability, the demand for efficient shell scripting and command-line solutions becomes <span class="No-Break">increasingly significant.</span></p>
			<p>Auto-code generation has emerged as a transformative approach to streamline shell script development using an IDE and/or command line, reduce manual effort, and improve productivity for system administrators, programmers, <span class="No-Break">and engineers.</span></p>
			<p>CLI and shell scripts enable system administrators, programmers, and engineers to automate repetitive tasks such as file management, system monitoring, user administration, and backup operations. It also facilitates chaining multiple commands together for the execution of system commands and complex workflows, ensuring consistency and reliability in IT operations. However, writing and maintaining complex chained commands and shell scripts can be time-consuming, prone to errors, and needs expertise, especially as scripts become more intricate and critical to business operations. System administrators, programmers, and engineers can leverage different prompting techniques and chat-style integrations (refer to <a href="B21378_03.xhtml#_idTextAnchor060"><span class="No-Break"><em class="italic">Chapter 3</em></span></a>) to get recommendations for the automated creation of shell scripts tailored to specific system tasks. This interaction model accelerates script development cycles, reduces human error, and ensures uniformity in script structure and execution across different <span class="No-Break">OS environments.</span></p>
			<p>Moreover, Amazon Q Developer serves as an educational resource for learning shell scripting techniques, available command-line syntax, and best practices. It offers interactive tutorials, explanations of shell script concepts, and practical examples of automation scripts through its chat interface. This educational aspect helps system administrators, programmers, and engineers enhance their scripting skills, adopt industry-standard practices, and leverage advanced automation <span class="No-Break">capabilities effectively.</span></p>
			<p>For experienced users, Amazon Q Developer provides advanced features such as script optimization and error-handling suggestions. It analyzes generated shell scripts, identifies potential inefficiencies or pitfalls, and offers recommendations to enhance script performance and reliability. These optimization capabilities are crucial for maintaining operational efficiency and scalability in dynamic IT environments. The integration <a id="_idIndexMarker376"/>of Amazon Q Developer with shell scripting also facilitates collaborative practices. Teams working on system automation initiatives benefit from standardized shell script templates, shared automation <a id="_idIndexMarker377"/>workflows, and streamlined code review processes. This consistency enhances team productivity, fosters collaboration between development and operations teams, and accelerates time-to-deployment for critical IT <span class="No-Break">infrastructure changes.</span></p>
			<p>In the next sections, we’ll explore how Amazon Q Developer can help generate OS code using the Unix CLI and shell scripting. To illustrate, I will use an overall chain-of-thought prompt technique to mimic a sequence of activities, breaking them into single-line and multi-line prompts (refer to <a href="B21378_03.xhtml#_idTextAnchor060"><span class="No-Break"><em class="italic">Chapter 3</em></span></a> for additional details). For the platform, I’ll use the Amazon Q Developer interface with VS Code for shell scripts and macOS Terminal for the CLI. For configuration steps to integrate Amazon Q Developer with VS Code and the CLI, refer to <a href="B21378_02.xhtml#_idTextAnchor022"><span class="No-Break"><em class="italic">Chapter 2</em></span></a> and check the <em class="italic">References</em> section at the end of the chapter for the URLs for <em class="italic">Terminal shell integration</em>, and <em class="italic">Installing Amazon Q for the </em><span class="No-Break"><em class="italic">command line</em></span><span class="No-Break">.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">Amazon Q <a id="_idIndexMarker378"/>Developer uses <strong class="bold">large language models</strong> (<strong class="bold">LLMs</strong>), which, by nature, are non-deterministic, so you may not get exactly the same answers/code blocks shown in the code snapshots; try to update prompts to get desired recommendations. However, logically, the generated answer/code should meet <span class="No-Break">the requirements.</span></p>
			<h1 id="_idParaDest-135"><a id="_idTextAnchor134"/>Command-line auto-code generation for system administrators using Amazon Q Developer</h1>
			<p>I will assume the role of a system administrator who is familiar with responsibilities such as disk <a id="_idIndexMarker379"/>space management, user management, process management, and library management, but requires assistance with writing commands with the correct syntax. Using macOS, I will demonstrate how Amazon Q Developer interacts with the CLI. This example showcases how Amazon Q Developer can simplify and automate complex tasks, even for those with limited <span class="No-Break">command-line experience.</span></p>
			<p>By following these steps, you will be able to leverage Amazon Q Developer’s powerful features to streamline your command-line tasks and enhance your overall productivity as a <span class="No-Break">system administrator.</span></p>
			<p>To start the interaction with Amazon Q Developer, open the terminal and type <span class="No-Break"><strong class="source-inline">q ai</strong></span><span class="No-Break">:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer139">
					<img alt="Figure 8.1 – CLI – Amazon Q Developer basics" src="image/B21378_08_1.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.1 – CLI – Amazon Q Developer basics</p>
			<p>Once the integration window is open, let’s ask Amazon Q Developer to provide the commands related to common tasks of a system administrator in the following sections. These tasks encompass various areas, including disk space management, user management, library management, process management, network configuration, and system monitoring. By leveraging Amazon Q Developer, system administrators can receive detailed, step-by-step commands for a wide range of tasks, ensuring efficient and accurate execution. The CLI of Amazon Q Developer allows users to execute commands without explicitly typing them in the <span class="No-Break">Terminal prompt.</span></p>
			<h2 id="_idParaDest-136"><a id="_idTextAnchor135"/>Disk space management CLI auto-code generation</h2>
			<p>Disk space management is one of the key responsibilities of system administrators. Effective <a id="_idIndexMarker380"/>space management helps maintain system stability, performance, and security, making it a crucial task for system administrators. Let’s start with some of the disk space <a id="_idIndexMarker381"/>management-related tasks. Let’s use a chain of thoughts to mimic common tasks and break them into simple <span class="No-Break">single-line prompts.</span></p>
			<p>Let’s start with finding out the available <span class="No-Break">disk space:</span></p>
			<pre class="source-code">
Prompt: command to find out the disk space available</pre>			<div>
				<div class="IMG---Figure" id="_idContainer140">
					<img alt="Figure 8.2 – CLI – Amazon Q Developer available disk space" src="image/B21378_08_2.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.2 – CLI – Amazon Q Developer available disk space</p>
			<p>Now, let’s determine the utilized disk space and sort the results from highest to lowest based on the amount of space occupied on <span class="No-Break">the disk:</span></p>
			<pre class="source-code">
Prompt: command to find out the disk space utilized sort by high to low</pre>			<div>
				<div class="IMG---Figure" id="_idContainer141">
					<img alt="Figure 8.3 – CLI – Amazon Q Developer disk usage" src="image/B21378_08_3.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.3 – CLI – Amazon Q Developer disk usage</p>
			<p>Now, let’s find the sizes of files and sort them from highest to lowest size, so system administrators can identify which files contribute most to disk <span class="No-Break">space utilization:</span></p>
			<pre class="source-code">
Prompt: command to find out the largest file on the disk</pre>			<div>
				<div class="IMG---Figure" id="_idContainer142">
					<img alt="Figure 8.4 – CLI – Amazon Q Developer large file" src="image/B21378_08_4.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.4 – CLI – Amazon Q Developer large file</p>
			<p>Observe in <a id="_idIndexMarker382"/>the preceding screenshot that Amazon Q Developer <a id="_idIndexMarker383"/>provided a single command by chaining multiple commands to achieve the instruction in <span class="No-Break">the prompt.</span></p>
			<p>Now, let’s free up some space by tasking Amazon Q Developer with finding the top 10 largest files and archiving them. This may involve a slightly <span class="No-Break">complex process:</span></p>
			<pre class="source-code">
Prompt: command to find out top 10 largest file on the disk and archive them</pre>			<div>
				<div class="IMG---Figure" id="_idContainer143">
					<img alt="Figure 8.5 – CLI – Amazon Q Developer archive files" src="image/B21378_08_5.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.5 – CLI – Amazon Q Developer archive files</p>
			<p>As you can see in the preceding screenshot, Amazon Q Developer provided a single command by chaining multiple commands to achieve the instruction in the prompt. It also used the number of files we specified and passed only those files to archive <span class="No-Break">as </span><span class="No-Break"><strong class="source-inline">tar.gz</strong></span><span class="No-Break">.</span></p>
			<p>Now, let’s look at user management, another very important area of responsibility for a <span class="No-Break">system administrator.</span></p>
			<h2 id="_idParaDest-137"><a id="_idTextAnchor136"/>User management CLI auto-code generation</h2>
			<p>User management for system administrators involves tasks related to creating, configuring, maintaining, and securing user accounts on a computer system or network. Effective <a id="_idIndexMarker384"/>user management is crucial for maintaining system security, ensuring data integrity, and supporting <a id="_idIndexMarker385"/>efficient operations within an organization. Let’s use a chain of thoughts to mimic common tasks and break them into simple <span class="No-Break">single-line prompts.</span></p>
			<p>Let’s begin with basic user management tasks, such as identifying a list of all users who have access to <span class="No-Break">the system:</span></p>
			<pre class="source-code">
Prompt: command to print list of all the user logins</pre>			<div>
				<div class="IMG---Figure" id="_idContainer144">
					<img alt="Figure 8.6 – CLI – Amazon Q Developer user list" src="image/B21378_08_6.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.6 – CLI – Amazon Q Developer user list</p>
			<p>Now, let’s identify active users on the system and determine when they last <span class="No-Break">logged in:</span></p>
			<pre class="source-code">
Prompt: command to print user list with last login date and time</pre>			<div>
				<div class="IMG---Figure" id="_idContainer145">
					<img alt="Figure 8.7 – CLI – Amazon Q Developer users’ last login" src="image/B21378_08_7.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.7 – CLI – Amazon Q Developer users’ last login</p>
			<p>Now, let’s identify dormant users on the system who have not logged <span class="No-Break">in recently:</span></p>
			<pre class="source-code">
Prompt: command to print user name those do not have last log-in date</pre>			<div>
				<div class="IMG---Figure" id="_idContainer146">
					<img alt="Figure 8.8 – CLI – Amazon Q Developer user never logged in" src="image/B21378_08_8.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.8 – CLI – Amazon Q Developer user never logged in</p>
			<p>To <a id="_idIndexMarker386"/>enhance security <a id="_idIndexMarker387"/>and reduce vulnerabilities, let’s remove dormant users from the system who do not have a recent login date associated with them. This process may be somewhat complex so let’s see how Amazon Q Developer <span class="No-Break">can help:</span></p>
			<pre class="source-code">
Prompt: command to drop user those do not have login date</pre>			<div>
				<div class="IMG---Figure" id="_idContainer147">
					<img alt="Figure 8.9 – CLI – Amazon Q Developer dropping users who never logged in" src="image/B21378_08_9.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.9 – CLI – Amazon Q Developer dropping users who never logged in</p>
			<p>Observe in the preceding screenshots that as the complexity of requirements increases, Amazon Q Developer chains multiple commands to achieve the instruction in <span class="No-Break">the prompt.</span></p>
			<p>Now, let’s look at some of the process management-related tasks and corresponding support by Amazon <span class="No-Break">Q Developer.</span></p>
			<h2 id="_idParaDest-138"><a id="_idTextAnchor137"/>Process management CLI auto-code generation</h2>
			<p>Process management is a critical responsibility for system administrators, involving tasks such as <a id="_idIndexMarker388"/>monitoring, controlling, and optimizing running processes on a computer system to ensure efficient resource utilization and performance. Maintaining the health <a id="_idIndexMarker389"/>of the servers is one of the important responsibilities of a <span class="No-Break">system administrator.</span></p>
			<p>Let’s begin by asking Amazon Q Developer to generate commands for finding all <span class="No-Break">active processes:</span></p>
			<pre class="source-code">
Prompt: command to list all the active processes</pre>			<div>
				<div class="IMG---Figure" id="_idContainer148">
					<img alt="Figure 8.10 – CLI – Amazon Q Developer active processes" src="image/B21378_08_10.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.10 – CLI – Amazon Q Developer active processes</p>
			<p>In process management, the CPU plays a vital role, so let’s find the top 10 <span class="No-Break">CPU-intensive processes:</span></p>
			<pre class="source-code">
Prompt: command to list top 10 CPU intense processes</pre>			<div>
				<div class="IMG---Figure" id="_idContainer149">
					<img alt="Figure 8.11 – CLI – Amazon Q Developer top CPU processes" src="image/B21378_08_11.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.11 – CLI – Amazon Q Developer top CPU processes</p>
			<p>Similar to <a id="_idIndexMarker390"/>the CPU, memory plays a crucial role in effective multiple-process <a id="_idIndexMarker391"/>execution across the system, so let’s identify the top 10 <span class="No-Break">memory-intensive processes:</span></p>
			<pre class="source-code">
Prompt: command to list top 10 memory intense processes</pre>			<div>
				<div class="IMG---Figure" id="_idContainer150">
					<img alt="Figure 8.12 – CLI – Amazon Q Developer top memory processes" src="image/B21378_08_12.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.12 – CLI – Amazon Q Developer top memory processes</p>
			<p>System administrators often need to terminate processes that are consuming high memory or CPU resources. To simulate this scenario, let’s use Amazon Q Developer to create a command to kill the top two processes consuming the <span class="No-Break">most memory:</span></p>
			<pre class="source-code">
Prompt: command to list kill top two memory intense processes</pre>			<div>
				<div class="IMG---Figure" id="_idContainer151">
					<img alt="Figure 8.13 – CLI – Amazon Q Developer kill top memory processes" src="image/B21378_08_13.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.13 – CLI – Amazon Q Developer kill top memory processes</p>
			<p>As <a id="_idIndexMarker392"/>you can see in the preceding screenshot, Amazon Q Developer efficiently generated the precise <a id="_idIndexMarker393"/>command required to free up memory by terminating the top two memory-intensive processes. This involved a slightly complex command where multiple commands were linked together end <span class="No-Break">to end.</span></p>
			<p>Now, let’s look at one last area related to library management, which includes installing new libraries and upgrading <span class="No-Break">existing ones.</span></p>
			<h2 id="_idParaDest-139"><a id="_idTextAnchor138"/>Library management CLI auto-code generation</h2>
			<p>There are relatively fewer activities in library management compared to other sections, but <a id="_idIndexMarker394"/>many of these tasks are crucial for ensuring that all applications run smoothly on the server. Proper <a id="_idIndexMarker395"/>library management, including the installation of new libraries and the upgrading of existing ones, is essential for maintaining the functionality and performance of applications. These tasks, while less frequent, play a significant role in preventing software conflicts, enhancing security, and ensuring that applications have access to the latest features and optimizations. Therefore, even though library management activities might seem less numerous, their impact on the overall health and efficiency of the server environment <span class="No-Break">is substantial.</span></p>
			<p>Let’s start with the basics to get the list of all the libraries and save them in <span class="No-Break">a file:</span></p>
			<pre class="source-code">
Prompt: command to list all the installed libraries and their version and save them in a file</pre>			<div>
				<div class="IMG---Figure" id="_idContainer152">
					<img alt="Figure 8.14 – CLI – Amazon Q Developer list of all libraries" src="image/B21378_08_14.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.14 – CLI – Amazon Q Developer list of all libraries</p>
			<p>It’s standard <a id="_idIndexMarker396"/>practice for system administrators to verify the version <a id="_idIndexMarker397"/>of an installed library. For example, let’s utilize Python and request Amazon Q Developer to generate the command that identifies the <span class="No-Break">associated version:</span></p>
			<pre class="source-code">
Prompt: command to find python version</pre>			<div>
				<div class="IMG---Figure" id="_idContainer153">
					<img alt="Figure 8.15 – CLI – Amazon Q Developer finding the version" src="image/B21378_08_15.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.15 – CLI – Amazon Q Developer finding the version</p>
			<p>Similarly, system administrators often need to upgrade installed libraries. For example, let’s use Python and ask Amazon Q Developer to generate the command for upgrading the <span class="No-Break">Python version:</span></p>
			<pre class="source-code">
Prompt: command to upgrade python version</pre>			<div>
				<div class="IMG---Figure" id="_idContainer154">
					<img alt="Figure 8.16 – CLI – Amazon Q Developer upgrading the version" src="image/B21378_08_16.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.16 – CLI – Amazon Q Developer upgrading the version</p>
			<p>I have illustrated a few commonly used CLI commands that system administrators use, demonstrating Amazon Q Developer’s capability to provide commands ranging from single <a id="_idIndexMarker398"/>commands to chaining multiple ones to achieve the requirements. Additionally, try using <a id="_idIndexMarker399"/>Amazon Q Developer for other user personas who could benefit from generating CLI commands using simple <span class="No-Break">single-line prompts.</span></p>
			<p>In the next section, we’ll explore how Amazon Q Developer can help programmers write <span class="No-Break">shell scripts.</span></p>
			<h1 id="_idParaDest-140"><a id="_idTextAnchor139"/>Shell script auto-code generation for programmers using Amazon Q Developer</h1>
			<p>Continuing <a id="_idIndexMarker400"/>with the theme of previous chapters, I am going to start with the persona of a programmer or an engineer who wishes to learn and develop code using <span class="No-Break">shell scripts.</span></p>
			<h2 id="_idParaDest-141"><a id="_idTextAnchor140"/>Shell script basics</h2>
			<p>Let’s use <a id="_idIndexMarker401"/>Amazon Q Developer’s chat-style interface to educate programmers, where they can simply ask questions in natural language to learn about the available commands and functions. I’ll use chat-style interaction and single-line and multi-line <span class="No-Break">prompt techniques:</span></p>
			<pre class="source-code">
Q : what is a shell script and what is it used for ?</pre>			<div>
				<div class="IMG---Figure" id="_idContainer155">
					<img alt="Figure 8.17 – Shell script – basics" src="image/B21378_08_17.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.17 – Shell script – basics</p>
			<p>As you <a id="_idIndexMarker402"/>can see in the preceding screenshot, for learners, Amazon Q Developer pointed out important areas in which shell scripts are effective, such as automation, system administration, application deployment, and more. It also provided a <strong class="source-inline">"Hello, World !"</strong> example of the shell script with a declaration of the <strong class="source-inline">bash</strong> shell. In addition, it provided sources that can be used for <span class="No-Break">additional information.</span></p>
			<p>Now, let’s get more information and ask about commonly used shell script commands and corresponding syntax <span class="No-Break">with examples:</span></p>
			<pre class="source-code">
Q : what are the  available bash shell script commands ?</pre>			<div>
				<div class="IMG---Figure" id="_idContainer156">
					<img alt="Figure 8.18 – Shell – list of commands, partial screenshot" src="image/B21378_08_18.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.18 – Shell – list of commands, partial screenshot</p>
			<p>As you can see in the preceding partial screenshot, Amazon Q Developer offers a catalog of shell <a id="_idIndexMarker403"/>script commands categorized into file and directory commands, text processing commands, system information commands, process management commands, network commands, and user and permission commands. Additionally, Bash supports control structures, functions, and other features, making it a robust scripting language for automating tasks and system administration on Unix-like <span class="No-Break">operating systems.</span></p>
			<p>Let’s now request Amazon Q Developer to provide the syntax and an example for the <strong class="source-inline">"</strong><span class="No-Break"><strong class="source-inline">cat"</strong></span><span class="No-Break"> command:</span></p>
			<pre class="source-code">
Q : provide details and example for shell command "cat"</pre>			<div>
				<div class="IMG---Figure" id="_idContainer157">
					<img alt="Figure 8.19 – Shell – the “cat” command" src="image/B21378_08_19.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.19 – Shell – the “cat” command</p>
			<p>As you <a id="_idIndexMarker404"/>can see in the preceding screenshots, Amazon Q Developer provided basic usage of the command. Then, it provided the syntax, <strong class="source-inline">cat [OPTIONS] [FILE(S)]</strong>, and different options such as <strong class="source-inline">-n</strong>, <strong class="source-inline">-b</strong>, <strong class="source-inline">-s</strong>, <strong class="source-inline">-v</strong>, <strong class="source-inline">-E</strong>, and <strong class="source-inline">-T</strong> <span class="No-Break">with examples.</span></p>
			<h2 id="_idParaDest-142"><a id="_idTextAnchor141"/>Shell script generation for programmers</h2>
			<p>Now that <a id="_idIndexMarker405"/>we understand the basics of shell scripting, let’s use the preceding information for a <span class="No-Break">use case.</span></p>
			<p>Here is the use case: Create a shell script to accept a filename as a parameter. Check that the file is available and readable. If it is, then copy the file in the <strong class="source-inline">/user/input/files</strong> directory and start the <strong class="source-inline">initial_data_load.sh</strong> script. Then, check for successful completion of <span class="No-Break">the process.</span></p>
			<p>Let’s use the chain-of-thought prompt technique to break this use case down into smaller <a id="_idIndexMarker406"/>tasks that, when combined, will achieve the <span class="No-Break">end-to-end scenario:</span></p>
			<ol>
				<li>Create a shell script to accept a filename as <span class="No-Break">a parameter.</span></li>
				<li>Check that the file is available and readable, then copy the file in the <strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">user/input/files</strong></span><span class="No-Break"> directory.</span></li>
				<li>Assume that the programmer has already created a script called <strong class="source-inline">initial_data_load.sh</strong>. Let’s start the <strong class="source-inline">initial_data_load.sh</strong> script and check for its <span class="No-Break">successful completion.</span></li>
			</ol>
			<p>To illustrate, I am going to use the VS Code script editor window with single and <span class="No-Break">multi-line prompts.</span></p>
			<h3>Requirement 1</h3>
			<p>This is how <a id="_idIndexMarker407"/>we handle the first requirement and create a shell script to accept a filename as <span class="No-Break">a parameter:</span></p>
			<pre class="source-code">
Prompt 1 :
/* Create a shell script */
Prompt 2 :
/* get file name from as parameter */</pre>			<div>
				<div class="IMG---Figure" id="_idContainer158">
					<img alt="Figure 8.20 – Shell – input parameters" src="image/B21378_08_20.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.20 – Shell – input parameters</p>
			<p>Observe <a id="_idIndexMarker408"/>that Amazon Q Developer initialized the shell and accepted a parameter. Now, let’s handle the <span class="No-Break">next requirements.</span></p>
			<h3>Requirements 2 and 3</h3>
			<p>heck that <a id="_idIndexMarker409"/>the file is available and <a id="_idIndexMarker410"/>readable and then copy the file in the <strong class="source-inline">/user/input/files</strong> directory. We’ll then start the <strong class="source-inline">initial_data_load.sh</strong> script and check for <span class="No-Break">successful completion:</span></p>
			<pre class="source-code">
Prompt 1 :
/* check if a file exists and readable in the current directory then copy in "/user/input/files/" directory */
Prompt 2 :
/* run "/user/scripts/initial_data_load.sh"  and check it's status  */</pre>			<div>
				<div class="IMG---Figure" id="_idContainer159">
					<img alt="Figure 8.21 – Shell – copy file and run script" src="image/B21378_08_21.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.21 – Shell – copy file and run script</p>
			<p>As illustrated, you can utilize multiple single-line prompts to auto-generate code with the <a id="_idIndexMarker411"/>help of Amazon Q Developer. Since <a id="_idIndexMarker412"/>this is a relatively straightforward use case, feel free to try the single and multi-line prompt techniques to observe the final code generated by Amazon <span class="No-Break">Q Developer.</span></p>
			<h1 id="_idParaDest-143"><a id="_idTextAnchor142"/>Shell script explainability and optimization using Amazon Q Developer</h1>
			<p>Amazon <a id="_idIndexMarker413"/>Q Developer offers a simple <a id="_idIndexMarker414"/>interface for achieving code <a id="_idIndexMarker415"/>explainability and optimization. For <a id="_idIndexMarker416"/>more details on explainability and optimization, please refer to <a href="B21378_12.xhtml#_idTextAnchor181"><span class="No-Break"><em class="italic">Chapter 12</em></span></a><span class="No-Break">.</span></p>
			<p>To illustrate, I am going to use the previously auto-generated code during the shell script creation task. As shown in the following screenshot, highlight the code, right-click to open the pop-up menu, select <strong class="bold">Amazon Q</strong>, and choose <strong class="bold">Explain</strong> for code explainability or <strong class="bold">Optimize</strong> for <span class="No-Break">optimization recommendations:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer160">
					<img alt="Figure 8.22 – Shell – Amazon Q explainability and optimization" src="image/B21378_08_22.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.22 – Shell – Amazon Q explainability and optimization</p>
			<p>This <a id="_idIndexMarker417"/>will pop up Amazon Q Developer’s <a id="_idIndexMarker418"/>chat-style interface and move the full code <span class="No-Break">for analysis.</span></p>
			<p>For <a id="_idIndexMarker419"/>explainability, Amazon <a id="_idIndexMarker420"/>Q Developer provided details for each line of code and, at the end, provided a summary: “<strong class="bold">In summary, this shell script takes a file name as an argument, checks if the file exists and is readable in the current directory, copies the file to a specific location (/user/input/files/), runs another script (initial_data_load.sh), and prints a success or failure message based on the exit status of the </strong><span class="No-Break"><strong class="bold">second script</strong></span><span class="No-Break">”</span><span class="No-Break">.</span></p>
			<p>Since we constructed this script using multiple single-line prompts, for optimization, Amazon Q Developer thoroughly analyzed the end-to-end script. It provided several recommendations to optimize and enhance the script’s readability, maintainability, and error <a id="_idIndexMarker421"/>handling. These improvements <a id="_idIndexMarker422"/>were made without altering its core functionality. Recommendations spanned variable assignment, conditional <a id="_idIndexMarker423"/>optimization, error handling, path assignment, command substitution, error redirection, exit status, and code formatting. Additionally, Amazon Q Developer generated <a id="_idIndexMarker424"/>an updated end-to-end shell script incorporating these best practices, which you can add directly by clicking the <strong class="bold">Insert at </strong><span class="No-Break"><strong class="bold">cursor</strong></span><span class="No-Break"> button.</span></p>
			<p>In addition to command-line and shell scripts, Amazon Q Developer supports multiple other programming languages. There are many enhancements happening in this area, and we anticipate further enhancements to support additional languages (check the <em class="italic">References</em> section at the end of <span class="No-Break">the chapter).</span></p>
			<h1 id="_idParaDest-144"><a id="_idTextAnchor143"/>Summary</h1>
			<p>As illustrated, Amazon Q Developer serves as a valuable assistant for system administrators, programmers, and engineers. Amazon Q Developer can be used with a CLI to generate complex commands just by using simple prompts. The output commands can be simple single commands or a combination of a chain of commands to achieve administrative tasks such as disk space management, user management, process management, library management, <span class="No-Break">and more.</span></p>
			<p>Shell script programmers and engineers can use chain-of-thought prompts, single-line prompts, and multi-line prompt techniques to auto-generate end-to-end error-free scripts. Moreover, they can use the <strong class="bold">Explain</strong> and <strong class="bold">Optimize</strong> options to easily get the code details and customized code recommendations. Using these options encourage adherence to shell scripting best practices and command-line syntaxes, promoting code quality and standardization. The tool also verifies script syntax and command-line options and recommends secure scripting practices to mitigate potential vulnerabilities. This ensures that shell scripts and command-line integrations produced by system administrators and DevOps engineers are robust, secure, and compliant with organizational standards and <span class="No-Break">regulatory requirements.</span></p>
			<p>In the next chapter, we will look at how you can use Amazon Q Developer to suggest code in command-line and <span class="No-Break">shell scripts.</span></p>
			<h1 id="_idParaDest-145"><a id="_idTextAnchor144"/>References</h1>
			<ul>
				<li>Installing Amazon Q for the command <span class="No-Break">line: </span><a href="https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/command-line-getting-started-installing.html"><span class="No-Break">https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/command-line-getting-started-installing.html</span></a></li>
				<li>Terminal shell <span class="No-Break">Integration: </span><a href="https://code.visualstudio.com/docs/terminal/shell-integration"><span class="No-Break">https://code.visualstudio.com/docs/terminal/shell-integration</span></a></li>
				<li>Supported languages for Amazon Q Developer in the <span class="No-Break">IDE: </span><a href="https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/q-language-ide-support.html"><span class="No-Break">https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/q-language-ide-support.html</span></a></li>
			</ul>
		</div>
	</body></html>