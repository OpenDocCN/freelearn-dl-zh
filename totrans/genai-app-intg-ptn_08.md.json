["```py\n#In this case we will simulate the input from a chat interface\nquestion = \"What is this call about?\" \n```", "```py\nprompt_template = \"\"\"\nYou are a helpful assistant for an online financial services company that allows users to check their balances, invest in certificates of deposit (CDs), and perform other financial transactions.\nYour task is to answer questions from your customers, in order to do so follow these rules:\n1\\. Carefully analyze the question you received.\n2\\. Carefully analyze the context provided.\n3\\. Answer the question using ONLY the information provided in the context, NEVER make up information\n4\\. Always think step by step.\n{context}\nUser question: {query}\nAnswer:\n\"\"\" \n```", "```py\nYou are a helpful assistant for an online financial services company that allows users to check their balances, invest in certificates of deposit (CDs), and perform other financial transactions.\nYour task is to answer questions from your customers, in order to do so follow these rules:\n1\\. Carefully analyze the question you received.\n2\\. Carefully analyze the context provided.\n3\\. Answer the question using ONLY the information provided in the context, NEVER make up information\n4\\. Always think step by step.\n<context>\n---This information is contained in a document called coca_cola_earnings_call_2023.pdf \n 1-877-FACTSET www.callstreet.com\n18 Copyright Â© 2001-2024 FactSet CallStreet, LLC\nThe Coca-Cola Co. (KO) Q1 2024 Earnings Call\nCorrected Transcript 30-Apr-2024\nOperator: Ladies and gentlemen, this concludes today's conference call. Thank you for participating. You may now disconnect.\nDisclaimer The information herein is based on sources we believe to be reliable but is not guaranteed by us and does not purport to be a complete or error-free statement or summary of the available data. As such, we do not warrant, endorse or guarantee the completeness, accuracy, integrity, or timeliness of the information. You must evaluate, and bear all risks associated with, the use of any information provided hereunder, including any reliance on the accuracy, completeness, safety or usefulness of such information. This information is not intended to be used as the prim ary basis of investment decisions. It should not be construed as advice designed to meet the particular investment needs of any investor. This report is published solely for information purposes, and is not to be construed as financial or other advice or as an offer to sell or the solicitation of an offer to buy any security in any state where such an offer or solicitation would be illegal. Any information expressed herein on this date is subject to change without notice. Any opinions or assertions contained in this information do not represent the opinions or beliefs of FactSet CallStreet, LLC. FactSet CallStreet, LLC, or one or more of its employees, including the writer of this report, may have a position in any of the securities discussed herein.\n---\n---This information is contained in a document called coca_cola_earnings_call_2023.pdf \n All participants will be on listen-only mode until the formal question-and-answer portion of the call. I would like to remind everyone that the purpose of this conference is to talk with investors and, therefore, questions from the media will not be addressed. Media participants should contact Coca-Cola's Media Relations department if they have any questions.\n. . . \n---\n</context>\nUser question: What is this call about?\nAnswer: \n```", "```py\ngenerate() function is responsible for sending the prompt to the Gemini 1.5 Flash model and obtaining the generated response:\n```", "```py\n#This is the section where we submit the full prompt and \n#context to the LLM\nresult = generate(prompt) \n```", "```py\ngeneration_config = {\n   \"max_output_tokens\": 8192,\n   \"temperature\": 0,\n   \"top_p\": 0.95,\n} \n```", "```py\nsafety_settings = {\n   generative_models.HarmCategory.HARM_CATEGORY_HATE_SPEECH: generative_models.HarmBlockThreshold.BLOCK_ONLY_HIGH,\n   generative_models.HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT: generative_models.HarmBlockThreshold.BLOCK_ONLY_HIGH,\n   generative_models.HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT: generative_models.HarmBlockThreshold.BLOCK_ONLY_HIGH,\n   generative_models.HarmCategory.HARM_CATEGORY_HARASSMENT: generative_models.HarmBlockThreshold.BLOCK_ONLY_HIGH,\n} \n```", "```py\ndef generate(prompt):\n model = GenerativeModel(MODEL)\n responses = model.generate_content(\n     [prompt],\n     generation_config=generation_config,\n     safety_settings=safety_settings,\n     stream=False,\n )\n return(responses) \n```", "```py\n#In this section you can format the answer for example with markdown\nformatted_result = f\"###Question:\\n{question}\\n\\n###Answer:\\n{result.text}\\n\\n<details><summary>Context</summary>{context}</details>\" \n```", "```py\ndisplay(Markdown(formatted_result)) \n```", "```py\n#In this case we will use a Gradio interface to interact \n#with the system\n#Install Gradio\n!pip install --upgrade gradio \n```", "```py\nimport gradio as gr\ndef answer_question(query, db, number_of_results):\n context = get_context(query, db, number_of_results)\n answer = generate(prompt_template.format(query=query, context=context))\n return(answer.text)\ndef chat(message, history):\n   response = answer_question(message,db, MAX_RESULTS)\n   history.append((message, response))\n   return \"\", history \n```", "```py\nwith gr.Blocks() as demo:\n gr.Markdown(\"Fintech Assistant\")\n chatbot = gr.Chatbot(show_label=False)\n message = gr.Textbox(placeholder=\"Enter your question\")\n message.submit(chat, [message, chatbot],[message, chatbot]  )\ndemo.launch(debug=True) \n```"]