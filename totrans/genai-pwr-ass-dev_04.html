<html><head></head><body>
		<div id="_idContainer094">
			<h1 class="chapter-number" id="_idParaDest-82"><a id="_idTextAnchor081"/>4</h1>
			<h1 id="_idParaDest-83"><a id="_idTextAnchor082"/>Boost Coding Efficiency for Python and Java with Auto-Code Generation</h1>
			<p>In this chapter we will look at the following <span class="No-Break">key topics:</span></p>
			<ul>
				<li>Overview of the use case for weather <span class="No-Break">data analysis</span></li>
				<li>Python auto-code generation using Amazon Q Developer for weather <span class="No-Break">data analysis</span></li>
				<li>Java auto-code generation using Amazon Q Developer for weather <span class="No-Break">data analysis</span></li>
			</ul>
			<p>In the previous chapter, we laid the foundation for different auto-code generation techniques to interact with AI-powered code assistants. We discussed common prompting techniques such as single-line, multi-line, chain-of-thought, and chat with code assistant, as well as common <span class="No-Break">code-building methods.</span></p>
			<p>In this chapter, we will look at how you can use Amazon Q Developer to suggest code in a variety of IDEs. We will start with the two most prominent programming languages used by developers, Python and Java, to demonstrate how auto-code can be generated using techniques from <a href="B21378_03.xhtml#_idTextAnchor060"><span class="No-Break"><em class="italic">Chapter 3</em></span></a>. We will also see how Amazon Q Developer adds value during the code development process by enabling a chat with the code <span class="No-Break">assistant technique.</span></p>
			<p>We believe that demonstrating the effectiveness and ease of use of AI-powered code assistants using a sample application will <span class="No-Break">be impactful.</span></p>
			<p>In the next section, let’s first define the sample use case that we will use for both Python and <span class="No-Break">Java scripts.</span></p>
			<h1 id="_idParaDest-84"><a id="_idTextAnchor083"/>An overview of the use case for weather data analysis</h1>
			<p>Many customers are keen to understand the weather patterns for a specific city, which holds significant importance for numerous applications and can be regarded as a crucial data source across a wide variety of applications. Weather data applications in enterprises can serve various purposes across <span class="No-Break">different industries.</span></p>
			<p>Here’s a general overview of how <a id="_idIndexMarker208"/>weather data applications can be utilized in some of <span class="No-Break">the enterprises:</span></p>
			<ul>
				<li><strong class="bold">Risk management and insurance</strong>: Insurance companies can use weather data to assess and mitigate risks connected with weather-related events such as hurricanes, floods, or wildfires. By analyzing historical weather patterns and forecasts, insurers can better understand potential risks and adjust their <span class="No-Break">policies accordingly.</span></li>
				<li><strong class="bold">Supply chain optimization</strong>: Weather data can help optimize supply chain operations by providing insights into weather conditions that may impact transportation, logistics, and distribution networks. Enterprises can use weather forecasts to anticipate disruptions and optimize routes and inventory <span class="No-Break">management accordingly.</span></li>
				<li><strong class="bold">Energy management</strong>: Energy companies can leverage weather data to optimize energy production and distribution. For example, renewable energy companies can use weather forecasts to predict solar or wind energy generation, helping them better plan and manage their <span class="No-Break">energy resources.</span></li>
				<li><strong class="bold">Finance industry</strong>: In the finance industry, weather data can be leveraged in various ways to enhance decision-making processes and improve risk management strategies. In retail banking, weather patterns directly influence consumer behavior and spending habits, thereby affecting banking operations. Additionally, in the real estate sector, weather data holds substantial value, particularly concerning property insurance and <span class="No-Break">mortgage lending.</span></li>
				<li><strong class="bold">Agriculture and farming</strong>: Agriculture enterprises can use weather data to optimize crop planning, irrigation schedules, and pest management. By analyzing weather patterns and forecasts, farmers can make data-driven decisions to improve crop yields and minimize risks connected with <span class="No-Break">weather-related events.</span></li>
				<li><strong class="bold">Retail and marketing</strong>: Retailers <a id="_idIndexMarker209"/>can use weather data to optimize marketing campaigns and inventory management. For example, retailers can adjust their promotions and inventory levels based on weather forecasts to capitalize on consumer behavior changes that are influenced by <span class="No-Break">weather conditions.</span></li>
				<li><strong class="bold">Construction and infrastructure</strong>: Construction companies can use weather data to plan construction projects more effectively and minimize weather-related delays. By integrating weather forecasts into project planning and scheduling, construction enterprises can optimize resource allocation and reduce <span class="No-Break">project risks.</span></li>
				<li><strong class="bold">Tourism and hospitality</strong>: Enterprises in the tourism and hospitality industry can use weather data to optimize operations and enhance customer experiences. For example, hotels and resorts can adjust pricing and marketing strategies based on weather forecasts to attract more visitors during favorable <span class="No-Break">weather conditions.</span></li>
			</ul>
			<p>Overall, weather data applications in enterprises can provide valuable insights and help businesses make informed decisions across various industries, ultimately driving efficiency, reducing risks, and improving competitiveness. There are many vendors, such as OpenWeatherMap, The Weather Company, AerisWeather, WeatherTAP, AccuWeather, and Yahoo Weather, that provide weather data <span class="No-Break">to enterprises.</span></p>
			<h1 id="_idParaDest-85"><a id="_idTextAnchor084"/>Application requirements – weather data analysis</h1>
			<p>For our<a id="_idIndexMarker210"/> application, we will use weather data provided by OpenWeatherMap, which offers a rich set of APIs. With <strong class="bold">api.openweathermap.org</strong>, you gain access to a comprehensive source of weather information, enabling you to seamlessly integrate real-time and forecasted weather data into your applications. OpenWeatherMap’s API offers a wide range of weather data, including current weather conditions, forecasts, historical data, and more. Whether you’re building a weather app, optimizing logistics, or planning outdoor events, our API provides the data you need to make <span class="No-Break">informed decisions.</span></p>
			<p>Let’s define the <a id="_idIndexMarker211"/>requirements for this simple and versatile application. We will use the same application requirements for both Python and <span class="No-Break">Java scripts.</span></p>
			<p class="callout-heading">Application requirements – weather data analysis</p>
			<p class="callout"><strong class="bold">Business requirement</strong>: Analysts are interested in getting weather forecasting for a country and city. They would like to see the chart visualizing <span class="No-Break">temperature changes.</span></p>
			<p class="callout"><strong class="bold">User inputs</strong>: The application should accept a country and city name as parameters <span class="No-Break">from users.</span></p>
			<p class="callout"><strong class="bold">Data fetch</strong>: Based on the inputs provided, the application requests the weather data from <a href="http://api.openweathermap.org/data/2.5/forecast">http://api.openweathermap.org/data/2.5/forecast</a> using an <span class="No-Break">API key.</span></p>
			<p class="callout"><strong class="bold">Data table</strong>: Shows the table with datetime and corresponding temperature <span class="No-Break">in Fahrenheit.</span></p>
			<p class="callout"><strong class="bold">Data visualization</strong>: Creates simple graphs to plot the temperature in Fahrenheit and date based on dataset sourced <span class="No-Break">from OpenWeatherMap.</span></p>
			<h1 id="_idParaDest-86"><a id="_idTextAnchor085"/>Prerequisites to access the OpenWeatherMap API</h1>
			<p>OpenWeatherMap <a id="_idIndexMarker212"/>provides options to request the data using<a id="_idIndexMarker213"/> API calls. As a prerequisite, you need to create an account. Here is the summary of the steps; for additional information, <span class="No-Break">reference </span><a href="https://openweathermap.org/"><span class="No-Break">https://openweathermap.org/</span></a><span class="No-Break">.</span></p>
			<p>To get weather data from OpenWeatherMap, you need to follow <span class="No-Break">these steps:</span></p>
			<ol>
				<li><strong class="bold">Sign up</strong>: Go to the OpenWeatherMap website (<a href="https://openweathermap.org/">https://openweathermap.org/</a>) and sign up for an account. Once you have signed up and logged in, move on to the <span class="No-Break">next step.</span></li>
				<li><strong class="bold">Understand the API documentation</strong>: OpenWeatherMap provides various APIs for <a id="_idIndexMarker214"/>accessing weather data, including current weather data, forecast weather data, historical weather data, and more. Review the API documentation<a id="_idIndexMarker215"/> to understand how to use the different endpoints and parameters to fetch the weather data you need. We will use the <strong class="source-inline">api.openweathermap.org</strong> API to collect the dataset. Based on the number of times we call the API in this chapter, it will stay within the <span class="No-Break">free tier.</span></li>
				<li><strong class="bold">Get an API key</strong>: You can generate an API key from your account dashboard or use the <span class="No-Break">default key.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer073">
					<img alt="Figure 4.1 – An OpenWeatherMap API key" src="image/B21378_04_001.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.1 – An OpenWeatherMap API key</p>
			<p>Note down the API key as we will need it in the next sections to <span class="No-Break">call APIs.</span></p>
			<h1 id="_idParaDest-87"><a id="_idTextAnchor086"/>Python auto-code generation using Amazon Q Developer for weather data analysis</h1>
			<p>As we have<a id="_idIndexMarker216"/> defined the use case (problem statement) and completed the prerequisites, let’s utilize various auto-code generation techniques to get the solution. To illustrate these techniques, we will leverage the Python programming language inside JetBrains’ PyCharm IDE, which has been set up to work with Amazon Q Developer. Please refer to <a href="B21378_02.xhtml#_idTextAnchor022"><span class="No-Break"><em class="italic">Chapter 2</em></span></a><em class="italic"> </em>for detailed steps on setting up Amazon Q Developer with JetBrains’ <span class="No-Break">PyCharm IDE.</span></p>
			<h2 id="_idParaDest-88"><a id="_idTextAnchor087"/>Solution blueprint for weather data analysis</h2>
			<p>As an <a id="_idIndexMarker217"/>experienced code developer or data engineer, you will need to convert the preceding business objectives into technical requirements by defining <span class="No-Break">reusable functions:</span></p>
			<ol>
				<li>Write a Python script for weather <span class="No-Break">data analysis.</span></li>
				<li>Write a function to get weather data using API key for user entered country and city from <a href="http://api.openweathermap.org/data/2.5/forecast"><span class="No-Break">http://api.openweathermap.org/data/2.5/forecast</span></a><span class="No-Break">.</span></li>
				<li>Convert the return dates from an API call to the UTC format. (Note that the OpenWeatherMap API will return dates associated with the next 40 hours from the time of <span class="No-Break">the request.)</span></li>
				<li>Convert the returned temperatures from the API call from Celsius <span class="No-Break">to Fahrenheit.</span></li>
				<li>Write a function to show the date in UTC and the temperature in Fahrenheit as <span class="No-Break">a table.</span></li>
				<li>Write a function to plot temperature on the <em class="italic">y</em> axis and date on the <em class="italic">x</em> axis based <span class="No-Break">on </span><span class="No-Break"><strong class="source-inline">temperature_data</strong></span><span class="No-Break">.</span></li>
				<li>Accept user inputs for country and <span class="No-Break">city names.</span></li>
				<li>Use the user-provided country and city names to call the <span class="No-Break"><strong class="source-inline">get_weather_data()</strong></span><span class="No-Break"> function.</span></li>
				<li>Create a table with the datetime and temperature (in Fahrenheit) based on <span class="No-Break">weather data.</span></li>
				<li>Plot a graph for the specified city with <strong class="source-inline">Temperature (°F)</strong> on the <em class="italic">y</em> axis and <strong class="source-inline">Date</strong> on the <em class="italic">x</em> axis based on <span class="No-Break">weather data.</span></li>
				<li>Generate the documentation for <span class="No-Break">the script.</span></li>
			</ol>
			<p>To achieve<a id="_idIndexMarker218"/> the overall solution, we will <a id="_idIndexMarker219"/>mainly use <strong class="bold">chain-of-thought prompts</strong> to obtain the end-to-end script and a combination of single-line and multi-line prompts for individual code fragments. We will also chat with the code assistant <span class="No-Break">for documentation.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">The output of the AI-powered code assistant is non-deterministic, so you may not get the exact same code that follows. You may also need to modify some parts of the code to meet the requirements. Additionally, auto-generated code may reference packages that you will need to manually install. To install missing packages in JetBrains’ PyCharm IDE, please refer to the instructions <span class="No-Break">at </span><a href="https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html"><span class="No-Break">https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html</span></a><span class="No-Break">.</span></p>
			<p>Let’s proceed with <span class="No-Break">step-by-step solutions.</span></p>
			<h3>Requirement 1</h3>
			<p>Write a Python script with the latest <span class="No-Break">Python version.</span></p>
			<p>Use JetBrains’ PyCharm IDE to create a <strong class="source-inline">book_weather_data.py</strong> file and make sure that Amazon Q Developer <span class="No-Break">is enabled.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer074">
					<img alt="Figure 4.2 – JetBrains’ PyCharm IDE with the .py file and Amazon Q Developer enabled" src="image/B21378_04_002.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.2 – JetBrains’ PyCharm IDE with the .py file and Amazon Q Developer enabled</p>
			<p>The previous <a id="_idIndexMarker220"/>step will generate a file with the <strong class="source-inline">.py</strong> extension, which Amazon Q Developer will recognize when generating code. Therefore, there is no need to include the language name Python in <span class="No-Break">your prompts.</span></p>
			<h3>Requirements 2, 3, and 4</h3>
			<p>Let’s combine requirements 2, 3, and 4 to create a <span class="No-Break">multi-line prompt:</span></p>
			<ul>
				<li>Write a function to get weather data based on  user’s selection of a country and a city <span class="No-Break">from </span><a href="http://api.openweathermap.org/data/2.5/forecast"><span class="No-Break">http://api.openweathermap.org/data/2.5/forecast</span></a></li>
				<li>Convert the return dates from an API call to the <span class="No-Break">UTC format.</span></li>
				<li>Convert the returned temperatures from the API call from Celsius <span class="No-Break">to Fahrenheit.</span></li>
			</ul>
			<p>We are using the multi-line prompt technique. As a reminder, in this technique, we can instruct our code assistant to generate the code based on our <span class="No-Break">specific requirements.</span></p>
			<p>We write the prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
'''
Write function get_weather_data() to get weather data from http://api.openweathermap.org/data/2.5/forecast based on country and city.
Convert date to UTC format and Convert temparture from Celsius to Fahrenheit.
Then return date and temperature as temperature_data
'''</pre>			<p>Note that as part <a id="_idIndexMarker221"/>of the multi-line prompt, we have provided specific instructions for the code assistant <span class="No-Break">to follow:</span></p>
			<ul>
				<li>The function name to use <span class="No-Break">is </span><span class="No-Break"><strong class="source-inline">get_weather_data()</strong></span></li>
				<li>The function has two input parameters: country <span class="No-Break">and city</span></li>
				<li>Get data <span class="No-Break">from </span><a href="http://api.openweathermap.org/data/2.5/forecast"><span class="No-Break">http://api.openweathermap.org/data/2.5/forecast</span></a></li>
				<li>Return date and temperature <span class="No-Break">as </span><span class="No-Break"><strong class="source-inline">temperature_data</strong></span></li>
			</ul>
			<div>
				<div class="IMG---Figure" id="_idContainer075">
					<img alt="Figure 4.3 – The Python get_weather_data() function" src="image/B21378_04_003.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.3 – The Python get_weather_data() function</p>
			<p>Observe that the code assistant followed the specific instructions provided in the prompt. In addition, it <a id="_idIndexMarker222"/>also determined that <strong class="source-inline">api_key</strong> is required to get the data from <a href="http://api.openweathermap.org/data/2.5/forecast">http://api.openweathermap.org/data/2.5/forecast</a>, so it added that as one of <span class="No-Break">the parameters.</span></p>
			<h3>Requirement 5</h3>
			<p>Write a function to show the date in UTC and temperature in Fahrenheit as <span class="No-Break">a table.</span></p>
			<p>We are using the <strong class="bold">single-line prompt</strong> technique, as the requirement is easy and can easily be described in a single line. Note that as part of the single-line prompt, we have provided specific instructions for the code assistant <span class="No-Break">to follow:</span></p>
			<ul>
				<li>The function name to use <span class="No-Break">is </span><span class="No-Break"><strong class="source-inline">display_weather_table()</strong></span><span class="No-Break">.</span></li>
				<li>Use <strong class="source-inline">temperature_data</strong> to show the table. This is the chain-of-thought prompt, that we are connecting previously the defined return results from the <strong class="source-inline">get_weather_data()</strong> function as the input for <span class="No-Break">this function.</span></li>
			</ul>
			<p>We write the prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
'''
write function display_weather_table() to show temperature_data
'''</pre>			<div>
				<div class="IMG---Figure" id="_idContainer076">
					<img alt="Figure 4.4 – The Python display_weather_table () function" src="image/B21378_04_004.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.4 – The Python display_weather_table () function</p>
			<h3>Requirement 6</h3>
			<p>Write a function<a id="_idIndexMarker223"/> to plot <strong class="source-inline">temperature</strong> on the <em class="italic">y</em> axis and <strong class="source-inline">date</strong> on the <em class="italic">x</em> axis based <span class="No-Break">on </span><span class="No-Break"><strong class="source-inline">temperature_data</strong></span><span class="No-Break">.</span></p>
			<p>We are using the single-line prompt technique, as the requirement is easy and can easily be described in a single line. Note that as part of the single-line prompt, we have provided specific instructions for the code assistant <span class="No-Break">to follow:</span></p>
			<ul>
				<li>Function name to use <span class="No-Break">is </span><span class="No-Break"><strong class="source-inline">plot_temperature_graph()</strong></span></li>
				<li>Use <strong class="source-inline">temperature_data</strong> to show the table. This is the chain-of-thought prompts as we are connecting previously defined return result from <strong class="source-inline">get_weather_data()</strong> function as input for <span class="No-Break">this function.</span></li>
			</ul>
			<p>We write the <a id="_idIndexMarker224"/>prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
'''
Write function plot_temperature_graph() to plot temperature on Y axis and date on X axis based on temperature_data
'''</pre>			<div>
				<div class="IMG---Figure" id="_idContainer077">
					<img alt="Figure 4.5 – The Python plot_temperature_graph () function" src="image/B21378_04_005.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.5 – The Python plot_temperature_graph () function</p>
			<h3>Requirements 7, 8, 9, and 10</h3>
			<p>Let’s combine <a id="_idIndexMarker225"/>requirements 7, 8 ,9 , and 10 to create a multi-line <span class="No-Break">prompt technique:</span></p>
			<ul>
				<li>Accept user inputs for country and <span class="No-Break">city name.</span></li>
				<li>Use a user-provided country and city name to call the <span class="No-Break"><strong class="source-inline">get_weather_data()</strong></span><span class="No-Break"> function.</span></li>
				<li>Create a table with datetime and temperature (in Fahrenheit) based on the <span class="No-Break">weather data.</span></li>
				<li>Plot a graph for the specified city with <strong class="source-inline">Temperature (°F)</strong> on the Y-axis and <strong class="source-inline">Date</strong> on the X-axis based on <span class="No-Break">weather data</span></li>
			</ul>
			<p>We are <a id="_idIndexMarker226"/>using the chain-of-thought prompt technique to link all the previously defined <span class="No-Break">functions together.</span></p>
			<p>We write the prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
'''
Accept country and city from User and call get_weather_data() and display_weather_table() and plot_temperature_graph() functions.
'''</pre>			<p>We will get the <span class="No-Break">following output:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer078">
					<img alt="Figure 4.6 – The Python code to get the user inputs and display weather data" src="image/B21378_04_006.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.6 – The Python code to get the user inputs and display weather data</p>
			<p>Note that in the preceding prompt, I have not included error handling for the input data. However, I encourage you to experiment with the prompt by adding more context to instruct Amazon Q Developer to suggest code with additional <span class="No-Break">error handling.</span></p>
			<p>Now let’s ensure that the script is running as expected. Run the code and enter a country and city to get the <span class="No-Break">weather data.</span></p>
			<p>For testing, I will use the following values, but feel free to choose <span class="No-Break">your own:</span></p>
			<ul>
				<li>Country <span class="No-Break">name: </span><span class="No-Break"><strong class="source-inline">US</strong></span></li>
				<li>City <span class="No-Break">name: </span><span class="No-Break"><strong class="source-inline">Atlanta</strong></span></li>
			</ul>
			<div>
				<div class="IMG---Figure" id="_idContainer079">
					<img alt="Figure 4.7 – The Python output table with user input country, city, and weather information" src="image/B21378_04_007.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.7 – The Python output table with user input country, city, and weather information</p>
			<p>Now let’s review<a id="_idIndexMarker227"/> the second part of the output related to the chart plotted for the date and <span class="No-Break">corresponding temperature.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer080">
					<img alt="Figure 4.8 – The Python output chart with the date and temperature" src="image/B21378_04_008.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.8 – The Python output chart with the date and temperature</p>
			<h3>Requirement 11</h3>
			<p>Generate the documentation for <span class="No-Break">the script.</span></p>
			<p>Let’s use <a id="_idIndexMarker228"/>Amazon Q Developer chat with the code assistant technique to generate documentation. Remember that Amazon Q Developer supports the <strong class="source-inline">Explain</strong> prompt (for more details, see <a href="B21378_03.xhtml#_idTextAnchor060"><span class="No-Break"><em class="italic">Chapter 3</em></span></a><span class="No-Break">)</span></p>
			<p>Alternatively, you can highlight the entire code, then right-click and select the <strong class="bold">Amazon Q </strong>option from the pop-up menu followed by <span class="No-Break"><strong class="bold">Explain Code</strong></span><span class="No-Break">.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer081">
					<img alt="Figure 4.9 – The Python code documentation from Amazon Q Developer" src="image/B21378_04_009.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.9 – The Python code documentation from Amazon Q Developer</p>
			<p>The preceding screenshot shows the first part of the code explanation provided by Amazon <span class="No-Break">Q Developer.</span></p>
			<p>Now let’s use <a id="_idIndexMarker229"/>a few suggested prompts for <span class="No-Break">additional documentation.</span></p>
			<p>As you can see, Amazon Q Developer analyzed the script that was open in the editor window. It then attempted to comprehend the code to derive its logic. Finally, it consolidated all its findings to generate documentation aimed at helping users understand the <span class="No-Break">code better.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer082">
					<img alt="Figure 4.10 – The Python Amazon Q Developer suggested prompts" src="image/B21378_04_010.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.10 – The Python Amazon Q Developer suggested prompts</p>
			<p>Note that Amazon Q Developer prompts for additional suggestions to obtain further in-depth documentation. Please feel free to explore further. Application developers can use Amazon Q Developer for code improvements just by using the chat with code <span class="No-Break">assistant technique.</span></p>
			<p>Let’s ask<a id="_idIndexMarker230"/> Amazon Q Developer to provide updated or improved code for our previously generated <span class="No-Break"><strong class="source-inline">display_weather_table()</strong></span><span class="No-Break"> function:</span></p>
			<pre class="source-code">
code to improve
def display_weather_table(temperature_data):
    df = pd.DataFrame(temperature_data, columns=['Date', 
        'Temperature (°F)'])
    print(df)</pre>			<div>
				<div class="IMG---Figure" id="_idContainer083">
					<img alt="Figure 4.11 – The Amazon Q Developer suggested improvements in Python" src="image/B21378_04_011.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.11 – The Amazon Q Developer suggested improvements in Python</p>
			<p>As you can see in the preceding snapshot, Amazon Q Developer provided new code with additional validation, the use of a dataframe, and recommended changes. You can update the code<a id="_idIndexMarker231"/> fragment simply by using either <strong class="source-inline">Insert at cursor</strong> <span class="No-Break">or </span><span class="No-Break"><strong class="source-inline">Copy</strong></span><span class="No-Break">.</span></p>
			<p>I have illustrated a simple use case with one of the code fragments, but by following the preceding steps, you can get recommended updated code from Amazon Q Developer regardless of your use case. Additionally, you can adjust the prompts to instruct Amazon Q Developer to generate code with error and <span class="No-Break">exception handling.</span></p>
			<h2 id="_idParaDest-89"><a id="_idTextAnchor088"/>Use-case summary</h2>
			<p>As illustrated, we used a combination of chain-of-thought, single-line, and multi-line prompts to create an end-to-end Python script for a weather data application. We utilized JetBrains’ PyCharm IDE, which was set up to work with Amazon Q Developer. For the script, we used Amazon Q Developer with specific prompts to auto-generate functions for retrieving weather data from OpenWeatherMap, converting temperature from Celsius to Fahrenheit, converting dates to UTC format, and <span class="No-Break">plotting charts.</span></p>
			<p>Additionally, we leveraged Amazon Q Developer’s chat feature to generate detailed documentation and receive code improvement recommendations for our weather data application. Through this approach, we showcased how effectively integrating various prompt types and leveraging the capabilities of Amazon Q Developer can streamline the <span class="No-Break">development process.</span></p>
			<p>By adjusting prompts or simply instructing Amazon Q Developer in a chat-style interface, readers can further direct Amazon Q Developer to generate code with enhanced error and exception handling, making the solution robust and versatile for different use cases. This example demonstrates the power of combining advanced IDEs and intelligent code assistants to build sophisticated <span class="No-Break">applications efficiently.</span></p>
			<p>In the next section, let’s implement the same application using the <span class="No-Break">Java language.</span></p>
			<h1 id="_idParaDest-90"><a id="_idTextAnchor089"/>Java auto code generation using Amazon Q Developer for weather data analysis</h1>
			<p>As we <a id="_idIndexMarker232"/>have defined the use case and completed the prerequisites, let’s use different auto-code generation techniques to achieve the use case. To illustrate this, we will leverage Java programming language<a id="_idIndexMarker233"/> inside <strong class="bold">Visual Studio Code</strong> (<strong class="bold">VS Code</strong>) IDE that has been set up to work with Amazon Q Developer. Please refer to <a href="B21378_02.xhtml#_idTextAnchor022"><span class="No-Break"><em class="italic">Chapter 2</em></span></a> for detailed steps to help you set up Amazon Q Developer with VS <span class="No-Break">Code IDE.</span></p>
			<h2 id="_idParaDest-91"><a id="_idTextAnchor090"/>Solution blueprint for weather data analysis</h2>
			<p>As an<a id="_idIndexMarker234"/> experienced code developer or data engineer, you will need to convert the preceding business objectives into technical requirements by defining <span class="No-Break">reusable functions:</span></p>
			<ol>
				<li>Write a Java script for weather <span class="No-Break">data analysis.</span></li>
				<li>Accept user inputs for country and <span class="No-Break">city name.</span></li>
				<li>Get weather data using an API key for a user-entered country and city <span class="No-Break">from </span><span class="No-Break"><strong class="source-inline">http://api.openweathermap.org/data/2.5/forecast</strong></span><span class="No-Break">.</span></li>
				<li>Convert the return dates from an API call to the UTC format. (Note that, the OpenWeatherMap API will return dates associated with the next 40 hours from the time of <span class="No-Break">the request.)</span></li>
				<li>Convert the returned temperatures from the API call from Celsius <span class="No-Break">to Fahrenheit.</span></li>
				<li>Show the date in UTC and temperature in Fahrenheit as <span class="No-Break">a table.</span></li>
				<li>Plot a graph for the specified city with <strong class="source-inline">Temperature</strong> <strong class="source-inline">(°F)</strong> on the <em class="italic">y</em> axis and <strong class="source-inline">Date</strong> on the <em class="italic">x</em> axis based on <span class="No-Break">weather data.</span></li>
				<li>Generate the documentation for <span class="No-Break">the script.</span></li>
			</ol>
			<p>To achieve the overall solution, we will mainly use a combination of single-line and multi-line prompts for individual code fragments, as well as chat with the code assistant <span class="No-Break">for documentation.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">The output of the AI-powered code assistant is non-deterministic, so you may not get the exact same code that follows. You may also need to modify some parts of the code to meet the requirements. Additionally, auto-generated code may reference packages or methods that you will need to manually install. To install missing packages in VS Code IDE, please <span class="No-Break">reference </span><a href="https://code.visualstudio.com/docs/java/java-project"><span class="No-Break">https://code.visualstudio.com/docs/java/java-project</span></a><span class="No-Break">.</span></p>
			<p>Let’s <a id="_idIndexMarker235"/>proceed with <span class="No-Break">step-by-step solutions.</span></p>
			<h3>Requirement 1</h3>
			<p>Write a Java script for weather <span class="No-Break">data analysis.</span></p>
			<p>Use VS Code IDE to create a new Java project. Create the <strong class="source-inline">book_weather_data.java</strong> file and make sure that Amazon Q Developer <span class="No-Break">is enabled.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer084">
					<img alt="Figure 4.12 – VS Code IDE with the .java file and Amazon Q Developer" src="image/B21378_04_012.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.12 – VS Code IDE with the .java file and Amazon Q Developer</p>
			<p>The previous <a id="_idIndexMarker236"/>step will create a file with a <strong class="source-inline">.java</strong> extension, which Amazon Q Developer will reference, so there’s no need to include the language name Java in <span class="No-Break">your prompts.</span></p>
			<h3>Requirement 2</h3>
			<p>Accept user inputs for country and <span class="No-Break">city name.</span></p>
			<p>We are using the single-line prompt technique, as it’s a very <span class="No-Break">straightforward requirement.</span></p>
			<p>We write the prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
// Accept user input for country name and city name</pre>			<p>We will <a id="_idIndexMarker237"/>then get the <span class="No-Break">following output:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer085">
					<img alt="Figure 4.13 – Java accepts the user input" src="image/B21378_04_013.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.13 – Java accepts the user input</p>
			<h3>Requirements 3, 4, and 5</h3>
			<p>Let’s combine requirements 3, 4, and 5, as they make up one <span class="No-Break">logical unit.</span></p>
			<ul>
				<li>Get weather data based on countries and cities <span class="No-Break">from </span><a href="http://api.openweathermap.org/data/2.5/forecast"><span class="No-Break">http://api.openweathermap.org/data/2.5/forecast</span></a><span class="No-Break">.</span></li>
				<li>Convert the return dates from the API call to the <span class="No-Break">UTC format.</span></li>
				<li>Convert the returned temperatures from the API call from Celsius <span class="No-Break">to Fahrenheit.</span></li>
			</ul>
			<p>We are <a id="_idIndexMarker238"/>using the multi-line prompt technique to describe the logic. We write the prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
//Get weather data from http://api.openweathermap.org/data/2.5/forecast based on country and city.
//Convert date to UTC format and Convert temperature from Celsius to Fahrenheit.</pre>			<div>
				<div class="IMG---Figure" id="_idContainer086">
					<img alt="Figure 4.14 – The Java code to get the weather data" src="image/B21378_04_014.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.14 – The Java code to get the weather data</p>
			<h3>Requirement 6</h3>
			<p>Show the date<a id="_idIndexMarker239"/> in UTC and temperature in Fahrenheit as <span class="No-Break">a table.</span></p>
			<p>We are using the single-line prompt technique. We write the prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
// Display temperature in Fahrenheit and date in UTC for each weather forecast entry</pre>			<p>We will then get the <span class="No-Break">following output:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer087">
					<img alt="Figure 4.15 – The Java code to display weather data as a table" src="image/B21378_04_015.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.15 – The Java code to display weather data as a table</p>
			<h3>Requirement 7</h3>
			<p>Plot a graph for the specified city with <strong class="source-inline">Temperature (°F)</strong> on the <em class="italic">y</em> axis and <strong class="source-inline">Date</strong> on the <em class="italic">x</em> axis based on <span class="No-Break">weather data.</span></p>
			<p>We are using the single-line prompt technique. We write the prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
// Plot a graph for the specified city with "Temperature (°F)" on the Y-axis and "Date" on the X-axis for weather forecast entry</pre>			<div>
				<div class="IMG---Figure" id="_idContainer088">
					<img alt="Figure 4.16 – The Java code to display weather data as a chart" src="image/B21378_04_016.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.16 – The Java code to display weather data as a chart</p>
			<p>Now let’s <a id="_idIndexMarker240"/>ensure that the script is running as expected. Run the code and enter the country and city to get the <span class="No-Break">weather data.</span></p>
			<p>For testing, I will use the following values, but feel free to choose <span class="No-Break">your own:</span></p>
			<ul>
				<li>Country <span class="No-Break">name: </span><span class="No-Break"><strong class="source-inline">US</strong></span></li>
				<li>City <span class="No-Break">name: </span><span class="No-Break"><strong class="source-inline">Atlanta</strong></span></li>
			</ul>
			<div>
				<div class="IMG---Figure" id="_idContainer089">
					<img alt="Figure 4.17 – The Java code output for user input country, city, and weather information" src="image/B21378_04_017.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.17 – The Java code output for user input country, city, and weather information</p>
			<p>Now let’s <a id="_idIndexMarker241"/>review the second part of the output related to the chart plotted for the date and <span class="No-Break">corresponding temperature.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer090">
					<img alt="Figure 4.18 – The Java output for a weather information chart" src="image/B21378_04_018.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.18 – The Java output for a weather information chart</p>
			<h3>Requirement 8</h3>
			<p>Generate <a id="_idIndexMarker242"/>the documentation for <span class="No-Break">the script.</span></p>
			<p>Let’s use the Amazon Q Developer chat with code assistant technique to generate documentation. Remember that Amazon Q Developer supports the <strong class="source-inline">Explain</strong> prompt or command (see <a href="B21378_03.xhtml#_idTextAnchor060"><span class="No-Break"><em class="italic">Chapter 3</em></span></a> <span class="No-Break">for reference).</span></p>
			<p>Alternatively, you can highlight the entire code, then right-click and select the <strong class="bold">Amazon Q</strong> option from the pop-up menu followed <span class="No-Break">by </span><span class="No-Break"><strong class="bold">Explain</strong></span><span class="No-Break">.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer091">
					<img alt="Figure 4.19 – Amazon Q Developer in Java for overview documentation" src="image/B21378_04_019.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.19 – Amazon Q Developer in Java for overview documentation</p>
			<p>As you <a id="_idIndexMarker243"/>can see, Amazon Q Developer analyzed the script that was open in the editor window. It then attempted to comprehend the code to derive its logic. Finally, it consolidated all its findings to generate documentation aimed at helping users understand the <span class="No-Break">code better.</span></p>
			<p>Now let’s use the suggested prompts for additional documentation as seen in the <span class="No-Break">following screenshot.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer092">
					<img alt="Figure 4.20 – Amazon Q Developer suggested prompts in Java" src="image/B21378_04_020.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.20 – Amazon Q Developer suggested prompts in Java</p>
			<p>Note <a id="_idIndexMarker244"/>that Amazon Q Developer shares additional suggestions to obtain further in-depth documentation. Please feel free to explore <span class="No-Break">them further.</span></p>
			<p>Application developers can use Amazon Q Developer for code improvements simply by using the chat with code assistant technique. Let’s ask Amazon Q Developer to provide updated or improved code for the previously generated <strong class="source-inline">'Converting temperature to Fahrenheit and date to UTC, and adding data to a time </strong><span class="No-Break"><strong class="source-inline">series'</strong></span><span class="No-Break"> requirement.</span></p>
			<p>We write the<a id="_idIndexMarker245"/> prompt <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
Improve following code :
for (int i = 0; i &lt; forecastList.length(); i++) {
    JSONObject forecast = forecastList.getJSONObject(i);
    double temperatureCelsius = \ 
        forecast.getJSONObject("main").getDouble("temp");
    double temperatureFahrenheit = (temperatureCelsius * 9/5) + 32;
    long timestamp = forecast.getLong("dt") * 1000; // Convert timestamp to milliseconds
    Date date = new Date(timestamp);
    SimpleDateFormat sdf = \ 
        new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
    sdf.setTimeZone(java.util.TimeZone.getTimeZone("UTC"));
    series.add(new org.jfree.data.time.Second(date), 
        temperatureFahrenheit);
}</pre>			<p>Observe in the following screenshot that Amazon Q Developer has recommended multiple code changes to improve the code, making it easier to understand. This includes creating new methods and standardizing the code to use object-oriented approaches such as class encapsulation instead of <span class="No-Break">plain variables.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer093">
					<img alt="Figure 4.21 – Amazon Q Developer for Java code improvement" src="image/B21378_04_021.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.21 – Amazon Q Developer for Java code improvement</p>
			<p>Applications<a id="_idIndexMarker246"/> can use these recommendations to obtain the exact code using Amazon Q Developer. Additionally, Amazon Q Developer provided code fragments. You can update the script simply by using either <strong class="bold">Insert at cursor</strong> <span class="No-Break">or </span><span class="No-Break"><strong class="bold">Copy</strong></span><span class="No-Break">.</span></p>
			<p>I have illustrated a simple use case with one of the code fragments, but by following the preceding steps, you can get recommended updated code from Amazon Q Developer for any use case. Additionally, you can adjust the prompts to instruct Amazon Q Developer to generate code with error and <span class="No-Break">exception handling.</span></p>
			<h2 id="_idParaDest-92"><a id="_idTextAnchor091"/>Use-case summary</h2>
			<p>As illustrated, we employed a variety of prompt types – chain-of-thought, single-line, and multi-line – to develop a JavaScript script for a weather data application. We utilized VS Code IDE, which was configured to integrate seamlessly with Amazon Q Developer. Using Amazon Q Developer, we applied specific prompts to automatically generate functions for retrieving weather data from OpenWeatherMap, converting temperature from Celsius to Fahrenheit, converting dates to UTC format, and plotting charts. Moreover, we took advantage of Amazon Q Developer’s chat feature to generate comprehensive documentation and receive suggestions for enhancing our weather data application’s code. This approach highlights the versatility of using different prompt styles to tailor<a id="_idIndexMarker247"/> code generation to specific requirements within the JavaScript ecosystem. By leveraging advanced IDEs such as VS Code alongside intelligent code assistants such as Amazon Q Developer, developers can streamline the development process and enhance productivity. The ability to receive detailed documentation and actionable insights through chat interactions further demonstrates how integrating these tools can foster efficient and effective software <span class="No-Break">development practices.</span></p>
			<p>By adjusting prompts or simply instructing Amazon Q Developer in a chat-style interface, readers can further direct Amazon Q Developer to generate code with enhanced error and exception handling, making the solution robust and versatile for different use cases. This example demonstrates the power of combining advanced IDEs and intelligent code assistants to build sophisticated <span class="No-Break">applications efficiently.</span></p>
			<h1 id="_idParaDest-93"><a id="_idTextAnchor092"/>Summary</h1>
			<p>In this chapter, we covered how AI-powered code assistants can help Python and Java developers generate application code from the local IDE of their choice. To illustrate the functionality, we addressed the simple yet versatile application of weather <span class="No-Break">data analysis.</span></p>
			<p>Here are the key features covered throughout the <span class="No-Break">application’s development.</span></p>
			<p>We walked through the prerequisites of generating the API key for OpenWeatherMap, allowing us to obtain weather data for a user-entered country and city combination. We used the API key to retrieve the weather data provided by OpenWeatherMap, which offers a rich set of APIs. We gathered forecast weather data <span class="No-Break">from </span><a href="http://api.openweathermap.org/data/2.5/forecast"><span class="No-Break">http://api.openweathermap.org/data/2.5/forecast</span></a><span class="No-Break">.</span></p>
			<p>For coding, we used VS Code IDE for Java, which has been set up to work with Amazon Q Developer. For Python, we utilized JetBrains’ PyCharm IDE, which was also configured to work with Amazon <span class="No-Break">Q Developer.</span></p>
			<p>To get the code recommendations, we employed a combination of chain-of-thought, single-line, and multi-line prompts to create a JavaScript script for the weather data application. We used Amazon Q Developer with specific prompts to auto-generate functions to retrieve weather data from OpenWeatherMap, convert temperature from Celsius to Fahrenheit, convert dates to UTC format, and then plot the chart. Additionally, for documentation and code improvement, we used the chat with code assistant technique to interact with Amazon Q Developer. This allowed us to generate detailed documentation and receive code improvement recommendations for our weather <span class="No-Break">data application.</span></p>
			<p>By leveraging advanced IDEs such as VS Code and PyCharm alongside Amazon Q Developer, we demonstrated how various prompt styles can streamline the development process across multiple programming languages. This approach not only enhances productivity but also ensures that the generated code is robust and well-documented, making it easier for developers to understand <span class="No-Break">and maintain.</span></p>
			<p>In the next chapter, we will look at how Amazon Q Developer can generate code for multiple other programming languages such as JavaScript, C#, Go, PHP, Shell, and <span class="No-Break">so on.</span></p>
			<h1 id="_idParaDest-94"><a id="_idTextAnchor093"/>References</h1>
			<ul>
				<li><span class="No-Break">OpenWeatherMap: </span><a href="https://openweathermap.org/"><span class="No-Break">https://openweathermap.org/</span></a></li>
				<li>Getting started with Amazon Q Developer in VS Code and <span class="No-Break">JetBrains: </span><a href="https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/q-in-IDE-setup.html"><span class="No-Break">https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/q-in-IDE-setup.html</span></a></li>
				<li>Getting started with Java in VS <span class="No-Break">Code: </span><a href="https://code.visualstudio.com/docs/java/java-tutorial"><span class="No-Break">https://code.visualstudio.com/docs/java/java-tutorial</span></a></li>
				<li>Installing missing packages in JetBrains’ PyCharm <span class="No-Break">IDE: </span><a href="https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html"><span class="No-Break">https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html</span></a></li>
				<li>Installing missing packages in VS Code <span class="No-Break">IDE: </span><a href="https://code.visualstudio.com/docs/java/java-project"><span class="No-Break">https://code.visualstudio.com/docs/java/java-project</span></a></li>
			</ul>
		</div>
	</body></html>