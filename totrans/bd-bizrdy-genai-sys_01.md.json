["```py\n!curl -L https://raw.githubusercontent.com/Denis2054/Building-Business-Ready-Generative-AI-Systems/master/commons/grequests.py --output grequests.py \n```", "```py\nimport sys\nimport subprocess \nfrom grequests import download\ndownload([directory],[file]) \n```", "```py\ndef download(**directory**, **filename**): \n```", "```py\nbase_url = 'https://raw.githubusercontent.com/Denis2054/Building-Business-Ready-Generative-AI-Systems/main/' \n```", "```py\nfile_url = f\"{base_url}{directory}/{filename}\" \n```", "```py\ncurl_command = f'curl -o {filename} {file_url}' \n```", "```py\nsubprocess.run(curl_command, check=True, shell=True) \n```", "```py\ntry:\n    # Prepare the curl command with the Authorization header\n    curl_command = f'curl -o {filename} {file_url}'\n    # Execute the curl command\n    subprocess.run(curl_command, check=True, shell=True)\n    print(f\"Downloaded '{filename}' successfully.\")\nexcept subprocess.CalledProcessError:\n    print(f\"Failed to download '{filename}'. Check the URL and your internet connection\") \n```", "```py\nfrom grequests import download\ndownload(\"commons\",\"requirements01.py\")\ndownload(\"commons\",\"openai_setup.py\")\ndownload(\"commons\",\"openai_api.py\") \n```", "```py\ndef run_command(command):\n    try:\n        subprocess.check_call(command)\n    except subprocess.CalledProcessError as e:\n        print(f\"Command failed: {' '.join(command)}\\nError: {e}\")\n        sys.exit(1) \n```", "```py\nprint(\"Installing 'openai' version 1.57.1...\")\nrun_command([sys.executable, \"-m\", \"pip\", \"install\", \"--force-reinstall\", \"openai==1.57.1\"]) \n```", "```py\nrun_command(\n    [\n        sys.executable, \"-m\", \"pip\", \"install\", \n        **\"--force-reinstall\"****,** **\"openai==1.57.1\"**\n    ]\n) \n```", "```py\ntry:\n    import openai\n    print(f\"'openai' version {openai.__version__} is installed.\")\nexcept ImportError:\n    print(\"Failed to import the 'openai' library after installation.\")\n    sys.exit(1) \n```", "```py\n'openai' version 1.57.1 is installed. \n```", "```py\n# Import libraries\nimport openai\nimport os\nfrom google.colab import userdata\n# Function to initialize the OpenAI API key\ndef initialize_openai_api():\n# Function to initialize the OpenAI API key\ndef initialize_openai_api():\n    # Access the secret by its name\n    API_KEY = userdata.get('API_KEY')\n\n    if not API_KEY:\n        raise ValueError(\"API_KEY is not set in userdata!\")\n\n    # Set the API key in the environment and OpenAI\n    os.environ['OPENAI_API_KEY'] = API_KEY\n    openai.api_key = os.getenv(\"OPENAI_API_KEY\")\n    print(\"OpenAI API key initialized successfully.\") \n```", "```py\ngoogle_secrets=True\nif google_secrets==True:\n    import openai_setup\n    openai_setup.initialize_openai_api() \n```", "```py\n    if google_secrets==False: # Uncomment the code and choose any method you wish to initialize the API_KEY\n        import os\n        #API_KEY=[YOUR API_KEY]\n        #os.environ['OPENAI_API_KEY'] = API_KEY\n        #openai.api_key = os.getenv(\"OPENAI_API_KEY\")\n        #print(\"OpenAI API key initialized successfully.\") \n    ```", "```py\nos.environ['OPENAI_API_KEY'] = API_KEY\nopenai.api_key = os.getenv(\"OPENAI_API_KEY\") \n```", "```py\n#Import the function from the custom OpenAI API file\nimport openai_api\nfrom openai_api import make_openai_api_call \n```", "```py\n# API function call\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role)\nprint(response) \n```", "```py\ndef make_openai_api_call(input, mrole,mcontent,user_role):\n    # Define parameters\n    gmodel = \"gpt-4o\"\n    # Create the messages object\n    messages_obj = [\n        {\n            \"role\": mrole,\n            \"content\": mcontent\n        },\n        {\n            \"role\": user_role,\n            \"content\": input\n        }\n    ] \n```", "```py\n# Define all parameters in a dictionary named params:\n    params = {\n        **\"temperature\"**: 0,\n        **\"max_tokens\"**: 256,\n        **\"top_p\"**: 1,\n        **\"frequency_penalty\"**: 0,\n        **\"presence_penalty\"**: 0\n    } \n```", "```py\n client = OpenAI() \n```", "```py\n # Make the API call\n    response = client.chat.completions.create(\n        model=gmodel,\n        messages=messages_obj,\n        **params  # Unpack the parameters dictionary\n    ) \n```", "```py\n #Return the response\n    return response.choices[0].message.content \n```", "```py\nuinput = \"Hawai is on a geological volcano system. Explain:\"\nmrole = \"system\"\nmcontent = \"You are an expert in geology.\"\nuser_role = \"user\" \n```", "```py\n# Function call\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role)\nprint(response) \n```", "```py\nHawaii is located on a volcanic hotspot in the central Pacific Ocean, which is responsible for the formation of the Hawaiian Islands. This hotspot is a region where magma from deep within the Earth's mantle rises to the surface, creating volcanic activity… \n```", "```py\n# API message\nuinput = \"I vividly remember my family's move to Hawaii in the 1970s, how they embraced the warmth of its gentle breezes, the joy of finding a steady job, and the serene beauty that surrounded them. Sum this up in one nice sentence from a personal perspective:\"\nmrole = \"system\"\nmcontent = \"You are an expert in geology.\"\nuser_role = \"user\" \n```", "```py\ntext_message='I agree, we had a wonderful time there.'\nuninput=text_message+uinput\ntext_message=\"Hi, I agree, we had a wonderful time there.\" \n```", "```py\n# Call the function\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role)\nprint(response) \n```", "```py\nMoving to Hawaii in the 1970s was a transformative experience for my family, as they found joy in the island's gentle breezes, the security of steady employment, and the serene beauty that enveloped their new home. \n```", "```py\n# API message\nuinput = \"What question did I just ask you?\"\nmrole = \"system\"\nmcontent = \"You already have this information\"\nuser_role = \"user\" \n```", "```py\n# API function call\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role\n)\nprint(response) \n```", "```py\nI'm sorry, but I can't recall previous interactions or questions. Could you please repeat your question? \n```", "```py\nuinput = \"Hawai is on a geological volcano system. Explain:\"\nmrole = \"system\"\nmcontent = \"You are an expert in geology.\"\nuser_role = \"user\"\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role)\nprint(response) \n```", "```py\n\"Hawaii is part of a volcanic system known as a hotspot, which is a region of the Earth's mantle where heat rises as a thermal plume from deep within the Earth. This hotspot is responsible for the formation of the Hawaiian Islands. Here's how the process works:…\" \n```", "```py\nninput = \"Sum up your previous response in a short sentence in a maximum of 20 words.\"\nuinput = (\n    \"The current dialog session is: \" +\n    uinput +\n    response +\n    ninput\n)\nresponse = openai_api.make_openai_api_call(\n    uinput, mrole, mcontent, user_role\n)\nprint(\"New response:\", \"\\n\\n\", uinput, \"\\n\", response) \n```", "```py\nNew response: Hawaii's islands form from volcanic activity over a stationary hotspot beneath the moving Pacific Plate. \n```", "```py\nsession01=response\nprint(session01) \n```", "```py\nHawaii's islands form from volcanic activity over a stationary hotspot beneath the moving Pacific Plate. \n```", "```py\nuinput=\"Is it safe to go there on vacation\"\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role\n)\nprint(response) \n```", "```py\nI'm sorry, but I need more information to provide a helpful response. Could you specify the location you're considering for your vacation? … \n```", "```py\nninput = \"Let's continue our dialog.\"\nuinput=ninput + session01 + \"Would it be safe to go there on vacation?\"\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role\n)\nprint(\"Dialog:\", uinput,\"\\n\")\nprint(\"Response:\", response) \n```", "```py\nResponse: Hawaii is generally considered a safe destination for vacation, despite its volcanic activity. The Hawaiian Islands are formed by a hotspot beneath the Pacific Plate, which creates volcanoes as the plate moves over it. While volcanic activity is a natural and ongoing process in Hawaii, it is closely monitored by the United States Geological Survey (USGS) and other agencies… \n```", "```py\nsession02=uinput + response\nprint(session02) \n```", "```py\nninput =\"I would like to organize a geological visit in Arizona.\"\nuinput=ninput+\"Where should I start?\"\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role\n)\n#print(\"Dialog:\", uinput,\"\\n\") \n```", "```py\nResponse: Organizing a geological visit in Arizona is a fantastic idea, as the state is rich in diverse geological features. Here's a step-by-step guide to help you plan your trip:… \n```", "```py\nsession02=response\nninput=\"Sum up this dialog in a short paragraph:\"\nuinput=ninput+ session01 + session02\nresponse = openai_api.make_openai_api_call(\n    uinput,mrole,mcontent,user_role\n)\n#print(\"Dialog:\", uinput,\"\\n\")#optional\nprint(\"Response:\", response) \n```", "```py\nResponse: The dialog begins by explaining the formation of Hawaii's volcanic islands as the Pacific Plate moves over a stationary hotspot, leading to active volcanoes like Kilauea…. \n```", "```py\nIt then transitions to planning a geological visit to Arizona, emphasizing the state's diverse geological features. The guide recommends researching key sites such as the Grand Canyon… \n```"]