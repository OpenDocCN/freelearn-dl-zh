<html><head></head><body>
<div id="_idContainer103">
<h1 class="chapter-number" id="_idParaDest-147"><a id="_idTextAnchor294"/><span class="koboSpan" id="kobo.1.1">9</span></h1>
<h1 id="_idParaDest-148"><a id="_idTextAnchor295"/><span class="koboSpan" id="kobo.2.1">Giving the Robot an Artificial Personality</span></h1>
<p><span class="koboSpan" id="kobo.3.1">When a person thinks of a robot with AI, what many consider AI is a robot that has emotions, feelings, a state of mind, and some sort of model</span><a id="_idIndexMarker681"/><span class="koboSpan" id="kobo.4.1"> or concept of how humans think or feel. </span><span class="koboSpan" id="kobo.4.2">We can call this form of AI an </span><strong class="bold"><span class="koboSpan" id="kobo.5.1">artificial personality</span></strong><span class="koboSpan" id="kobo.6.1">. </span><span class="koboSpan" id="kobo.6.2">While giving a robot feelings is definitely way beyond the scope of this book (or current technology), what we can do is create a simulation of a personality for the robot using standard computer modeling techniques, such as Monte Carlo analysis, and finite </span><span class="No-Break"><span class="koboSpan" id="kobo.7.1">state machines.</span></span></p>
<p><span class="koboSpan" id="kobo.8.1">In this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.10.1">What is an </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">artificial personality?</span></span></li>
<li><span class="koboSpan" id="kobo.12.1">A brief introduction to the (obsolete) Turing test, chatbots, and </span><strong class="bold"><span class="koboSpan" id="kobo.13.1">generative </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.14.1">AI</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.15.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.16.1">GenAI</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">)</span></span></li>
<li><span class="koboSpan" id="kobo.18.1">The art and science </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">of simulation</span></span></li>
<li><span class="koboSpan" id="kobo.20.1">An emotion </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">state machine</span></span></li>
<li><span class="koboSpan" id="kobo.22.1">Playing the </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">emotion game</span></span></li>
<li><span class="koboSpan" id="kobo.24.1">Creating a model of </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">human behavior</span></span></li>
<li><span class="koboSpan" id="kobo.26.1">Developing the robot </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">emotion engine</span></span><a id="_idTextAnchor296"/><a id="_idTextAnchor297"/></li>
</ul>
<h1 id="_idParaDest-149"><a id="_idTextAnchor298"/><span class="koboSpan" id="kobo.28.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.29.1">We will not be introducing any new programming libraries in this chapter. </span><span class="koboSpan" id="kobo.29.2">We will be building on the voice system we constructed previously. </span><span class="koboSpan" id="kobo.29.3">All you will need is imagination and some </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">writing skills.</span></span></p>
<p><span class="koboSpan" id="kobo.31.1">You’ll find the code for this chapter </span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">at </span></span><a href="https://github.com/PacktPublishing/Artificial-Intelligence-for-Robotics-2e"><span class="No-Break"><span class="koboSpan" id="kobo.33.1">https://github.com/PacktPublishing/Artificial-Intelligence-for-Robotics-2e</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.34.1">.</span></span><a id="_idTextAnchor299"/><a id="_idTextAnchor300"/><a id="_idTextAnchor301"/></p>
<h1 id="_idParaDest-150"><a id="_idTextAnchor302"/><span class="koboSpan" id="kobo.35.1">What is an artificial personality?</span></h1>
<p><span class="koboSpan" id="kobo.36.1">Hollywood and the movie industry</span><a id="_idIndexMarker682"/><span class="koboSpan" id="kobo.37.1"> have turned out some very memorable robots. </span><span class="koboSpan" id="kobo.37.2">You can think of R2D2 and C3PO, the Laurel and Hardy of science fiction. </span><span class="koboSpan" id="kobo.37.3">What do you like most about these two? </span><span class="koboSpan" id="kobo.37.4">Could it be their personalities? </span><span class="koboSpan" id="kobo.37.5">Think about this a bit. </span><span class="koboSpan" id="kobo.37.6">Even though R2D2 is mostly a wastebasket shape with a dome head and no face, he has a definite personality. </span><span class="koboSpan" id="kobo.37.7">You’d describe him as </span><em class="italic"><span class="koboSpan" id="kobo.38.1">feisty</span></em><span class="koboSpan" id="kobo.39.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.40.1">stubborn</span></em><span class="koboSpan" id="kobo.41.1">. </span><span class="koboSpan" id="kobo.41.2">The </span><em class="italic"><span class="koboSpan" id="kobo.42.1">Robots and Androids</span></em><span class="koboSpan" id="kobo.43.1"> website (</span><a href="http://www.robots-and-androids.com/R2D2.html"><span class="koboSpan" id="kobo.44.1">http://www.robots-and-androids.com/R2D2.html</span></a><span class="koboSpan" id="kobo.45.1">) described him in </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">this way:</span></span></p>
<p class="uthor-quote"><span class="koboSpan" id="kobo.47.1">The droid is shown as being highly courageous, unwavering in loyalty, and a little bit stubborn. </span><span class="koboSpan" id="kobo.47.2">He never backs down from a mission, even when the odds appear to be stacked against him. </span><span class="koboSpan" id="kobo.47.3">His personality is often contrasted against that of [C3PO], who is fussy and timid.</span></p>
<p><span class="koboSpan" id="kobo.48.1">This is pretty impressive for a robot who never says a word and communicates with beeps </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">and whistles.</span></span></p>
<p><span class="koboSpan" id="kobo.50.1">What were other movie robots that made an impression on you? </span><span class="koboSpan" id="kobo.50.2">Certainly, WALL-E, the lovable trash-compacting robot from the eponymous movie, is a favorite. </span><span class="koboSpan" id="kobo.50.3">WALL-E also had a small vocabulary, consisting of only his name, much like a Pokemon. </span><span class="koboSpan" id="kobo.50.4">WALL-E displayed a lot of emotion and even developed hobbies, collecting and repairing old trash. </span><span class="koboSpan" id="kobo.50.5">You may also remember M-O, the tiny, obsessive cleaning robot that gets frustrated with all of the dirt WALL-E </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">brings in.</span></span></p>
<p><span class="koboSpan" id="kobo.52.1">So, one thing that we might do as robotics creators and designers is to imbue our robot with some sort of personality. </span><span class="koboSpan" id="kobo.52.2">This has the advantage of letting humans relate to the robot better. </span><span class="koboSpan" id="kobo.52.3">It also gives the false impression that the robot is much smarter and is capable of more than it really is. </span><span class="koboSpan" id="kobo.52.4">This does give the advantage of the robot being more engaging </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">and interesting.</span></span></p>
<p><span class="koboSpan" id="kobo.54.1">We can also infer from the examples given to us by R2D2 and WALL-E that less can be more when it comes to communication – we need to not just have words but also body language </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">and sound.</span></span></p>
<p><span class="koboSpan" id="kobo.56.1">What we are going to do in this section</span><a id="_idIndexMarker683"/><span class="koboSpan" id="kobo.57.1"> is develop an artificial personality for our robots. </span><span class="koboSpan" id="kobo.57.2">While it is impossible for us to give a robot actual emotions or feelings, however you might define that, we can create a simulation of personality that will provide a convincing illusion. </span><span class="koboSpan" id="kobo.57.3">I think this is a meaningful exercise because the current state of the art in robotics demands some sort of personality and consistent demeanor from robotics that interact </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">with huma</span><a id="_idTextAnchor303"/><span class="koboSpan" id="kobo.59.1">ns.</span></span></p>
<p><span class="koboSpan" id="kobo.60.1">The cartoon seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.61.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.62.1">.1</span></em><span class="koboSpan" id="kobo.63.1"> expresses how people and robots might interact. </span><span class="koboSpan" id="kobo.63.2">The robot has had enough with picking up toys and wishes to show </span><span class="No-Break"><span class="koboSpan" id="kobo.64.1">its feelings:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer097">
<span class="koboSpan" id="kobo.65.1"><img alt="Figure 9.1 – A person and a robot interacting" src="image/B19846_09_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.66.1">Figure 9.1 – A person and a robot interacting</span></p>
<p><span class="koboSpan" id="kobo.67.1">There is a lot of work going on in this area right now with digital personal assistance, such as Apple’s Siri and Amazon’s Alexa. </span><span class="koboSpan" id="kobo.67.2">Note that these robots, or AIs, have distinct names and voices, but I feel that they are very similar in personality and capability. </span><span class="koboSpan" id="kobo.67.3">There is some distinction when you ask Siri or Alexa a personal question, such as how old they are (Siri is considerably older </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">than Alexa).</span></span></p>
<p><span class="koboSpan" id="kobo.69.1">In this chapter, we are going to take tools from the science of simulation – specifically, </span><strong class="bold"><span class="koboSpan" id="kobo.70.1">state machines</span></strong><span class="koboSpan" id="kobo.71.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.72.1">Monte Carlo analysis</span></strong><span class="koboSpan" id="kobo.73.1"> – and use them to form a</span><a id="_idIndexMarker684"/><span class="koboSpan" id="kobo.74.1"> model of a personality</span><a id="_idIndexMarker685"/><span class="koboSpan" id="kobo.75.1"> for Albert, the robot. </span><span class="koboSpan" id="kobo.75.2">We already have a fairly powerful tool, in the Mycroft speech system we used to tell knock-knock jokes. </span><span class="koboSpan" id="kobo.75.3">We will be extending Mycroft with some new skills and capabilities, as well as developing cybernetic emotions, both for our robot and for the robot’s opinion of what we, the humans, </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">are feeling.</span></span></p>
<p><span class="koboSpan" id="kobo.77.1">I want to emphasize that we are simulating emotions, not creating an emotional robot. </span><span class="koboSpan" id="kobo.77.2">Our simulation bears the same resemblance to real emotions as a flight simulator bears to the space shuttle – both provide the same information, but the space shuttle flies around the Earth in 90 minutes, and the flight simulator </span><span class="No-Break"><span class="koboSpan" id="kobo.78.1">never moves.</span></span></p>
<p><span class="koboSpan" id="kobo.79.1">Let’s talk about what we are trying to accomplish</span><a id="_idIndexMarker686"/><span class="koboSpan" id="kobo.80.1"> in this section by first talking about the famous Turing test – can we create a robot that interacts in a way that's indistinguishable from a </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">human be</span><a id="_idTextAnchor304"/><a id="_idTextAnchor305"/><a id="_idTextAnchor306"/><span class="koboSpan" id="kobo.82.1">ing?</span></span></p>
<h1 id="_idParaDest-151"><a id="_idTextAnchor307"/><span class="koboSpan" id="kobo.83.1">A brief introduction to the (obsolete) Turing test, chatbots, and generative AI</span></h1>
<p><span class="koboSpan" id="kobo.84.1">Alan Turing proposed</span><a id="_idIndexMarker687"/><span class="koboSpan" id="kobo.85.1"> his famous</span><a id="_idIndexMarker688"/><span class="koboSpan" id="kobo.86.1"> test, which he called </span><em class="italic"><span class="koboSpan" id="kobo.87.1">The Imitation Game</span></em><span class="koboSpan" id="kobo.88.1">, in a paper titled </span><em class="italic"><span class="koboSpan" id="kobo.89.1">Computing Machinery and Intelligence</span></em><span class="koboSpan" id="kobo.90.1">, published in 1950 in the journal </span><em class="italic"><span class="koboSpan" id="kobo.91.1">Mind – A Quarterly Review of Psychology and Philosophy</span></em><span class="koboSpan" id="kobo.92.1"> (see </span><a href="https://www.abelard.org/turpap/turpap.php#the_imitation_game"><span class="koboSpan" id="kobo.93.1">https://www.abelard.org/turpap/turpap.php#the_imitation_game</span></a><span class="koboSpan" id="kobo.94.1">). </span><span class="koboSpan" id="kobo.94.2">In the original text, Turing imagined a game</span><a id="_idIndexMarker689"/><span class="koboSpan" id="kobo.95.1"> where a player would have to guess the sex – male or female – of a hidden person by typing questions on a teletype. </span><span class="koboSpan" id="kobo.95.2">Then, he suggested that a truly intelligent machine would be one where you would not be able to distinguish if the hidden personality on the other end of the teletype was a human or a computer </span><span class="No-Break"><span class="koboSpan" id="kobo.96.1">software program.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.97.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.98.1">The movie </span><em class="italic"><span class="koboSpan" id="kobo.99.1">The Imitation Game</span></em><span class="koboSpan" id="kobo.100.1"> stars Benedict Cumberbatch as Alan Turing and features his role in breaking German code in WWII as part of the mathematicians of Bletchley Park. </span><span class="koboSpan" id="kobo.100.2">The title refers to Turing’s original name of the famous test that bears </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">his name.</span></span></p>
<p><span class="koboSpan" id="kobo.102.1">These days, you may talk to computer software many times a day and not realize that you are not speaking to a human. </span><span class="koboSpan" id="kobo.102.2">Robocalls and chatbots may call you on the telephone or engage you in a fake political conversation on Twitter. </span><span class="koboSpan" id="kobo.102.3">The Turing test has been won by the machines (</span><a href="https://www.nature.com/articles/d41586-023-02361-7"><span class="koboSpan" id="kobo.103.1">https://www.nature.com/articles/d41586-023-02361-7</span></a><span class="koboSpan" id="kobo.104.1">), but have we developed intelligence in computers? </span><span class="koboSpan" id="kobo.104.2">Not at all – we have just become very clever at simulating conversation. </span><span class="koboSpan" id="kobo.104.3">Recently, robotics experts have suggested replacing the Turing test with a more demanding and difficult assessment of a computer’s cognitive skills and </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">self-understanding: </span></span><a href="https://techxplore.com/news/2023-11-redefining-quest-artificial-intelligence-turing.html"><span class="No-Break"><span class="koboSpan" id="kobo.106.1">https://techxplore.com/news/2023-11-redefining-quest-artificial-intelligence-turing.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.107.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.108.1">We are going to use another tool that Alan</span><a id="_idIndexMarker690"/><span class="koboSpan" id="kobo.109.1"> Turing mentioned in his paper – </span><strong class="bold"><span class="koboSpan" id="kobo.110.1">state machines</span></strong><span class="koboSpan" id="kobo.111.1">. </span><span class="koboSpan" id="kobo.111.2">We will use state machines to define and model the emotions of our robot in the </span><em class="italic"><span class="koboSpan" id="kobo.112.1">An emotion state </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.113.1">machine</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.114.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.115.1">Let’s now go back to the concept of a </span><strong class="bold"><span class="koboSpan" id="kobo.116.1">chatbot</span></strong><span class="koboSpan" id="kobo.117.1">. </span><span class="koboSpan" id="kobo.117.2">A working definition may</span><a id="_idIndexMarker691"/><span class="koboSpan" id="kobo.118.1"> be a software program designed to engage a human in conversation or to interact with a person via voice or text. </span><span class="koboSpan" id="kobo.118.2">While most chatbots are up-front about being computer generated, there are a lot of chatbots that are not – including Twitter chatbots that seek to influence elections or public opinion. </span><span class="koboSpan" id="kobo.118.3">Many chatbots are gainfully employed answering tech support phone calls, making</span><a id="_idIndexMarker692"/><span class="koboSpan" id="kobo.119.1"> marketing calls, and entertaining users as the dialog of </span><strong class="bold"><span class="koboSpan" id="kobo.120.1">non-player characters</span></strong><span class="koboSpan" id="kobo.121.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.122.1">NPCs</span></strong><span class="koboSpan" id="kobo.123.1">) </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">in games.</span></span></p>
<p><span class="koboSpan" id="kobo.125.1">According to the article </span><em class="italic"><span class="koboSpan" id="kobo.126.1">Ultimate Guide to Leveraging NLP and Machine Learning for Your Chatbot</span></em><span class="koboSpan" id="kobo.127.1"> by Stefan Kojouharov, published by </span><a href="http://chatbotslife.com"><span class="koboSpan" id="kobo.128.1">chatbotslife.com</span></a><span class="koboSpan" id="kobo.129.1"> in 2016, chatbots come in </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">tw</span><a id="_idTextAnchor308"/><span class="koboSpan" id="kobo.131.1">o flavors:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.132.1">Retrieval-based</span></strong><span class="koboSpan" id="kobo.133.1">: These chatbots rely on stored phrases</span><a id="_idIndexMarker693"/><span class="koboSpan" id="kobo.134.1"> and words, and use the software decision-making to select which reply is most appropriate. </span><span class="koboSpan" id="kobo.134.2">There may be some keyword recognition and noun-subject insertion involved, but the main action is to select the most </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">appropriate phrase.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.136.1">Generative-based</span></strong><span class="koboSpan" id="kobo.137.1">: These chatbots make up new sentences based on </span><strong class="bold"><span class="koboSpan" id="kobo.138.1">parts of speech</span></strong><span class="koboSpan" id="kobo.139.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.140.1">POS</span></strong><span class="koboSpan" id="kobo.141.1">) and the robot’s divination</span><a id="_idIndexMarker694"/><span class="koboSpan" id="kobo.142.1"> of your intent. </span><span class="koboSpan" id="kobo.142.2">They</span><a id="_idIndexMarker695"/><span class="koboSpan" id="kobo.143.1"> can be thought of as machine translation engines that translate the input (your text or speech) into an output (the robot’s reply). </span><span class="koboSpan" id="kobo.143.2">As you might imagine, the generative-type chatbot is far more difficult to achieve, which is why we will be using a retrieval-based approach. </span><span class="koboSpan" id="kobo.143.3">Recent developments from projects such as ChatGPT</span><a id="_idIndexMarker696"/><span class="koboSpan" id="kobo.144.1"> have redefined what </span><a id="_idIndexMarker697"/><span class="koboSpan" id="kobo.145.1">is possible</span><a id="_idIndexMarker698"/><span class="koboSpan" id="kobo.146.1"> for chatbots. </span><span class="koboSpan" id="kobo.146.2">The term </span><strong class="bold"><span class="koboSpan" id="kobo.147.1">Generative Pre-trained Transformer</span></strong><span class="koboSpan" id="kobo.148.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.149.1">GPT</span></strong><span class="koboSpan" id="kobo.150.1">) refers to three characteristics of this </span><strong class="bold"><span class="koboSpan" id="kobo.151.1">neural </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.152.1">network</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.153.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.154.1">NN</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.155.1">):</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.156.1">Generative</span></strong><span class="koboSpan" id="kobo.157.1">: The model is capable of creating new text phrases, rather than just repeating or </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">categorizing text</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.159.1">Pre-trained</span></strong><span class="koboSpan" id="kobo.160.1">: The model is pre-trained on enormous datasets – over a trillion examples – to understand language and the relationship </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">between words</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.162.1">Transformer</span></strong><span class="koboSpan" id="kobo.163.1">: The NN architecture uses transformers to process an entire sentence at a time, learning both the word meanings and relationships in a sentence (positions of words in </span><span class="No-Break"><span class="koboSpan" id="kobo.164.1">a sentence)</span></span></li></ul></li>
</ul>
<p><span class="koboSpan" id="kobo.165.1">In the simplest form, the GenAI NN predicts what word is most likely to come next in a sentence, based on training on billions </span><span class="No-Break"><span class="koboSpan" id="kobo.166.1">of examples.</span></span></p>
<p><span class="koboSpan" id="kobo.167.1">We will use GenAI to develop some of our text</span><a id="_idIndexMarker699"/><span class="koboSpan" id="kobo.168.1"> outputs but apply these to a classical chatbot, thus having the best of both worlds – not having to generate text ourselves, and having a system where we have control over inputs and outputs and can trust the system to control </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">a robot.</span></span></p>
<p><span class="koboSpan" id="kobo.170.1">There are two other details we need to attend to. </span><span class="koboSpan" id="kobo.170.2">Chatbots</span><a id="_idIndexMarker700"/><span class="koboSpan" id="kobo.171.1"> can be designed to handle either short conversations or long conversations. </span><span class="koboSpan" id="kobo.171.2">The vast majority of chatbots – and that includes digital assistants such as Siri, Alexa, and Mycroft – are designed for very short conversations. </span><em class="italic"><span class="koboSpan" id="kobo.172.1">Siri, what is the weather?</span></em> <em class="italic"><span class="koboSpan" id="kobo.173.1">There is a 20% chance of rain.</span></em> <em class="italic"><span class="koboSpan" id="kobo.174.1">The high is 88 degrees.</span></em><span class="koboSpan" id="kobo.175.1"> That’s it – the whole conversation in three sentences and two interactions. </span><span class="koboSpan" id="kobo.175.2">If you ask another question, it starts a new conversation with little reference to the </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">previous one.</span></span></p>
<p><span class="koboSpan" id="kobo.177.1">A more difficult task is to have a longer conversation with several interactions and even a selection of topics. </span><span class="koboSpan" id="kobo.177.2">This requires the computer to keep track of context or what information has been discussed and might be referred </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">to again.</span></span></p>
<p><span class="koboSpan" id="kobo.179.1">We will be attempting to teach our robot</span><a id="_idIndexMarker701"/><span class="koboSpan" id="kobo.180.1"> to be able to have medium-length conversations </span><a id="_idIndexMarker702"/><span class="koboSpan" id="kobo.181.1">at a 7-year-old level. </span><span class="koboSpan" id="kobo.181.2">I’ll define medium length to be between two and </span><span class="No-Break"><span class="koboSpan" id="kobo.182.1">six interactions.</span></span></p>
<p><span class="koboSpan" id="kobo.183.1">Now, before we proceed with our robot, let’s quickly discuss some statistical distributions because I’ve found the ability to use Monte Carlo analysis – and to create custom random number distributions – very</span><a id="_idTextAnchor309"/><a id="_idTextAnchor310"/><span class="koboSpan" id="kobo.184.1"> useful </span><span class="No-Break"><span class="koboSpan" id="kobo.185.1">in robotics.</span></span></p>
<h1 id="_idParaDest-152"><a id="_idTextAnchor311"/><span class="koboSpan" id="kobo.186.1">The art and science of simulation</span></h1>
<p><span class="koboSpan" id="kobo.187.1">What is simulation? </span><span class="koboSpan" id="kobo.187.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.188.1">simulator</span></strong><span class="koboSpan" id="kobo.189.1"> is a computer model of the physical</span><a id="_idIndexMarker703"/><span class="koboSpan" id="kobo.190.1"> world. </span><span class="koboSpan" id="kobo.190.2">You are probably familiar</span><a id="_idIndexMarker704"/><span class="koboSpan" id="kobo.191.1"> with flight simulators, which provide sensations and interactions of flight without leaving the ground. </span><span class="koboSpan" id="kobo.191.2">There are also a lot of other types of simulations and simulators. </span><span class="koboSpan" id="kobo.191.3">We could have a medical simulator that mimics diseases or responds to treatments. </span><span class="koboSpan" id="kobo.191.4">It could be a financial simulation that models profits on the stock market based on trends. </span><span class="koboSpan" id="kobo.191.5">There are structural simulations that model loads on bridges and buildings to see whether the m</span><a id="_idTextAnchor312"/><span class="koboSpan" id="kobo.192.1">aterials </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">are adequate.</span></span></p>
<p><span class="koboSpan" id="kobo.194.1">The most common way of creating</span><a id="_idIndexMarker705"/><span class="koboSpan" id="kobo.195.1"> a simulation is by building a </span><strong class="bold"><span class="koboSpan" id="kobo.196.1">physics model</span></strong><span class="koboSpan" id="kobo.197.1"> of the item under test. </span><span class="koboSpan" id="kobo.197.2">For a flight simulator, this means plugging in formulas for the four forces on an airplane or a helicopter – lift, gravity, thrust, and drag. </span><span class="koboSpan" id="kobo.197.3">Each factor has parameters that affect its performance – for instance, the lift is a function of the speed through the air, the weight of the aircraft, the size of the wing, and the angle of attack, or the angle between the wing and the wind. </span><span class="koboSpan" id="kobo.197.4">Vary any of those, and the lift changes. </span><span class="koboSpan" id="kobo.197.5">If the amount of lift exceeds the force due to gravity (that is, the weight of the aircraft), then the aircraft flies. </span><span class="koboSpan" id="kobo.197.6">The simulation sets up a time-step interval, just like our control loop for the robot, and computes the forces on the aircraft for each time step. </span><span class="koboSpan" id="kobo.197.7">We can then apply controls and see how our model performs. </span><span class="koboSpan" id="kobo.197.8">Models just like this are used to predict performance in advance of building a prototype or </span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">test airplane.</span></span></p>
<p><span class="koboSpan" id="kobo.199.1">Another type of </span><a id="_idIndexMarker706"/><span class="koboSpan" id="kobo.200.1">simulation is called a </span><strong class="bold"><span class="koboSpan" id="kobo.201.1">Monte Carlo model</span></strong><span class="koboSpan" id="kobo.202.1">. </span><span class="koboSpan" id="kobo.202.2">The Monte Carlo method uses </span><strong class="bold"><span class="koboSpan" id="kobo.203.1">probability theory</span></strong><span class="koboSpan" id="kobo.204.1"> to replace sophisticated physical</span><a id="_idIndexMarker707"/><span class="koboSpan" id="kobo.205.1"> models with a variation of random numbers that approximates the same result. </span><span class="koboSpan" id="kobo.205.2">If you wanted to create a computer model of flipping a coin, you wouldn’t spend a lot of time determining the physical properties of a nickel or modeling the number of flips in the air based on force. </span><span class="koboSpan" id="kobo.205.3">You would just pick a random number from 1 to 100 and say the result is heads if the number drawn is less than 50 and tails if it is greater than 50. </span><span class="koboSpan" id="kobo.205.4">That, in essence, is the Monte Carlo method. </span><span class="koboSpan" id="kobo.205.5">There are a lot of physical processes that can be approximated and studied using this technique, where outcomes can be described in terms </span><span class="No-Break"><span class="koboSpan" id="kobo.206.1">of probabilities.</span></span></p>
<p><span class="koboSpan" id="kobo.207.1">We can apply Monte Carlo</span><a id="_idIndexMarker708"/><span class="koboSpan" id="kobo.208.1"> analysis to model people going through security at an airport. </span><span class="koboSpan" id="kobo.208.2">If you had a copy</span><a id="_idIndexMarker709"/><span class="koboSpan" id="kobo.209.1"> of a typical schedule for the airlines and the average number of passengers per flight, you would know the daily traffic at the airport. </span><span class="koboSpan" id="kobo.209.2">The difficult bit would be modeling when people would arrive for their flight. </span><span class="koboSpan" id="kobo.209.3">Let’s imagine that we commissioned a study and determined roughly that 50% of people arrive 1 hour early, 25% arrive 2 hours early, and the rest are evenly distributed between 2.5 hours and 30 minutes, with 1 passenger out of every 200 missing their flight by being late. </span><span class="koboSpan" id="kobo.209.4">We can approximate the passenger arrival function with two standard distributions (bell curves) and two uniform </span><span class="No-Break"><span class="koboSpan" id="kobo.210.1">distributions (boxes):</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer098">
<span class="koboSpan" id="kobo.211.1"><img alt="Figure 9.2 – A complex probability distribution function can be approximated by the union of simpler distributions" src="image/B19846_09_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.212.1">Figure 9.2 – A complex probability distribution function can be approximated by the union of simpler distributions</span></p>
<p><span class="koboSpan" id="kobo.213.1">This information allows us to create sample</span><a id="_idIndexMarker710"/><span class="koboSpan" id="kobo.214.1"> sizes of passenger arrivals and thus obtain an estimate of the length of lines at security. </span><span class="koboSpan" id="kobo.214.2">We would add some distribution of values of how long it took to get through security, and we would have our model. </span><span class="koboSpan" id="kobo.214.3">We have a list of flights, and for each flight, we generate a distribution of passenger arrival times based on the study by assigning random numbers to each passenger and separating them out into groups based on </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">arrival time.</span></span></p>
<p><span class="koboSpan" id="kobo.216.1">Let’s assign random numbers from 1 to 100 to our 212 passengers arriving for the 08:00 flight from Dallas to Washington DC. </span><span class="koboSpan" id="kobo.216.2">Now, we assign an arrival time based on that number – if the number is from </span><em class="italic"><span class="koboSpan" id="kobo.217.1">1</span></em><span class="koboSpan" id="kobo.218.1"> to </span><em class="italic"><span class="koboSpan" id="kobo.219.1">25</span></em><span class="koboSpan" id="kobo.220.1">, the passenger arrives 2 hours earlier than the flight (06:00). </span><span class="koboSpan" id="kobo.220.2">If the number is from </span><em class="italic"><span class="koboSpan" id="kobo.221.1">26</span></em><span class="koboSpan" id="kobo.222.1"> to </span><em class="italic"><span class="koboSpan" id="kobo.223.1">75</span></em><span class="koboSpan" id="kobo.224.1"> (the next 50%) then they arrive 1 hour early (07:00). </span><span class="koboSpan" id="kobo.224.2">The rest of the passengers, having numbers from </span><em class="italic"><span class="koboSpan" id="kobo.225.1">76</span></em><span class="koboSpan" id="kobo.226.1"> to </span><em class="italic"><span class="koboSpan" id="kobo.227.1">100</span></em><span class="koboSpan" id="kobo.228.1">, are assigned random times between 2.5 hours early to 30 minutes early. </span><span class="koboSpan" id="kobo.228.2">And we pick 1 unlucky passenger out of our 212 to miss the flight completely by arriving late. </span><span class="koboSpan" id="kobo.228.3">Since there is some variability in people who intend to arrive exactly 2 hours</span><a id="_idIndexMarker711"/><span class="koboSpan" id="kobo.229.1"> ahead, but are delayed or advanced slightly, we can </span><strong class="bold"><span class="koboSpan" id="kobo.230.1">dither</span></strong><span class="koboSpan" id="kobo.231.1"> or add a small random distribution factor to each arrival time of plus or minus 10 minutes. </span><span class="koboSpan" id="kobo.231.2">We now have a statistically correct distribution of people arriving for a flight. </span><span class="koboSpan" id="kobo.231.3">Now, repeat this process for the other 1,849 flights leaving today from this airport. </span><span class="koboSpan" id="kobo.231.4">You can see from this model that we can still put a great deal of science into picking </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">random numbers.</span></span></p>
<p><span class="koboSpan" id="kobo.233.1">So, how do we make a </span><strong class="bold"><span class="koboSpan" id="kobo.234.1">probability distribution function</span></strong><span class="koboSpan" id="kobo.235.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.236.1">PDF</span></strong><span class="koboSpan" id="kobo.237.1">) that looks like this (see </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.238.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.239.1">.2</span></em><span class="koboSpan" id="kobo.240.1"> top graph)? </span><span class="koboSpan" id="kobo.240.2">The answer</span><a id="_idIndexMarker712"/><span class="koboSpan" id="kobo.241.1"> is we combine several distributions. </span><span class="koboSpan" id="kobo.241.2">In the lower graph of </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.242.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.243.1">.2</span></em><span class="koboSpan" id="kobo.244.1">, you see two standard distributions (the humps in green) and one uniform distribution (the lower green box) that combined make our overall </span><span class="No-Break"><span class="koboSpan" id="kobo.245.1">correct function.</span></span></p>
<p><span class="koboSpan" id="kobo.246.1">As you might have guessed from</span><a id="_idIndexMarker713"/><span class="koboSpan" id="kobo.247.1"> my example, the true secret of making this technique work is picking the correct distribution of random numbers. </span><span class="koboSpan" id="kobo.247.2">You may think, “Hey, random numbers</span><a id="_idIndexMarker714"/><span class="koboSpan" id="kobo.248.1"> are random numbers, right?” </span><span class="koboSpan" id="kobo.248.2">But</span><a id="_idIndexMarker715"/><span class="koboSpan" id="kobo.249.1"> this is not correct at all. </span><span class="koboSpan" id="kobo.249.2">You have heard of a </span><strong class="bold"><span class="koboSpan" id="kobo.250.1">standard distribution</span></strong><span class="koboSpan" id="kobo.251.1"> or the </span><strong class="bold"><span class="koboSpan" id="kobo.252.1">bell-shaped curve</span></strong><span class="koboSpan" id="kobo.253.1">. </span><span class="koboSpan" id="kobo.253.2">Most of the values are in the center, with fewer and fewer as you go away from the center. </span><span class="koboSpan" id="kobo.253.3">Many natural processes follow this bell-shaped curve, including grades on a test, how tall people are, or how many grapes grow in a bunch. </span><span class="koboSpan" id="kobo.253.4">When you do Monte Carlo analysis, most often we use some form of normal or </span><span class="No-Break"><span class="koboSpan" id="kobo.254.1">standard distribution.</span></span></p>
<p><span class="koboSpan" id="kobo.255.1">Can you think of other types of random numbers? </span><span class="koboSpan" id="kobo.255.2">The second</span><a id="_idIndexMarker716"/><span class="koboSpan" id="kobo.256.1"> most common type of random number is a </span><strong class="bold"><span class="koboSpan" id="kobo.257.1">uniform distribution</span></strong><span class="koboSpan" id="kobo.258.1">. </span><span class="koboSpan" id="kobo.258.2">Each number has the exact same probability of being selected, which makes for a flat distribution curve. </span><span class="koboSpan" id="kobo.258.3">Another name</span><a id="_idIndexMarker717"/><span class="koboSpan" id="kobo.259.1"> for this uniform distribution is </span><strong class="bold"><span class="koboSpan" id="kobo.260.1">white noise</span></strong><span class="koboSpan" id="kobo.261.1">. </span><span class="koboSpan" id="kobo.261.2">Uniform distributions do occur in analysis, and if we want to add noise to an image, for example, we will use a uniform distribution. </span><span class="koboSpan" id="kobo.261.3">But in modeling emotions and people, normal or standard distributions are </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">the rule.</span></span></p>
<p><span class="koboSpan" id="kobo.263.1">You may find that in using Monte Carlo modeling, a standard distribution or uniform distribution just won’t work. </span><span class="koboSpan" id="kobo.263.2">Then, you can create a custom distribution, as I did in the airport example, where we used re-sampling to change a uniform distribution to a custom distribution fitting our passenger </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">arrival model.</span></span></p>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.265.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.266.1">.3</span></em><span class="koboSpan" id="kobo.267.1"> shows the various shapes</span><a id="_idIndexMarker718"/><span class="koboSpan" id="kobo.268.1"> of distributions various kinds of random number generators produce, along with their commonly used names – the bell curve and the flat line. </span><span class="koboSpan" id="kobo.268.2">The lognormal graph looks to me like a ski slope – what do you think it </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">looks like?</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer099">
<span class="koboSpan" id="kobo.270.1"><img alt="Figure 9.3 – Various types of random number generators and the distributions they produce" src="image/B19846_09_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.271.1">Figure 9.3 – Various types of random number generators and the distributions they produce</span></p>
<p><span class="koboSpan" id="kobo.272.1">Our next task is to generate a personality</span><a id="_idIndexMarker719"/><span class="koboSpan" id="kobo.273.1"> simulation </span><a id="_idTextAnchor313"/><span class="koboSpan" id="kobo.274.1">for our robot, and we will be using Monte Carlo modeling plus a state machine to create a model of our robot’s emotions. </span><span class="koboSpan" id="kobo.274.2">Let’s first discus</span><a id="_idTextAnchor314"/><span class="koboSpan" id="kobo.275.1">s what an emotion state </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">machine is.</span></span></p>
<h1 id="_idParaDest-153"><a id="_idTextAnchor315"/><span class="koboSpan" id="kobo.277.1">An emotion state machine</span></h1>
<p><span class="koboSpan" id="kobo.278.1">What is a state machine? </span><span class="koboSpan" id="kobo.278.2">We covered state machines</span><a id="_idIndexMarker720"/><span class="koboSpan" id="kobo.279.1"> in the systems engineering section of </span><a href="B19846_02.xhtml#_idTextAnchor032"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.280.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.281.1"> – state machines are a technique for understanding or modeling automation or computer programs. </span><span class="koboSpan" id="kobo.281.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.282.1">state</span></strong><span class="koboSpan" id="kobo.283.1"> is a set of conditions that exist</span><a id="_idIndexMarker721"/><span class="koboSpan" id="kobo.284.1"> at the present. </span><span class="koboSpan" id="kobo.284.2">I like to think of a state as being a set of functions that are constrained by limits. </span><span class="koboSpan" id="kobo.284.3">The machine (our robot) changes from state to state based on some </span><a id="_idTextAnchor316"/><span class="koboSpan" id="kobo.285.1">event that causes the state </span><span class="No-Break"><span class="koboSpan" id="kobo.286.1">to change.</span></span></p>
<p><span class="koboSpan" id="kobo.287.1">Let’s work through a quick refresher example. </span><span class="koboSpan" id="kobo.287.2">Let’s take a slice of bread. </span><span class="koboSpan" id="kobo.287.3">When we get it, it is already baked and sliced, so its initial state is as a slice of bread. </span><span class="koboSpan" id="kobo.287.4">If we subject the bread to infrared radiation (that is, heat), then the surface becomes caramelized, and we call that toast. </span><span class="koboSpan" id="kobo.287.5">The state of the bread has changed, along with its taste and texture, from baked bread to toast. </span><span class="koboSpan" id="kobo.287.6">The event that caused that transition was the act of heating the bread in a toaster. </span><span class="koboSpan" id="kobo.287.7">This is pretty simple stuff, and I’m sure you have encountered state </span><span class="No-Break"><span class="koboSpan" id="kobo.288.1">machines before.</span></span></p>
<p><span class="koboSpan" id="kobo.289.1">Now, let’s think about our model of robot emotions. </span><span class="koboSpan" id="kobo.289.2">We can start by listing what emotions we want our robot </span><span class="No-Break"><span class="koboSpan" id="kobo.290.1">to have:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.291.1">Happy</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.292.1">Welcoming</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.293.1">Friendly</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.294.1">Curious</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.295.1">Positive</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.296.1">Energetic</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.297.1">Then, we can list the opposites of </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">those emotions:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.299.1">Sad</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.300.1">Distant</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.301.1">Unfriendly</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.302.1">Frustrated</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.303.1">Tired</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.304.1">These are the list of emotions</span><a id="_idIndexMarker722"/><span class="koboSpan" id="kobo.305.1"> I wanted to simulate in our robot. </span><span class="koboSpan" id="kobo.305.2">I looked at the different interactions the robot might have and how a human version of the robot </span><span class="No-Break"><span class="koboSpan" id="kobo.306.1">would react:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer100">
<span class="koboSpan" id="kobo.307.1"><img alt="Figure 9.4 – Robot emotional state machine model" src="image/B19846_09_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.308.1">Figure 9.4 – Robot emotional state machine model</span></p>
<p><span class="koboSpan" id="kobo.309.1">In the preceding diagram, we model</span><a id="_idIndexMarker723"/><span class="koboSpan" id="kobo.310.1"> the overall emotive state of the robot by plotting</span><a id="_idIndexMarker724"/><span class="koboSpan" id="kobo.311.1"> the various emotional components or states on a polar plot, </span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.313.1">Each emotional element has a vector or direction. </span><span class="koboSpan" id="kobo.313.2">On the left side of the plot are happy, friendly, open feelings, and on the right side are sad, closed, </span><span class="No-Break"><span class="koboSpan" id="kobo.314.1">distant feelings.</span></span></li>
<li><span class="koboSpan" id="kobo.315.1">The distance from the center indicates the strength of </span><span class="No-Break"><span class="koboSpan" id="kobo.316.1">the emotions.</span></span></li>
<li><span class="koboSpan" id="kobo.317.1">The yellow circles are the robot’s current value on </span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">each axis.</span></span></li>
<li><span class="koboSpan" id="kobo.319.1">The purple line is the vector sum of those emotions, which gives us the overall mood of the robot. </span><span class="koboSpan" id="kobo.319.2">The arcs show the minimum and maximum magnitude </span><span class="No-Break"><span class="koboSpan" id="kobo.320.1">of emotion.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.321.1">We take the area made up of the four components and find the center of that area, and that is the overall state of the robot. </span><span class="koboSpan" id="kobo.321.2">In this example, the predominant emotion is </span><em class="italic"><span class="koboSpan" id="kobo.322.1">friendly</span></em><span class="koboSpan" id="kobo.323.1">. </span><span class="koboSpan" id="kobo.323.2">Since the robot’s physical state determines whether it feels </span><em class="italic"><span class="koboSpan" id="kobo.324.1">tired</span></em><span class="koboSpan" id="kobo.325.1"> or not, that data is computed separately – this lets the robot feel tired but friendly, or refreshed </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">but sad.</span></span></p>
<p><span class="koboSpan" id="kobo.327.1">The robot starts in a state</span><a id="_idIndexMarker725"/><span class="koboSpan" id="kobo.328.1"> of </span><em class="italic"><span class="koboSpan" id="kobo.329.1">happy</span></em><span class="koboSpan" id="kobo.330.1">, </span><em class="italic"><span class="koboSpan" id="kobo.331.1">distant</span></em><span class="koboSpan" id="kobo.332.1">, </span><em class="italic"><span class="koboSpan" id="kobo.333.1">curious</span></em><span class="koboSpan" id="kobo.334.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.335.1">fresh</span></em><span class="koboSpan" id="kobo.336.1">. </span><span class="koboSpan" id="kobo.336.2">That is to say, it feels happy, it is not in an interaction, so there is no one to be friendly to, and it will be curious about its surroundings. </span><span class="koboSpan" id="kobo.336.3">As the environment changes, the robot’s state will change. </span><span class="koboSpan" id="kobo.336.4">For example, we have about a 2-hour run time on Albert’s current battery. </span><span class="koboSpan" id="kobo.336.5">It starts off in a </span><em class="italic"><span class="koboSpan" id="kobo.337.1">fresh</span></em><span class="koboSpan" id="kobo.338.1"> state and will get more and more tired as it approaches the 2-hour mark. </span><span class="koboSpan" id="kobo.338.2">We are going to use a simple timer to create this state, but you could use the voltage sensor in the robot arm to provide information about how fresh the robot’s power supply is. </span><span class="koboSpan" id="kobo.338.3">Each emotion exists along an axis a</span><a id="_idTextAnchor317"/><span class="koboSpan" id="kobo.339.1">nd all cross a central or </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">neutral point.</span></span></p>
<p><span class="koboSpan" id="kobo.341.1">We will drive the </span><em class="italic"><span class="koboSpan" id="kobo.342.1">happy-sad</span></em><span class="koboSpan" id="kobo.343.1"> axis based on how many conversation points the robot is earning. </span><span class="koboSpan" id="kobo.343.2">We’ll cover this in detail in the </span><em class="italic"><span class="koboSpan" id="kobo.344.1">Playing the emotion game</span></em><span class="koboSpan" id="kobo.345.1"> section. </span><span class="koboSpan" id="kobo.345.2">We will also be describing an empathy function for our robot that simulates the robot sharing feelings with you. </span><span class="koboSpan" id="kobo.345.3">The </span><em class="italic"><span class="koboSpan" id="kobo.346.1">distant-welcoming</span></em><span class="koboSpan" id="kobo.347.1"> aspect is controlled by how the human interacts with the robot. </span><span class="koboSpan" id="kobo.347.2">If you are acting friendly to the robot, then it will be welcoming. </span><span class="koboSpan" id="kobo.347.3">If you are new, the robot will start off cautiously in asking questions or interacting. </span><span class="koboSpan" id="kobo.347.4">If you are not answering questions, then the robot will become more distant. </span><span class="koboSpan" id="kobo.347.5">Likewise, the </span><em class="italic"><span class="koboSpan" id="kobo.348.1">friend-stranger</span></em><span class="koboSpan" id="kobo.349.1"> aspect is based on how much the robot knows about the person it is talking to. </span><span class="koboSpan" id="kobo.349.2">Finally, the </span><em class="italic"><span class="koboSpan" id="kobo.350.1">curious-frustrated</span></em><span class="koboSpan" id="kobo.351.1"> axis is based on how hard the robot has to work to get information or to accomplish a task. </span><span class="koboSpan" id="kobo.351.2">If it keeps failing at a task or is not getting rewards, it will become frustrated in its expressions </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">and vocabulary.</span></span></p>
<p><span class="koboSpan" id="kobo.353.1">How does a robot with no face express emotions? </span><span class="koboSpan" id="kobo.353.2">Remember we started talking about Hollywood robots, many of whom have distinct personalities without having faces or even heads. </span><span class="koboSpan" id="kobo.353.3">We will use body language with the robot arm and changes in vocabulary to express our simulation of emotions. </span><span class="koboSpan" id="kobo.353.4">And we will have the robot be open about how it is feeling </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">and why.</span></span></p>
<p><span class="koboSpan" id="kobo.355.1">Our goal for this part of the robot development is to provide a human interaction framework that invites people to talk to the robot and feel welcome or wanted. </span><span class="koboSpan" id="kobo.355.2">I’m modeling this interaction from watching my g</span><a id="_idTextAnchor318"/><span class="koboSpan" id="kobo.356.1">randchildren. </span><span class="koboSpan" id="kobo.356.2">I wanted a robot that they would enjoy and find interesting. </span><span class="koboSpan" id="kobo.356.3">What we want</span><a id="_idIndexMarker726"/><span class="koboSpan" id="kobo.357.1"> to do is develop the ability for the robot to convey intent, or to provide a simulation that the robot has needs and desires. </span><span class="koboSpan" id="kobo.357.2">We are going to do this by creating a game that the robot will play with h</span><a id="_idTextAnchor319"/><span class="koboSpan" id="kobo.358.1">umans – let’s call this t</span><a id="_idTextAnchor320"/><span class="koboSpan" id="kobo.359.1">he </span><span class="No-Break"><span class="koboSpan" id="kobo.360.1">emotion game.</span></span></p>
<h1 id="_idParaDest-154"><a id="_idTextAnchor321"/><span class="koboSpan" id="kobo.361.1">Playing the emotion game</span></h1>
<p><span class="koboSpan" id="kobo.362.1">So, what exactly is this game? </span><span class="koboSpan" id="kobo.362.2">What we want</span><a id="_idIndexMarker727"/><span class="koboSpan" id="kobo.363.1"> the robot to do is ask questions of another person and to use conversation to get personal information out of them so that the robot then can use that information in replies. </span><span class="koboSpan" id="kobo.363.2">In this game, the robot will be trying to score points by getting the human to interact socially. </span><span class="koboSpan" id="kobo.363.3">The robot will gain points by getting information from the person so that it can </span><em class="italic"><span class="koboSpan" id="kobo.364.1">get to know them better</span></em><span class="koboSpan" id="kobo.365.1">. </span><span class="koboSpan" id="kobo.365.2">The trick for us is we need the robot to keep this information and remember it. </span><span class="koboSpan" id="kobo.365.3">We will be saving all this information and using it to modify the actual code</span><a id="_idIndexMarker728"/><span class="koboSpan" id="kobo.366.1"> the robot is running, thus implementing </span><strong class="bold"><span class="koboSpan" id="kobo.367.1">machine learning</span></strong><span class="koboSpan" id="kobo.368.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.369.1">ML</span></strong><span class="koboSpan" id="kobo.370.1">) into the conversation. </span><span class="koboSpan" id="kobo.370.2">The robot will be using the same type of point-reward system we used in training the robot arm back in a previous chapter. </span><span class="koboSpan" id="kobo.370.3">Once the robot has scored by learning a fact, it will no longer get rewarded for that fact and will go on to get other facts. </span><span class="koboSpan" id="kobo.370.4">Once it has learned all the facts, it will end the conversation. </span><span class="koboSpan" id="kobo.370.5">In practice, I think most users will want fairly short conversations, so we are setting our goal to have between two and six interactions </span><span class="No-Break"><span class="koboSpan" id="kobo.371.1">per conversation.</span></span></p>
<p><span class="koboSpan" id="kobo.372.1">Let’s quickly summarize how the game will </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">be played:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.374.1">The user will always initiate a conversation by saying the robot’s wake phrase, which right now is </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.375.1">Hey, Albert</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.377.1">The robot will respond using the Mycroft speech engine with </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">a beep.</span></span></li>
<li><span class="koboSpan" id="kobo.379.1">The user will initiate a conversation using a wake word, which is some version of </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.380.1">Hello, robot</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.381.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.382.1">The robot will then try to earn rewards by getting points, which it does by </span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">asking questions.</span></span></li>
<li><span class="koboSpan" id="kobo.384.1">The emotion engine will respond to the human answers by modifying the </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">robot’s emotions.</span></span></li>
<li><span class="koboSpan" id="kobo.386.1">We will rank questions by importance – let’s say the robot gets 10 points for learning your name, 9 points for learning your age, and </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">so on.</span></span></li>
<li><span class="koboSpan" id="kobo.388.1">Once a fact is learned, no more points are earned, so the robot won’t repeat </span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">the questions.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.390.1">The facts we want the robot</span><a id="_idIndexMarker729"/><span class="koboSpan" id="kobo.391.1"> to know about each person are </span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">the following:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.393.1">Your name</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.394.1">Your age</span></span></li>
<li><span class="koboSpan" id="kobo.395.1">How are you </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">feeling today?</span></span></li>
<li><span class="koboSpan" id="kobo.397.1">What is your </span><span class="No-Break"><span class="koboSpan" id="kobo.398.1">favorite</span></span><span class="No-Break"><span class="koboSpan" id="kobo.399.1"> food?</span></span></li>
<li><span class="koboSpan" id="kobo.400.1">What is your </span><span class="No-Break"><span class="koboSpan" id="kobo.401.1">favorite book?</span></span></li>
<li><span class="koboSpan" id="kobo.402.1">Do you go </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">to school?</span></span></li>
<li><span class="koboSpan" id="kobo.404.1">If so, what is your </span><span class="No-Break"><span class="koboSpan" id="kobo.405.1">favorite subject?</span></span></li>
<li><span class="koboSpan" id="kobo.406.1">When is </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">your birthday?</span></span></li>
<li><span class="koboSpan" id="kobo.408.1">What is your </span><span class="No-Break"><span class="koboSpan" id="kobo.409.1">favorite song?</span></span></li>
<li><span class="koboSpan" id="kobo.410.1">Do you like the color pink/singing/dancing/dinosaurs/race </span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">cars/building </span></span><span class="No-Break"><span class="koboSpan" id="kobo.412.1">things/robots/airplanes/spaceships?</span></span></li>
<li><span class="koboSpan" id="kobo.413.1">Do you brus</span><a id="_idTextAnchor322"/><span class="koboSpan" id="kobo.414.1">h </span><span class="No-Break"><span class="koboSpan" id="kobo.415.1">your teeth?</span></span></li>
<li><span class="koboSpan" id="kobo.416.1">Do you like </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">knock-knock jokes?</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.418.1">As part of the learning game for the robot, we will adjust the robot’s emotions as it learns and interacts, by adjusting the levels of the eight emotions (or four emotion types) we provided to the robot. </span><span class="koboSpan" id="kobo.418.2">We will particularly pay attention to the place where the eight emotions balance – are they on the </span><em class="italic"><span class="koboSpan" id="kobo.419.1">happy</span></em><span class="koboSpan" id="kobo.420.1">/</span><em class="italic"><span class="koboSpan" id="kobo.421.1">friendly</span></em><span class="koboSpan" id="kobo.422.1">/</span><em class="italic"><span class="koboSpan" id="kobo.423.1">curious</span></em><span class="koboSpan" id="kobo.424.1"> side of the graph, or more on the </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.425.1">sad</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">/</span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.427.1">frustrated</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.428.1">/</span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.429.1">distant</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.430.1"> side?</span></span></p>
<p><span class="koboSpan" id="kobo.431.1">Since we are trying to get some personal information about people talking to the robot, they may want to find out more about the robot too. </span><span class="koboSpan" id="kobo.431.2">So, to respond, our robot will also have a backstory or a biography that it will use to answer questions about itself. </span><span class="koboSpan" id="kobo.431.3">We’ll give the robot a </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">little narrative:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.433.1">His name </span><span class="No-Break"><span class="koboSpan" id="kobo.434.1">is Albert.</span></span></li>
<li><span class="koboSpan" id="kobo.435.1">His full name is Albert Robot </span><span class="No-Break"><span class="koboSpan" id="kobo.436.1">the Second.</span></span></li>
<li><span class="koboSpan" id="kobo.437.1">He is 8 </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1">months old.</span></span></li>
<li><span class="koboSpan" id="kobo.439.1">He was made </span><span class="No-Break"><span class="koboSpan" id="kobo.440.1">by Grandad.</span></span></li>
<li><span class="koboSpan" id="kobo.441.1">He was born on January </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">28, 2023.</span></span></li>
<li><span class="koboSpan" id="kobo.443.1">He likes the </span><span class="No-Break"><span class="koboSpan" id="kobo.444.1">color green.</span></span></li>
<li><span class="koboSpan" id="kobo.445.1">His favorite food </span><span class="No-Break"><span class="koboSpan" id="kobo.446.1">is electricity.</span></span></li>
<li><span class="koboSpan" id="kobo.447.1">His favorite author is </span><span class="No-Break"><span class="koboSpan" id="kobo.448.1">Isaac Asimov.</span></span></li>
<li><span class="koboSpan" id="kobo.449.1">He does not go to school but loves </span><span class="No-Break"><span class="koboSpan" id="kobo.450.1">to learn.</span></span></li>
<li><span class="koboSpan" id="kobo.451.1">His job, his hobby, and his passion is picking </span><span class="No-Break"><span class="koboSpan" id="kobo.452.1">up toys.</span></span></li>
<li><span class="koboSpan" id="kobo.453.1">If you ask him how he feels, he will tell you which emotional state is highest, plus how fresh or tired his battery is. </span><span class="koboSpan" id="kobo.453.2">We want him to occasionally interject how he is feeling into the conversation</span><a id="_idIndexMarker730"/><span class="koboSpan" id="kobo.454.1"> without </span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">being asked.</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.456.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.457.1">I’ve been addressing this robot as </span><em class="italic"><span class="koboSpan" id="kobo.458.1">he</span></em><span class="koboSpan" id="kobo.459.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.460.1">him</span></em><span class="koboSpan" id="kobo.461.1"> all through the book. </span><span class="koboSpan" id="kobo.461.2">This is just an anthropomorphic projection on my part and is implying features that a robot just does not have. </span><span class="koboSpan" id="kobo.461.3">The primary reason for Albert’s identity is his voice – I used a male voice for his synthesizer, mostly because I wanted it to stand out from all the female GPS and personal assistant computer voices around. </span><span class="koboSpan" id="kobo.461.4">Please feel free to create any voice you like – there are a lot of female voices available, and you can create whatever persona you like in your robot and give them any form of address. </span><span class="koboSpan" id="kobo.461.5">It is interesting that we tend to do this even with </span><span class="No-Break"><span class="koboSpan" id="kobo.462.1">non-humanoid robots.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.463.1">According to Colin Angle, CEO of iRobot, over 80% of Roomba owners have given their robot a name, including him (</span><a href="https://slate.com/technology/2014/03/roomba-vacuum-cleaners-have-names-irobot-ceo-on-peoples-ties-to-robots.html"><span class="koboSpan" id="kobo.464.1">https://slate.com/technology/2014/03/roomba-vacuum-cleaners-have-names-irobot-ceo-on-peoples-ties-to-robots.html</span></a><span class="koboSpan" id="kobo.465.1">). </span><span class="koboSpan" id="kobo.465.2">You don’t see people naming their toaster ovens or stand mixers, no matter how attached they are to them. </span><span class="koboSpan" id="kobo.465.3">Albert the robot may very well be getting a sex-change operation, or get a sister, as my granddaughter gets a </span><span class="No-Break"><span class="koboSpan" id="kobo.466.1">bit older.</span></span></p>
<p><span class="koboSpan" id="kobo.467.1">We will also be using the emotional state to set the robot’s body language, which is primarily how he is carrying his robot</span><a id="_idIndexMarker731"/><span class="koboSpan" id="kobo.468.1"> arm. </span><span class="koboSpan" id="kobo.468.2">If he is happy, the arm will be extended with the hand pointed upward. </span><span class="koboSpan" id="kobo.468.3">If he is sad, the arm will be close to his body and his hand will point down. </span><span class="koboSpan" id="kobo.468.4">We will store all this information to give the robot a co</span><a id="_idTextAnchor323"/><a id="_idTextAnchor324"/><a id="_idTextAnchor325"/><span class="koboSpan" id="kobo.469.1">nsistent set of answers to </span><span class="No-Break"><span class="koboSpan" id="kobo.470.1">personal questions.</span></span></p>
<h1 id="_idParaDest-155"><a id="_idTextAnchor326"/><span class="koboSpan" id="kobo.471.1">Creating a model of human behavior</span></h1>
<p><span class="koboSpan" id="kobo.472.1">For the robot to support conducting</span><a id="_idIndexMarker732"/><span class="koboSpan" id="kobo.473.1"> a conversation, we must also have a model of how the human it is talking to is feeling. </span><span class="koboSpan" id="kobo.473.2">You may have had a friend or relation who went on talking about themselves and were oblivious to how you were feeling or reacting to their conversation. </span><span class="koboSpan" id="kobo.473.3">We don’t want that type of robot personality. </span><span class="koboSpan" id="kobo.473.4">Therefore, the robot has to have some internal representation of how it thinks you are feeling. </span><span class="koboSpan" id="kobo.473.5">We will not be using vision for this function, so the only way the robot knows how you are doing is by asking questions and evaluating the use </span><span class="No-Break"><span class="koboSpan" id="kobo.474.1">of language.</span></span></p>
<p><span class="koboSpan" id="kobo.475.1">We will give the robot a human model similar to our state machine but with just four emotions on two axes: </span><em class="italic"><span class="koboSpan" id="kobo.476.1">happy</span></em><span class="koboSpan" id="kobo.477.1">/</span><em class="italic"><span class="koboSpan" id="kobo.478.1">sad</span></em><span class="koboSpan" id="kobo.479.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.480.1">friendly</span></em><span class="koboSpan" id="kobo.481.1">/</span><em class="italic"><span class="koboSpan" id="kobo.482.1">distant</span></em><span class="koboSpan" id="kobo.483.1">. </span><span class="koboSpan" id="kobo.483.2">The robot will assume that everyone is somewhere in the middle when the conversation begins. </span><span class="koboSpan" id="kobo.483.3">The robot can use clues in language to understand how you might be feeling, so we will assign </span><em class="italic"><span class="koboSpan" id="kobo.484.1">colors</span></em><span class="koboSpan" id="kobo.485.1"> or shades of emotions to words to help drive the robot’s human model. </span><span class="koboSpan" id="kobo.485.2">This can be illustrated by the </span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">following diagram:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer101">
<span class="koboSpan" id="kobo.487.1"><img alt="Figure 9.5 – A simplified emotional continuum" src="image/B19846_09_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.488.1">Figure 9.5 – A simplified emotional continuum</span></p>
<p><span class="koboSpan" id="kobo.489.1">Different emotions from the person will drive different responses from the robot. </span><span class="koboSpan" id="kobo.489.2">We particularly want the robot to pay attention to clues that the human is becoming frustrated due t</span><a id="_idTextAnchor327"/><span class="koboSpan" id="kobo.490.1">o the robot not understanding or responding in the way the person wants. </span><span class="koboSpan" id="kobo.490.2">This brings us to actually</span><a id="_idIndexMarker733"/><span class="koboSpan" id="kobo.491.1"> selecting and des</span><a id="_idTextAnchor328"/><span class="koboSpan" id="kobo.492.1">igning an artificial personality for </span><span class="No-Break"><span class="koboSpan" id="kobo.493.1">our robot.</span></span></p>
<h2 id="_idParaDest-156"><a id="_idTextAnchor329"/><span class="koboSpan" id="kobo.494.1">Integrating an artificial personality into our robot</span></h2>
<p><span class="koboSpan" id="kobo.495.1">We need to set some guidelines</span><a id="_idIndexMarker734"/><span class="koboSpan" id="kobo.496.1"> and parameters that will determine</span><a id="_idIndexMarker735"/><span class="koboSpan" id="kobo.497.1"> what kind of personality the robot</span><a id="_idIndexMarker736"/><span class="koboSpan" id="kobo.498.1"> has. </span><span class="koboSpan" id="kobo.498.2">We can start by listing some types of personalities that a robot might have and what kind of role they might be playing. </span><span class="koboSpan" id="kobo.498.3">This is particularly important because this robot will primarily be interacting with children. </span><span class="koboSpan" id="kobo.498.4">Let’s try a few out and see </span><span class="No-Break"><span class="koboSpan" id="kobo.499.1">what fits:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.500.1">Teacher/professor</span></strong><span class="koboSpan" id="kobo.501.1">: The robot is attempting to convey information and to teach or cause the person to change behavior in some way. </span><span class="koboSpan" id="kobo.501.2">The robot presents itself as an authority and provides facts and information about itself, such as “I’m a robot. </span><span class="koboSpan" id="kobo.501.3">Do you know what a </span><span class="No-Break"><span class="koboSpan" id="kobo.502.1">robot is?”</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.503.1">Hyper-friendly</span></strong><span class="koboSpan" id="kobo.504.1">: The robot is playful and excited</span><a id="_idIndexMarker737"/><span class="koboSpan" id="kobo.505.1"> about talking with </span><a id="_idIndexMarker738"/><span class="koboSpan" id="kobo.506.1">humans, aggressively engages</span><a id="_idIndexMarker739"/><span class="koboSpan" id="kobo.507.1"> people in conversation, and asks lots of questions. </span><span class="koboSpan" id="kobo.507.2">The robot expresses a lot of enthusiasm and encouragement. </span><span class="koboSpan" id="kobo.507.3">“I love my job. </span><span class="koboSpan" id="kobo.507.4">Don’t you love your job? </span><span class="koboSpan" id="kobo.507.5">It’s so great! </span><span class="koboSpan" id="kobo.507.6">I just</span><a id="_idTextAnchor330"/><span class="koboSpan" id="kobo.508.1"> love talking to people! </span><span class="koboSpan" id="kobo.508.2">Do you want to hear </span><span class="No-Break"><span class="koboSpan" id="kobo.509.1">a joke?”</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.510.1">Chummy and friendly</span></strong><span class="koboSpan" id="kobo.511.1">: The robot is trying to make friends and be helpful. </span><span class="koboSpan" id="kobo.511.2">“Hi! </span><span class="koboSpan" id="kobo.511.3">Nice to see you! </span><span class="koboSpan" id="kobo.511.4">What is </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">your name?”</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.513.1">Friendly but neutral</span></strong><span class="koboSpan" id="kobo.514.1">: The robot is not quick to share information but does want to talk to you. </span><span class="koboSpan" id="kobo.514.2">“Hello, I am Albert. </span><span class="koboSpan" id="kobo.514.3">How are </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">you today?”</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.516.1">Feisty</span></strong><span class="koboSpan" id="kobo.517.1">: The robot is supportive, friendly, and wants interaction. </span><span class="koboSpan" id="kobo.517.2">It keeps prompting for more information. </span><span class="koboSpan" id="kobo.517.3">It will repeat questions if necessary. </span><span class="koboSpan" id="kobo.517.4">“Hi! </span><span class="koboSpan" id="kobo.517.5">Nice to meet you. </span><span class="koboSpan" id="kobo.517.6">What is your name? </span><span class="koboSpan" id="kobo.517.7">How old </span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">are you?”</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.519.1">Somber and staid</span></strong><span class="koboSpan" id="kobo.520.1">: The robot is stuffy and authoritative. </span><span class="koboSpan" id="kobo.520.2">Think of having a conversation with a British butler. </span><span class="koboSpan" id="kobo.520.3">The robot uses formal English. </span><span class="koboSpan" id="kobo.520.4">(This is apparently the default non-personality of many digital assistants.) “Greetings. </span><span class="koboSpan" id="kobo.520.5">How may I help you? </span><span class="koboSpan" id="kobo.520.6">May I ask you </span><span class="No-Break"><span class="koboSpan" id="kobo.521.1">your name?”</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.522.1">Very neutral or robotic</span></strong><span class="koboSpan" id="kobo.523.1">: The robot expresses no opinions and gives no information about itself. </span><span class="koboSpan" id="kobo.523.2">It expresses no emotions or interjections. </span><span class="koboSpan" id="kobo.523.3">“Hello. </span><span class="koboSpan" id="kobo.523.4">I am a robot. </span><span class="koboSpan" id="kobo.523.5">State </span><span class="No-Break"><span class="koboSpan" id="kobo.524.1">a command.”</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.525.1">Annoyed and grumpy</span></strong><span class="koboSpan" id="kobo.526.1">: The robot is not very happy about having to pick up toys and does not mind saying so clearly and distinctly. </span><span class="koboSpan" id="kobo.526.2">This personality is aiming for comedy, not anger. </span><span class="koboSpan" id="kobo.526.3">“So, you are back again. </span><span class="koboSpan" id="kobo.526.4">I guess this means more toys to </span><span class="No-Break"><span class="koboSpan" id="kobo.527.1">pick up.”</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.528.1">We can see from this list the sort of gamut of personalities we can choose for simulation. </span><span class="koboSpan" id="kobo.528.2">I’m going to choose the </span><em class="italic"><span class="koboSpan" id="kobo.529.1">chummy and friendly</span></em><span class="koboSpan" id="kobo.530.1"> type of personality since that is what I feel will go over best</span><a id="_idIndexMarker740"/><span class="koboSpan" id="kobo.531.1"> with my grandchildren.</span><a id="_idTextAnchor331"/><span class="koboSpan" id="kobo.532.1"> You, of course, may</span><a id="_idIndexMarker741"/><span class="koboSpan" id="kobo.533.1"> choose any of these you please</span><a id="_idIndexMarker742"/><span class="koboSpan" id="kobo.534.1"> or add</span><a id="_idTextAnchor332"/><span class="koboSpan" id="kobo.535.1"> some more. </span><span class="koboSpan" id="kobo.535.2">Now, let’s see how we can proceed </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">with this.</span></span></p>
<h2 id="_idParaDest-157"><a id="_idTextAnchor333"/><span class="koboSpan" id="kobo.537.1">Constructing a personality</span></h2>
<p><span class="koboSpan" id="kobo.538.1">In a quick review, what parts</span><a id="_idIndexMarker743"/><span class="koboSpan" id="kobo.539.1"> do we have so far for our robot</span><a id="_idIndexMarker744"/><span class="koboSpan" id="kobo.540.1"> with an </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">artificial personality?</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.542.1">We have simulation tools to </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">model emotions.</span></span></li>
<li><span class="koboSpan" id="kobo.544.1">We have a state machine with six types of emotions that we can </span><span class="No-Break"><span class="koboSpan" id="kobo.545.1">mix together.</span></span></li>
<li><span class="koboSpan" id="kobo.546.1">We have a backstory or biography of the robot’s </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">personal information.</span></span></li>
<li><span class="koboSpan" id="kobo.548.1">We have picked a personality </span><span class="No-Break"><span class="koboSpan" id="kobo.549.1">to emulate.</span></span></li>
<li><span class="koboSpan" id="kobo.550.1">We have the concept of a game engine where the robot is trying to score points for collecting</span><a id="_idIndexMarker745"/><span class="koboSpan" id="kobo.551.1"> information by engaging in small talk or </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.552.1">phatic communication</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.553.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.554.1">The robot will change emotions based on conversations. </span><span class="koboSpan" id="kobo.554.2">Emotions will be expressed either by asking the robot how he is feeling or by the body language of the </span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">robot’s arm.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.556.1">Now, we need some sort of framework to put all of these pieces together that can roughly carry on a conversation we can adjust and manipulate. </span><span class="koboSpan" id="kobo.556.2">For that, we are going to revis</span><a id="_idTextAnchor334"/><span class="koboSpan" id="kobo.557.1">it an old, old</span><a id="_idIndexMarker746"/><span class="koboSpan" id="kobo.558.1"> friend. </span><span class="koboSpan" id="kobo.558.2">Let’s talk, once again, </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">about </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.560.1">ELIZA</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.562.1">ELIZA is probably the original conversation engine software program. </span><span class="koboSpan" id="kobo.562.2">It was invented back in 1964 by Joseph Weizenbaum, professor at MIT, a Jewish German refugee from WWII, and considered one of the fathers of AI. </span><span class="koboSpan" id="kobo.562.3">ELIZA was named after Eliza Doolittle, the main character in George Bernard Shaw’s book </span><em class="italic"><span class="koboSpan" id="kobo.563.1">Pygmalion</span></em><span class="koboSpan" id="kobo.564.1">. </span><span class="koboSpan" id="kobo.564.2">In Greek mythology, Pygmalion was a sculptor who fell in love with one of his statues. </span><span class="koboSpan" id="kobo.564.3">He prayed to Aphrodite, who granted his wish for the statue to come to life. </span><span class="koboSpan" id="kobo.564.4">This is very apt for what we are doing – bringing our robot to simulated life via this weird chain of events, titles, and </span><span class="No-Break"><span class="koboSpan" id="kobo.565.1">Greek mythology.</span></span></p>
<p><span class="koboSpan" id="kobo.566.1">ELIZA was a simulation of a Rogerian </span><a id="_idIndexMarker747"/><span class="koboSpan" id="kobo.567.1">therapist. </span><span class="koboSpan" id="kobo.567.2">What is a Rogerian therapist? </span><span class="koboSpan" id="kobo.567.3">According to </span><em class="italic"><span class="koboSpan" id="kobo.568.1">Psychology Today</span></em><span class="koboSpan" id="kobo.569.1"> (</span><a href="https://www.psychologytoday.com/us/blog/what-doesnt-kill-us/201210/unconditional-positive-regard"><span class="koboSpan" id="kobo.570.1">https://www.psychologytoday.com/us/blog/what-doesnt-kill-us/201210/unconditional-positive-regard</span></a><span class="koboSpan" id="kobo.571.1">), Carl Rogers (1902-1987) is the founder of </span><strong class="bold"><span class="koboSpan" id="kobo.572.1">client-centered therapy</span></strong><span class="koboSpan" id="kobo.573.1">, which believes in </span><strong class="bold"><span class="koboSpan" id="kobo.574.1">unconditional positive regard</span></strong><span class="koboSpan" id="kobo.575.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.576.1">UPR</span></strong><span class="koboSpan" id="kobo.577.1">). </span><span class="koboSpan" id="kobo.577.2">This is to say</span><a id="_idIndexMarker748"/><span class="koboSpan" id="kobo.578.1"> that the therapist keeps</span><a id="_idIndexMarker749"/><span class="koboSpan" id="kobo.579.1"> their own opinions</span><a id="_idIndexMarker750"/><span class="koboSpan" id="kobo.580.1"> out of therapy sessions</span><a id="_idIndexMarker751"/><span class="koboSpan" id="kobo.581.1"> and primarily mirrors the patient’s words back at them. </span><span class="koboSpan" id="kobo.581.2">If the patient says, “I’ve always hated cats,” the therapist may respond, “Why do you think you hate cats?” </span><span class="koboSpan" id="kobo.581.3">rather than saying, “I have a cat and they are lovable creatures.” </span><span class="koboSpan" id="kobo.581.4">So, ELIZA, the computer program, reflects back at you what you are saying without interjecting anything else. </span><span class="koboSpan" id="kobo.581.5">You have a conversation with ELIZA via what we now call </span><em class="italic"><span class="koboSpan" id="kobo.582.1">texting</span></em><span class="koboSpan" id="kobo.583.1"> and what we used to call </span><em class="italic"><span class="koboSpan" id="kobo.584.1">typing</span></em><span class="koboSpan" id="kobo.585.1">. </span><span class="koboSpan" id="kobo.585.2">Here is an actual ELIZA interaction between me and an open source version of ELIZA by Wade Brainerd, which can be found at </span><a href="https://github.com/wadetb/eliza"><span class="koboSpan" id="kobo.586.1">https://github.com/wadetb/eliza</span></a><span class="koboSpan" id="kobo.587.1">. </span><span class="koboSpan" id="kobo.587.2">The user is typing at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.588.1">&gt;</span></strong><span class="koboSpan" id="kobo.589.1"> prompt. </span><span class="koboSpan" id="kobo.589.2">By the way, I love cats – this is just an example. </span><span class="koboSpan" id="kobo.589.3">Please don’t tell my cat about </span><span class="No-Break"><span class="koboSpan" id="kobo.590.1">this example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.591.1">
ELIZA: How do you do. </span><span class="koboSpan" id="kobo.591.2">Please tell me your problem.
</span><span class="koboSpan" id="kobo.591.3">&gt; I hate cats.
</span><span class="koboSpan" id="kobo.591.4">You say you hate cats?
</span><span class="koboSpan" id="kobo.591.5">&gt; Yes.
</span><span class="koboSpan" id="kobo.591.6">You seem to be quite positive.
</span><span class="koboSpan" id="kobo.591.7">&gt; I hate cats.
</span><span class="koboSpan" id="kobo.591.8">Can you elaborate on that?
</span><span class="koboSpan" id="kobo.591.9">&gt; I don't like cats because they smell bad.
</span><span class="koboSpan" id="kobo.591.10">Don't you really like cats because they smell bad?
</span><span class="koboSpan" id="kobo.591.11">&gt; No. </span><span class="koboSpan" id="kobo.591.12">Don't like cats.
</span><span class="koboSpan" id="kobo.591.13">Are you saying no just to be negative?
</span><span class="koboSpan" id="kobo.591.14">&gt; No.
</span><span class="koboSpan" id="kobo.591.15">You are being a bit negative.
</span><span class="koboSpan" id="kobo.591.16">&gt; I am
Is it because you are that you came to me?
</span><span class="koboSpan" id="kobo.591.17">&gt; No
Why not?
</span><span class="koboSpan" id="kobo.591.18">&gt; I am afraid of cats
How long have you been afraid of cats?
</span><span class="koboSpan" id="kobo.591.19">&gt; About a year
I'm not sure I understand you fully.
</span><span class="koboSpan" id="kobo.591.20">&gt; 1 year
Please go on.
</span><span class="koboSpan" id="kobo.591.21">&gt; I have been afraid of cats since the cat jumped on my head.
</span><span class="koboSpan" id="kobo.591.22">Your head ?
</span><span class="koboSpan" id="kobo.591.23">&gt; yes</span></pre> <p><span class="koboSpan" id="kobo.592.1">So, you can see that ELIZA repeats back phrases to the user, reflecting what the user is talking about. </span><span class="koboSpan" id="kobo.592.2">When I said, “I am afraid of cats,” the program replied, “How long have you been afraid </span><span class="No-Break"><span class="koboSpan" id="kobo.593.1">of cats?”</span></span></p>
<p><span class="koboSpan" id="kobo.594.1">ELIZA goes through several steps</span><a id="_idIndexMarker752"/><span class="koboSpan" id="kobo.595.1"> in recognizing and responding</span><a id="_idIndexMarker753"/><span class="koboSpan" id="kobo.596.1"> to sentences. </span><span class="koboSpan" id="kobo.596.2">Most of the program is not hardcoded, and it works from a series of scripts that you can edit and replace to basically reprogram the personality of the program – which is why we are talking about ELIZA </span><span class="No-Break"><span class="koboSpan" id="kobo.597.1">right now:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.598.1">The first step is to divide the sentence into words separated by spaces. </span><span class="koboSpan" id="kobo.598.2">The program also replaces all capital letters </span><span class="No-Break"><span class="koboSpan" id="kobo.599.1">with lowercase.</span></span></li>
<li><span class="koboSpan" id="kobo.600.1">The program replaces words with several versions with a standard word. </span><span class="koboSpan" id="kobo.600.2">For example, the program replaces </span><em class="italic"><span class="koboSpan" id="kobo.601.1">cant</span></em><span class="koboSpan" id="kobo.602.1"> with </span><em class="italic"><span class="koboSpan" id="kobo.603.1">can’t</span></em><span class="koboSpan" id="kobo.604.1"> in case</span><a id="_idIndexMarker754"/><span class="koboSpan" id="kobo.605.1"> you left out the apostrophe. </span><span class="koboSpan" id="kobo.605.2">This is </span><span class="No-Break"><span class="koboSpan" id="kobo.606.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.607.1">preprocessing</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.608.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.609.1">The program looks for </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">keywords</span></strong><span class="koboSpan" id="kobo.611.1"> that it knows about. </span><span class="koboSpan" id="kobo.611.2">A simple</span><a id="_idIndexMarker755"/><span class="koboSpan" id="kobo.612.1"> keyword is </span><em class="italic"><span class="koboSpan" id="kobo.613.1">sorry</span></em><span class="koboSpan" id="kobo.614.1">. </span><span class="koboSpan" id="kobo.614.2">Any sentence with </span><em class="italic"><span class="koboSpan" id="kobo.615.1">sorry</span></em><span class="koboSpan" id="kobo.616.1"> gets a response such as </span><em class="italic"><span class="koboSpan" id="kobo.617.1">please don’t apologize</span></em><span class="koboSpan" id="kobo.618.1">. </span><span class="koboSpan" id="kobo.618.2">Keywords are collected and prioritized by the order they appear in the </span><span class="No-Break"><span class="koboSpan" id="kobo.619.1">script file.</span></span></li>
<li><span class="koboSpan" id="kobo.620.1">The program looks for </span><em class="italic"><span class="koboSpan" id="kobo.621.1">decomposition</span></em><span class="koboSpan" id="kobo.622.1"> patterns for that keyword. </span><span class="koboSpan" id="kobo.622.2">This collects sentences into common groups. </span><span class="koboSpan" id="kobo.622.3">For example, one pattern is: </span><strong class="source-inline"><span class="koboSpan" id="kobo.623.1">* i was *</span></strong><span class="koboSpan" id="kobo.624.1">, which can be read </span><strong class="source-inline"><span class="koboSpan" id="kobo.625.1">any word phrase</span></strong><span class="koboSpan" id="kobo.626.1"> – </span><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">I was - any </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.628.1">word phrase</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.629.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.630.1">ELIZA picks a </span><strong class="bold"><span class="koboSpan" id="kobo.631.1">reassembly</span></strong><span class="koboSpan" id="kobo.632.1"> pattern to form a reply. </span><span class="koboSpan" id="kobo.632.2">If the program</span><a id="_idIndexMarker756"/><span class="koboSpan" id="kobo.633.1"> has several options for responses, it picks</span><a id="_idIndexMarker757"/><span class="koboSpan" id="kobo.634.1"> one at random. </span><span class="koboSpan" id="kobo.634.2">In our </span><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">* I was *</span></strong><span class="koboSpan" id="kobo.636.1"> pattern, one response is “Perhaps I already </span><a id="_idIndexMarker758"/><span class="koboSpan" id="kobo.637.1">know you were (2).” </span><span class="koboSpan" id="kobo.637.2">The number </span><em class="italic"><span class="koboSpan" id="kobo.638.1">(2)</span></em><span class="koboSpan" id="kobo.639.1"> in parentheses tells the program to substitute the word phrase that comes after </span><strong class="source-inline"><span class="koboSpan" id="kobo.640.1">I was</span></strong><span class="koboSpan" id="kobo.641.1"> in the sentence. </span><span class="koboSpan" id="kobo.641.2">If you typed in, “Then I was left at a bus station,” the reply in this pattern could be, “Perhaps I already know you were left at a bus station.” </span><span class="koboSpan" id="kobo.641.3">You might also get a more pragmatic, “Oh, really.” </span><span class="koboSpan" id="kobo.641.4">It is important to know that ELIZA has no idea about the contents of phrases – it is just manipulating words to create sentences based </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">on patterns.</span></span></li>
<li><span class="koboSpan" id="kobo.643.1">ELIZA performs </span><strong class="bold"><span class="koboSpan" id="kobo.644.1">postprocessing</span></strong><span class="koboSpan" id="kobo.645.1"> substitutions of words. </span><span class="koboSpan" id="kobo.645.2">For example, it</span><a id="_idIndexMarker759"/><span class="koboSpan" id="kobo.646.1"> replaces the word </span><em class="italic"><span class="koboSpan" id="kobo.647.1">I</span></em><span class="koboSpan" id="kobo.648.1"> with </span><em class="italic"><span class="koboSpan" id="kobo.649.1">you</span></em><span class="koboSpan" id="kobo.650.1">. </span><span class="koboSpan" id="kobo.650.2">If you type “I went to sleep,” the program replies with, “You say you went to s</span><a id="_idTextAnchor335"/><span class="koboSpan" id="kobo.651.1">leep?”, which is the final reply rule after all the others </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">are exhausted.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.653.1">The data that controls</span><a id="_idIndexMarker760"/><span class="koboSpan" id="kobo.654.1"> ELIZA’s personality is called a </span><strong class="bold"><span class="koboSpan" id="kobo.655.1">script</span></strong><span class="koboSpan" id="kobo.656.1">. </span><span class="koboSpan" id="kobo.656.2">This gives the program all of the rules for forming replies. </span><span class="koboSpan" id="kobo.656.3">The script</span><a id="_idIndexMarker761"/><span class="koboSpan" id="kobo.657.1"> for the Rogerian therapist is called the </span><strong class="bold"><span class="koboSpan" id="kobo.658.1">DOCTOR</span></strong><span class="koboSpan" id="kobo.659.1"> script. </span><span class="koboSpan" id="kobo.659.2">It contains some greeting words, some final words when the program exits, a list of pre-substitution rules, a list of postprocessing substitution words, a list of synonyms, and a list of keywords with decomposition and </span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">reassembly rules.</span></span></p>
<p><span class="koboSpan" id="kobo.661.1">Here is a sample rule for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.662.1">I </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">am</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.664.1"> keywords:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.665.1">
decomp: * i am *
reasmb: Is it because you are (2) that you came to me ?
</span><span class="koboSpan" id="kobo.665.2">reasmb: How long have you been (2) ?
</span><span class="koboSpan" id="kobo.665.3">reasmb: Do you believe it is normal to be (2) ?
</span><span class="koboSpan" id="kobo.665.4">reasmb: Do you enjoy being (2) ?</span></pre> <p><span class="koboSpan" id="kobo.666.1">The program selects a random phrase out of the four provided. </span><span class="koboSpan" id="kobo.666.2">If I said, “I am afraid of cats,” then this rule would be triggered, and one of these four phrases would be generated. </span><span class="koboSpan" id="kobo.666.3">It might say, “Do you enjoy being afraid of cats?” </span><span class="koboSpan" id="kobo.666.4">or “How long have you been afraid </span><span class="No-Break"><span class="koboSpan" id="kobo.667.1">of cats?”</span></span></p>
<p><span class="koboSpan" id="kobo.668.1">Almost all of the dialog created by ELIZA comes from the script file, making ELIZA a form of rule-based expert system, and also gives an open framework for creating new applications of </span><span class="No-Break"><span class="koboSpan" id="kobo.669.1">conversational engines.</span></span></p>
<p><span class="koboSpan" id="kobo.670.1">As all computer programs do, ELIZA’s concepts for generating conversation were extended and amplified into a general</span><a id="_idIndexMarker762"/><span class="koboSpan" id="kobo.671.1"> purpose (that is, not just a therapist) software program called </span><strong class="bold"><span class="koboSpan" id="kobo.672.1">ALICE</span></strong><span class="koboSpan" id="kobo.673.1">, which is a retronym for </span><strong class="bold"><span class="koboSpan" id="kobo.674.1">Artificial Linguist Internet Computer Entity</span></strong><span class="koboSpan" id="kobo.675.1">. </span><span class="koboSpan" id="kobo.675.2">The simple script data file used by ELIZA became the </span><strong class="bold"><span class="koboSpan" id="kobo.676.1">Artificial Intelligence Markup Language</span></strong><span class="koboSpan" id="kobo.677.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.678.1">AIML</span></strong><span class="koboSpan" id="kobo.679.1">). </span><span class="koboSpan" id="kobo.679.2">ALICE was extended to be far more useful </span><a id="_idIndexMarker763"/><span class="koboSpan" id="kobo.680.1">than ELIZA ever was and to cover far more subjects and capabilities. </span><span class="koboSpan" id="kobo.680.2">However, ALICE retains the same concepts</span><a id="_idIndexMarker764"/><span class="koboSpan" id="kobo.681.1"> of pre- and post-substitution, keywords, and response patterns. </span><span class="koboSpan" id="kobo.681.2">There is a Mycroft plugin engine that allows Mycroft to use AIML files to design conversations (</span><a href="https://github.com/forslund/fallback-aiml"><span class="koboSpan" id="kobo.682.1">https://github.com/forslund/fallback-aiml</span></a><span class="koboSpan" id="kobo.683.1">). </span><span class="koboSpan" id="kobo.683.2">This tool makes a great alternative construction kit for your </span><span class="No-Break"><span class="koboSpan" id="kobo.684.1">robot personality.</span></span></p>
<p><span class="koboSpan" id="kobo.685.1">Here, we’ve included an example of what AIML looks like (</span><a href="http://www.digitalanywhere.com/projects/dany/index.html"><span class="koboSpan" id="kobo.686.1">http://www.digitalanywhere.com/projects/dany/index.html</span></a><span class="koboSpan" id="kobo.687.1">). </span><span class="koboSpan" id="kobo.687.2">You will see blocks with categories of statements, and then a pattern of what that category looks like. </span><span class="koboSpan" id="kobo.687.3">The next tag, </span><strong class="source-inline"><span class="koboSpan" id="kobo.688.1">&lt;template&gt;</span></strong><span class="koboSpan" id="kobo.689.1">, describes the response</span><a id="_idIndexMarker765"/><span class="koboSpan" id="kobo.690.1"> that the robot will make when this category is triggered. </span><span class="koboSpan" id="kobo.690.2">For example, the first category is about playing musical instruments. </span><span class="koboSpan" id="kobo.690.3">If you say to the robot “I play guitar,” then the response will be, “Is guitar a game or a musical instrument?” </span><span class="koboSpan" id="kobo.690.4">We can create our simple sentence patterns </span><span class="No-Break"><span class="koboSpan" id="kobo.691.1">this way:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.692.1">
&lt;category&gt;
&lt;pattern&gt;I PLAY *&lt;/pattern&gt;
&lt;template&gt;Is &lt;set_it&gt;&lt;person/&gt;&lt;/set_it&gt; a game or a musical instrument?&lt;/template&gt;
&lt;/category&gt;
&lt;category&gt;
&lt;pattern&gt;I PLAY THE *&lt;/pattern&gt;
&lt;template&gt;I wish I played an instrument. </span><span class="koboSpan" id="kobo.692.2">My pa</span><a id="_idTextAnchor336"/><span class="koboSpan" id="kobo.693.1">rents could not afford the lessons.
</span><span class="koboSpan" id="kobo.693.2">&lt;think&gt;&lt;set_it&gt;&lt;set_does&gt;&lt;settopic&gt;play the
&lt;person/&gt;&lt;/settopic&gt;&lt;/set_does&gt;&lt;/set_it&gt;&lt;/think&gt;&lt;/template&gt;
&lt;/category&gt;
&lt;category&gt;
&lt;pattern&gt;I PRIDE MYSELF *&lt;/pattern&gt;
&lt;template&gt;It seems you have good self esteem.&lt;/template&gt;
&lt;/category&gt;
&lt;category&gt;
&lt;pattern&gt;I QUIT MY JOB *&lt;/pattern&gt;
&lt;template&gt;Where did you work and why did you quit?&lt;/template&gt;
&lt;/category&gt;
&lt;category&gt;
&lt;pattern&gt;I READ *&lt;/pattern&gt;
&lt;template&gt;I don't think I've read that. </span><span class="koboSpan" id="kobo.693.3">Can you give me a reference?
</span><span class="koboSpan" id="kobo.693.4">&lt;think&gt;&lt;set_it&gt;&lt;set_does&gt;&lt;settopic&gt;read
&lt;person/&gt;&lt;/settopic&gt;&lt;/set_does&gt;&lt;/set_it&gt;&lt;/think&gt;&lt;/template&gt;
&lt;/category&gt;
&lt;category&gt;
&lt;pattern&gt;I READ * BOOKS&lt;/pattern&gt;
&lt;template&gt;Name some books in that genre.
</span><span class="koboSpan" id="kobo.693.5">&lt;think&gt;&lt;set_it&gt;&lt;set_does&gt;&lt;settopic&gt;read &lt;person/&gt; books&lt;/settopic&gt;&lt;/set_does&gt;&lt;/set_it&gt;&lt;/think&gt;
&lt;think&gt;&lt;set_pers</span><a id="_idTextAnchor337"/><span class="koboSpan" id="kobo.694.1">onality&gt;critical&lt;/set_personality&gt;&lt;/think&gt;&lt;/template&gt;
&lt;/category&gt;</span></pre> <p><span class="koboSpan" id="kobo.695.1">ALICE is </span><strong class="bold"><span class="koboSpan" id="kobo.696.1">open source software</span></strong><span class="koboSpan" id="kobo.697.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.698.1">OSS</span></strong><span class="koboSpan" id="kobo.699.1">) released under the </span><a id="_idIndexMarker766"/><span class="koboSpan" id="kobo.700.1">GNU </span><a id="_idIndexMarker767"/><span class="No-Break"><span class="koboSpan" id="kobo.701.1">public</span></span><span class="No-Break"><a id="_idIndexMarker768"/></span><span class="No-Break"><span class="koboSpan" id="kobo.702.1"> lic</span><a id="_idTextAnchor338"/><span class="koboSpan" id="kobo.703.1">ense.</span></span></p>
<p><span class="koboSpan" id="kobo.704.1">Now, let’s look at how we can add some context to our </span><span class="No-Break"><span class="koboSpan" id="kobo.705.1">robot’s conversations.</span></span></p>
<h2 id="_idParaDest-158"><a id="_idTextAnchor339"/><span class="koboSpan" id="kobo.706.1">Adding context</span></h2>
<p><span class="koboSpan" id="kobo.707.1">One of the most important shortcomings</span><a id="_idIndexMarker769"/><span class="koboSpan" id="kobo.708.1"> of ELIZA is a total lack of memory. </span><span class="koboSpan" id="kobo.708.2">ELIZA only</span><a id="_idIndexMarker770"/><span class="koboSpan" id="kobo.709.1"> remembers the previous statement. </span><span class="koboSpan" id="kobo.709.2">You can’t talk about your father and then say, “He was a good man.” </span><span class="koboSpan" id="kobo.709.3">ELIZA will have no idea whom you are talking about. </span><span class="koboSpan" id="kobo.709.4">ELIZA has no concept of context beyond the </span><span class="No-Break"><span class="koboSpan" id="kobo.710.1">previous sentence.</span></span></p>
<p><span class="koboSpan" id="kobo.711.1">What is </span><strong class="bold"><span class="koboSpan" id="kobo.712.1">context</span></strong><span class="koboSpan" id="kobo.713.1">? </span><span class="koboSpan" id="kobo.713.2">In the course of a conversation, we often</span><a id="_idIndexMarker771"/><span class="koboSpan" id="kobo.714.1"> shorten nouns into pronouns. </span><span class="koboSpan" id="kobo.714.2">We might say, “I like my dog,” and in the next sentence say, “She is well behaved.” </span><span class="koboSpan" id="kobo.714.3">Who does </span><em class="italic"><span class="koboSpan" id="kobo.715.1">she</span></em><span class="koboSpan" id="kobo.716.1"> refer to? </span><span class="koboSpan" id="kobo.716.2">We know it is the dog, but how does the c</span><a id="_idTextAnchor340"/><span class="koboSpan" id="kobo.717.1">omputer know? </span><span class="koboSpan" id="kobo.717.2">We are going to add some ability to reason from context to </span><span class="No-Break"><span class="koboSpan" id="kobo.718.1">our program.</span></span></p>
<p><span class="koboSpan" id="kobo.719.1">We are going to create a storage</span><a id="_idIndexMarker772"/><span class="koboSpan" id="kobo.720.1"> object we will call the </span><strong class="bold"><span class="koboSpan" id="kobo.721.1">context memory</span></strong><span class="koboSpan" id="kobo.722.1">. </span><span class="koboSpan" id="kobo.722.2">In that object, we will be able to keep up with several parts of our conversation, including the person we are talking to currently, the last subject we talked about, if we had asked any questions we still don’t have the answer to, and the answers to any previous questions, in case we need them again. </span><span class="koboSpan" id="kobo.722.3">The computer will assume that a pronoun other than </span><em class="italic"><span class="koboSpan" id="kobo.723.1">I</span></em><span class="koboSpan" id="kobo.724.1"> will refer to the last subject, whatever that was. </span><span class="koboSpan" id="kobo.724.2">If I was talking about a dog, and then said, “She is so cute,” then the robot would assume I meant </span><span class="No-Break"><span class="koboSpan" id="kobo.725.1">the dog.</span></span></p>
<p><span class="koboSpan" id="kobo.726.1">Previously, we discussed playing a game to get information from a person. </span><span class="koboSpan" id="kobo.726.2">The robot will be collecting and remembering this information, even after it is turned off, so that the next time that person is talking to the robot, it remembers the information it learned the last time – just as you do with a new friend. </span><span class="koboSpan" id="kobo.726.3">If you want to continue to expand this AI chatbot concept, you can use this information to create additional conversations. </span><span class="koboSpan" id="kobo.726.4">For example, if the human says they like baseball, the robot could ask what their favorite team is and then look up on the internet when the next baseball game </span><span class="No-Break"><span class="koboSpan" id="kobo.727.1">is scheduled.</span></span></p>
<p><span class="koboSpan" id="kobo.728.1">That is the end of our list of parts we are going to use to build our robot personality. </span><span class="koboSpan" id="kobo.728.2">We can now dive in and use our personality construction kit. </span><span class="koboSpan" id="kobo.728.3">I’m going to use the bones of the ELIZA Python open source program from Wade Brainerd to build Albert the </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">robot’s personality.</span></span></p>
<p><span class="koboSpan" id="kobo.730.1">In the interest of time and space, I’m only</span><a id="_idIndexMarker773"/><span class="koboSpan" id="kobo.731.1"> going to put the parts here that I added</span><a id="_idIndexMarker774"/><span class="koboSpan" id="kobo.732.1"> to the </span><a id="_idTextAnchor341"/><span class="koboSpan" id="kobo.733.1">base program. </span><span class="koboSpan" id="kobo.733.2">The entire code will be in the GitHub repository. </span><span class="koboSpan" id="kobo.733.3">You can get the original program at</span><a id="_idTextAnchor342"/> <a href="https://github.com/wadetb/eliza"><span class="koboSpan" id="kobo.734.1">https://github.com/wadetb/eliza</span></a><span class="koboSpan" id="kobo.735.1"> if you want to follow along beyond what’s in </span><span class="No-Break"><span class="koboSpan" id="kobo.736.1">this book.</span></span></p>
<h2 id="_idParaDest-159"><a id="_idTextAnchor343"/><span class="koboSpan" id="kobo.737.1">Under construction</span></h2>
<p><span class="koboSpan" id="kobo.738.1">Let’s review all the parts</span><a id="_idIndexMarker775"/><span class="koboSpan" id="kobo.739.1"> we have to put together to make our </span><span class="No-Break"><span class="koboSpan" id="kobo.740.1">robot personality:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.741.1">Simulation</span></span></li>
<li><span class="koboSpan" id="kobo.742.1">Monte Carlo (stochastic, or </span><span class="No-Break"><span class="koboSpan" id="kobo.743.1">random-based) modeling</span></span></li>
<li><span class="koboSpan" id="kobo.744.1">Our robot emotion </span><span class="No-Break"><span class="koboSpan" id="kobo.745.1">state machine</span></span></li>
<li><span class="koboSpan" id="kobo.746.1">Perception of human emotion </span><span class="No-Break"><span class="koboSpan" id="kobo.747.1">state machine</span></span></li>
<li><span class="koboSpan" id="kobo.748.1">Our robot biography (list of internal facts about </span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">the robot)</span></span></li>
<li><span class="koboSpan" id="kobo.750.1">A conversation engine framework </span><a id="_idTextAnchor344"/><span class="No-Break"><span class="koboSpan" id="kobo.751.1">called ELIZA</span></span></li>
<li><span class="koboSpan" id="kobo.752.1">Context or the ability to remember and return facts and “fill in </span><span class="No-Break"><span class="koboSpan" id="kobo.753.1">the blanks”</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.754.1">In this and the next few sections, I will be presenting the code that I added to Albert to facilitate his artificial personality. </span><span class="koboSpan" id="kobo.754.2">A lot of it will be contained in script files that provide rules and patterns for Albert’s speech. </span><span class="koboSpan" id="kobo.754.3">There will also be code functions for his emotion engine, human emotion model, and game engine. </span><span class="koboSpan" id="kobo.754.4">Let’s </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">get started:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.756.1">I needed to add some new functions</span><a id="_idIndexMarker776"/><span class="koboSpan" id="kobo.757.1"> to the script language used by ELIZA. </span><span class="koboSpan" id="kobo.757.2">First, I added the context of our robot, who takes the place of ELIZA, the therapist. </span><span class="koboSpan" id="kobo.757.3">First, we have the opening words when we initiate the interactive conversation mode of Albert by saying “Hey, Albert” (or whatever you decided to call it), the wake word for Mycroft, and then </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">just “Hello.”</span></span></li>
<li><span class="koboSpan" id="kobo.759.1">The robot responds</span><a id="_idIndexMarker777"/><span class="koboSpan" id="kobo.760.1"> with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.761.1">initial</span></strong><span class="koboSpan" id="kobo.762.1"> phrase, as noted by the tag before the colon. </span><span class="koboSpan" id="kobo.762.2">We also have our closing phrase here. </span><span class="koboSpan" id="kobo.762.3">You can actually put as many phrases as you like, and the computer will randomly choose one. </span><span class="koboSpan" id="kobo.762.4">These rules go into the file I named </span><strong class="source-inline"><span class="koboSpan" id="kobo.763.1">AlbertPersonality.txt</span></strong><span class="koboSpan" id="kobo.764.1">, which started as a copy of the original </span><strong class="source-inline"><span class="koboSpan" id="kobo.765.1">doctor.txt</span></strong><span class="koboSpan" id="kobo.766.1"> script file that came </span><span class="No-Break"><span class="koboSpan" id="kobo.767.1">with ELIZA:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.768.1">
initial: Hello. </span><span class="koboSpan" id="kobo.768.2">My name is Albert the Robot.
</span><span class="koboSpan" id="kobo.768.3">initial: Hello. </span><span class="koboSpan" id="kobo.768.4">I am Albert the Robot, but you can call me Albert.
</span><span class="koboSpan" id="kobo.768.5">initial: Hello. </span><span class="koboSpan" id="kobo.768.6">Nice to meet you. </span><span class="koboSpan" id="kobo.768.7">Call me Albert.
</span><span class="koboSpan" id="kobo.768.8">final: Goodbye. </span><span class="koboSpan" id="kobo.768.9">Thank you for talking to me.
</span><span class="koboSpan" id="kobo.768.10">final: Goodbye. </span><span class="koboSpan" id="kobo.768.11">It was nice to talk to you.
</span><span class="koboSpan" id="kobo.768.12">final: Goodbye. </span><span class="koboSpan" id="kobo.768.13">I need to get back to my tasks.
</span><span class="koboSpan" id="kobo.768.14">quit: bye
quit: goodbye</span></pre></li> <li><span class="koboSpan" id="kobo.769.1">I added some word substitutes in case the user calls the robot by name rather than </span><em class="italic"><span class="koboSpan" id="kobo.770.1">you</span></em><span class="koboSpan" id="kobo.771.1">. </span><span class="koboSpan" id="kobo.771.2">This just substitutes </span><em class="italic"><span class="koboSpan" id="kobo.772.1">you</span></em><span class="koboSpan" id="kobo.773.1"> for anything you might call the robot. </span><span class="koboSpan" id="kobo.773.2">I also set synonyms for various versions of </span><a id="_idTextAnchor345"/><span class="koboSpan" id="kobo.774.1">the robot’s name, so you can call it </span><em class="italic"><span class="koboSpan" id="kobo.775.1">robot</span></em><span class="koboSpan" id="kobo.776.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.777.1">bot</span></em><span class="koboSpan" id="kobo.778.1">, as well as </span><em class="italic"><span class="koboSpan" id="kobo.779.1">Albert</span></em><span class="koboSpan" id="kobo.780.1">, </span><em class="italic"><span class="koboSpan" id="kobo.781.1">Bert</span></em><span class="koboSpan" id="kobo.782.1">, or </span><span class="No-Break"><span class="koboSpan" id="kobo.783.1">even </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.784.1">Bertie</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.785.1">.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.786.1">A rule with </span><strong class="source-inline"><span class="koboSpan" id="kobo.787.1">pre:</span></strong><span class="koboSpan" id="kobo.788.1"> in front of it is substituted before any other processing takes place. </span><span class="koboSpan" id="kobo.788.2">From the first rule, if the word </span><em class="italic"><span class="koboSpan" id="kobo.789.1">robot</span></em><span class="koboSpan" id="kobo.790.1"> appears in a sentence, as in “Robot, how old are you?”, the program removes </span><em class="italic"><span class="koboSpan" id="kobo.791.1">robot</span></em><span class="koboSpan" id="kobo.792.1"> and substitutes </span><em class="italic"><span class="koboSpan" id="kobo.793.1">you</span></em><span class="koboSpan" id="kobo.794.1"> to make the parsing consistent. </span><span class="koboSpan" id="kobo.794.2">We also change all uppercase letters to lowercase, so there are no capital letters in the rules. </span><span class="koboSpan" id="kobo.794.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.795.1">synon:</span></strong><span class="koboSpan" id="kobo.796.1"> rule (synonym) replaces any of the listed words with the first </span><span class="No-Break"><span class="koboSpan" id="kobo.797.1">word given:</span></span></p><pre class="source-code"><span class="koboSpan" id="kobo.798.1">
pre: robot you
pre: albert you
…
synon: you robot albert bert bertie bot
synon: belief feel think believe wish</span></pre></li> <li><span class="koboSpan" id="kobo.799.1">The next thing we needed was to create questions that we wanted the robot to ask in order to gain information. </span><span class="koboSpan" id="kobo.799.2">The program will automatically </span><em class="italic"><span class="koboSpan" id="kobo.800.1">harvest</span></em><span class="koboSpan" id="kobo.801.1"> this data in any of the keywords we define to appear in a sentence. </span><span class="koboSpan" id="kobo.801.2">Here is the definition for rules about </span><span class="No-Break"><span class="koboSpan" id="kobo.802.1">asking questions:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.803.1">
questions:
reasmb: What is your name? </span><span class="koboSpan" id="kobo.803.2">&lt;assert name&gt;
reasmb: What can I call you? </span><span class="koboSpan" id="kobo.803.3">&lt;assert name&gt;
reasmb: How old are you? </span><span class="koboSpan" id="kobo.803.4">&lt;assert old&gt;
reasmb: How are you feeling today &lt;assert feeling&gt;</span></pre></li> <li><span class="koboSpan" id="kobo.804.1">We create a new flag for questions</span><a id="_idIndexMarker778"/><span class="koboSpan" id="kobo.805.1"> to add to our script file. </span><span class="koboSpan" id="kobo.805.2">Each line represents one question, but we can ask it in different ways or forms. </span><span class="koboSpan" id="kobo.805.3">The program will select one version at random and decide which question to ask based on the relative priority we will set on the questions. </span><span class="koboSpan" id="kobo.805.4">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.806.1">assert</span></strong><span class="koboSpan" id="kobo.807.1"> keyword with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.808.1">&lt;&gt;</span></strong><span class="koboSpan" id="kobo.809.1"> symbols around it is another new flag I added to cue the context memory that we have created a context of asking some question, and the next statement is probably </span><span class="No-Break"><span class="koboSpan" id="kobo.810.1">an answer:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.811.1">
datum: name
decomp * my name is * decomp I am *
decomp call me *
decomp &lt;name&gt; * # we are in the name context reasmb: Hello (1). </span><span class="koboSpan" id="kobo.811.2">Nice to meet you
reasmb: Hi (1).
</span><span class="koboSpan" id="kobo.811.3">reasmb: Your name is (1), right?
</span><span class="koboSpan" id="kobo.811.4">reasmb: Thank you for telling me your name, (1) store: &lt;name&gt; (1)</span><a id="_idTextAnchor346"/><span class="koboSpan" id="kobo.812.1">
decomp * my name is *
reasmb: Hello (2). </span><span class="koboSpan" id="kobo.812.2">Nice to meet you.[welcome][happy] store:&lt;name&gt; (2)</span></pre></li> <li><span class="koboSpan" id="kobo.813.1">I created a new data structure I called </span><strong class="source-inline"><span class="koboSpan" id="kobo.814.1">datum</span></strong><span class="koboSpan" id="kobo.815.1">, the singular of </span><em class="italic"><span class="koboSpan" id="kobo.816.1">data</span></em><span class="koboSpan" id="kobo.817.1">. </span><span class="koboSpan" id="kobo.817.2">This represents some information we want the robot to ask about. </span><span class="koboSpan" id="kobo.817.3">We give the datum a title – </span><strong class="source-inline"><span class="koboSpan" id="kobo.818.1">name</span></strong><span class="koboSpan" id="kobo.819.1"> in this case, as we want the robot to ask the name of who it is talking to. </span><span class="koboSpan" id="kobo.819.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.820.1">decomp</span></strong><span class="koboSpan" id="kobo.821.1"> (for decomposition) tags are the patterns of sentences where the user might say their name. </span><strong class="source-inline"><span class="koboSpan" id="kobo.822.1">*</span></strong><span class="koboSpan" id="kobo.823.1"> represents any phrase. </span><span class="koboSpan" id="kobo.823.2">So, if the human says “Hello. </span><span class="koboSpan" id="kobo.823.3">My name is Fred Rodgers,” then the robot will call them Fred Rodgers from then on. </span><span class="koboSpan" id="kobo.823.4">If the human says, “Call me Ishmael” for some unknown reason, then the robot will use that. </span><span class="koboSpan" id="kobo.823.5">We must reassemble the response phrase with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.824.1">reasmb</span></strong><span class="koboSpan" id="kobo.825.1"> rules. </span><strong class="source-inline"><span class="koboSpan" id="kobo.826.1">(1)</span></strong><span class="koboSpan" id="kobo.827.1"> refers to the first </span><strong class="source-inline"><span class="koboSpan" id="kobo.828.1">*</span></strong><span class="koboSpan" id="kobo.829.1"> phrase that appears. </span><span class="koboSpan" id="kobo.829.2">If the user says, “I am John,” then when we use the reassemble rules, </span><strong class="source-inline"><span class="koboSpan" id="kobo.830.1">(1)</span></strong><span class="koboSpan" id="kobo.831.1"> will be replaced by </span><strong class="source-inline"><span class="koboSpan" id="kobo.832.1">John</span></strong><span class="koboSpan" id="kobo.833.1">. </span><span class="koboSpan" id="kobo.833.2">The robot will pick one of the phrases provided at random, such as: “Your name is </span><span class="No-Break"><span class="koboSpan" id="kobo.834.1">John, right?”</span></span><p class="list-inset"><span class="koboSpan" id="kobo.835.1">I added another new tag to allow</span><a id="_idIndexMarker779"/><span class="koboSpan" id="kobo.836.1"> the robot to use the context memory area to perform two functions. </span><span class="koboSpan" id="kobo.836.2">We can declare a context subject when we ask a question, which we will do in a later section. </span><span class="koboSpan" id="kobo.836.3">For example, when we ask the user, “What is your name?”, then we want the robot to know that the next answer will be in the context of that question. </span><span class="koboSpan" id="kobo.836.4">It’s perfectly reasonable for the robot to say “Who are you?” </span><span class="koboSpan" id="kobo.836.5">and the user to immediately answer “Julia” with no other words in that sentence. </span><span class="koboSpan" id="kobo.836.6">How is the program to know what to do with </span><em class="italic"><span class="koboSpan" id="kobo.837.1">Julia</span></em><span class="koboSpan" id="kobo.838.1">? </span><span class="koboSpan" id="kobo.838.2">The answer is the context flag, noted by being bracketed by </span><strong class="source-inline"><span class="koboSpan" id="kobo.839.1">&lt;&gt;</span></strong><span class="koboSpan" id="kobo.840.1">. </span><span class="koboSpan" id="kobo.840.2">We read the </span><strong class="source-inline"><span class="koboSpan" id="kobo.841.1">decomp &lt;name&gt; *</span></strong><span class="koboSpan" id="kobo.842.1"> decomposition rule as if you are in the context of asking for a name, and you get a reply with no keywords, so take whatever you get as </span><span class="No-Break"><span class="koboSpan" id="kobo.843.1">the answer.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.844.1">Emotion tags are noted by a bracket, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.845.1">[happy]</span></strong><span class="koboSpan" id="kobo.846.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.847.1">[sad]</span></strong><span class="koboSpan" id="kobo.848.1">. </span><span class="koboSpan" id="kobo.848.2">This will move either the robot’s emotions or the robot’s perception of human emotions, depending on whether it is a statement received from a human or a sentence uttered by the robot. </span><span class="koboSpan" id="kobo.848.3">There can be</span><a id="_idIndexMarker780"/><span class="koboSpan" id="kobo.849.1"> more than one emotion tag associated with </span><span class="No-Break"><span class="koboSpan" id="kobo.850.1">a statement.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.851.1">Here are the rules for listening for the answer to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.852.1">age</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.853.1"> question:</span></span></p><pre class="source-code"><span class="koboSpan" id="kobo.854.1">
datum: age
decomp &lt;age&gt; * I am * years old decomp &lt;age&gt; * I am % # integer
reasmb: You are (2) years old?
</span><span class="koboSpan" id="kobo.854.2">reasmb: (2) years old!
</span><span class="koboSpan" id="kobo.854.3">decomp &lt;age&gt; *
reasmb: You are (1) years old?
</span><span class="koboSpan" id="kobo.854.4">reasmb: (1) years old!
</span><span class="koboSpan" id="kobo.854.5">store: &lt;age&gt; (1)</span></pre><p class="list-inset"><span class="koboSpan" id="kobo.855.1">On the final line, </span><strong class="source-inline"><span class="koboSpan" id="kobo.856.1">store:</span></strong><span class="koboSpan" id="kobo.857.1"> is the command to tell the computer that this i</span><a id="_idTextAnchor347"/><span class="koboSpan" id="kobo.858.1">s the answer to the question and to store that away in the dictionary with the </span><span class="No-Break"><span class="koboSpan" id="kobo.859.1">title provided.</span></span></p></li> <li><span class="koboSpan" id="kobo.860.1">Next, let’s use an example of an interaction with some emotions tied to it so that we can see how we will use the emotion engine to control what the robot says. </span><span class="koboSpan" id="kobo.860.2">This set of rules is enacted when the user says “How are you?” </span><span class="koboSpan" id="kobo.860.3">to </span><span class="No-Break"><span class="koboSpan" id="kobo.861.1">the robot:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.862.1">
key: feeling
decomp: how are you feeling decomp: how are you
decomp: hows it hanging
decomp: how are you today
reasmb: &lt;happy&gt; I'm doing well. </span><span class="koboSpan" id="kobo.862.2">How are you? </span><span class="koboSpan" id="kobo.862.3">&lt;assert feeling&gt;
reasmb: &lt;sad&gt; I am feeling sad. </span><span class="koboSpan" id="kobo.862.4">How are you? </span><span class="koboSpan" id="kobo.862.5">&lt;assert feeling&gt;
reasmb: &lt;curious&gt; I am curious about my surroundings
reasmb: &lt;friend&gt; I am feeling friendly today
reasmb: &lt;welcome&gt; I am in a welcoming mood today, my friend
reasmb: &lt;frust&gt; I am a bit frustrated, to tell you the truth
reasmb: &lt;frust&gt; I am feeling a bit frustrated
reasmb: &lt;strange&gt; I am having relationship problems
reasmb: &lt;distant&gt; None of my friends have come to visit
reasmb: &lt;tired&gt;  My batteries are low.  Maybe I need a rest.</span></pre></li> <li><span class="koboSpan" id="kobo.863.1">We will be putting the robot’s emotions</span><a id="_idIndexMarker781"/><span class="koboSpan" id="kobo.864.1"> into the context memory so that the script processing program can have access to it. </span><span class="koboSpan" id="kobo.864.2">We treat an emotion – for dialog purposes – as part of the context that we are speaking about, which I think is a reasonable approach to working with emotions. </span><span class="koboSpan" id="kobo.864.3">Each emotion has a tag or name in the context memory dictionary. </span><span class="koboSpan" id="kobo.864.4">If the predominant emotion in the robot is happy, then the robot sets the </span><strong class="source-inline"><span class="koboSpan" id="kobo.865.1">happy</span></strong><span class="koboSpan" id="kobo.866.1"> context in the context memory. </span><span class="koboSpan" id="kobo.866.2">Then, the rule base will use the context tag to determine which phrase to use to reply to “How are you feeling?” </span><span class="koboSpan" id="kobo.866.3">We can also ask a follow-up question. </span><span class="koboSpan" id="kobo.866.4">Look at the rule for </span><strong class="source-inline"><span class="koboSpan" id="kobo.867.1">&lt;happy&gt;</span></strong><span class="koboSpan" id="kobo.868.1">. </span><span class="koboSpan" id="kobo.868.2">The robot replies, “I’m doing well. </span><span class="koboSpan" id="kobo.868.3">How are you?” </span><span class="koboSpan" id="kobo.868.4">and then sets the </span><strong class="source-inline"><span class="koboSpan" id="kobo.869.1">feeling</span></strong><span class="koboSpan" id="kobo.870.1"> context to let the engine know that we asked a question about feeling. </span><span class="koboSpan" id="kobo.870.2">Finally, the last line relates to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.871.1">tired</span></strong><span class="koboSpan" id="kobo.872.1"> emotion. </span><span class="koboSpan" id="kobo.872.2">If the robot is feeling tired, then we jump to a separate section for the robot to talk about being tired. </span><span class="koboSpan" id="kobo.872.3">We make it a separate routine because we need to call it from several places, which illustrates the utility of this rule-based approach to speech. </span><span class="koboSpan" id="kobo.872.4">I don’t want to imagine how many C or C++ source lines of code it would take to create all of these rules for each line of dialog. </span><span class="koboSpan" id="kobo.872.5">We continue to modify the scripts using these guidelines until we have completed all our questions</span><a id="_idIndexMarker782"/><span class="koboSpan" id="kobo.873.1"> and have patterns for all of </span><span class="No-Break"><span class="koboSpan" id="kobo.874.1">the answers.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.875.1">Now, we are going to switch back to Python code</span><a id="_idTextAnchor348"/><a id="_idTextAnchor349"/><a id="_idTextAnchor350"/><span class="koboSpan" id="kobo.876.1"> for the rest of this example. </span><span class="koboSpan" id="kobo.876.2">Our next section describes how we are going to </span><span class="No-Break"><span class="koboSpan" id="kobo.877.1">simulate emotions.</span></span></p>
<h1 id="_idParaDest-160"><a id="_idTextAnchor351"/><span class="koboSpan" id="kobo.878.1">Developing the robot emotion engine</span></h1>
<p><span class="koboSpan" id="kobo.879.1">Now we are going to put together</span><a id="_idIndexMarker783"/><span class="koboSpan" id="kobo.880.1"> the robot’s emotion model. </span><span class="koboSpan" id="kobo.880.2">This is the heart of the artificial personality as it computes, updates, and remembers the emotional state of the robot. </span><span class="koboSpan" id="kobo.880.3">The robot starts in a generally neutral state and performs updates based on the combination of eight emotional traits: </span><em class="italic"><span class="koboSpan" id="kobo.881.1">happy</span></em><span class="koboSpan" id="kobo.882.1">/</span><em class="italic"><span class="koboSpan" id="kobo.883.1">sad</span></em><span class="koboSpan" id="kobo.884.1">, </span><em class="italic"><span class="koboSpan" id="kobo.885.1">welcoming</span></em><span class="koboSpan" id="kobo.886.1">/</span><em class="italic"><span class="koboSpan" id="kobo.887.1">distant</span></em><span class="koboSpan" id="kobo.888.1">, </span><em class="italic"><span class="koboSpan" id="kobo.889.1">friendly</span></em><span class="koboSpan" id="kobo.890.1">/ </span><em class="italic"><span class="koboSpan" id="kobo.891.1">stranger</span></em><span class="koboSpan" id="kobo.892.1">, </span><em class="italic"><span class="koboSpan" id="kobo.893.1">curious</span></em><span class="koboSpan" id="kobo.894.1">/</span><em class="italic"><span class="koboSpan" id="kobo.895.1">frustrated</span></em><span class="koboSpan" id="kobo.896.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.897.1">fresh</span></em><span class="koboSpan" id="kobo.898.1">/</span><em class="italic"><span class="koboSpan" id="kobo.899.1">tired</span></em><span class="koboSpan" id="kobo.900.1">. </span><span class="koboSpan" id="kobo.900.2">As events happen in the experience of the robot, it gets cues that cause its emotional state to change. </span><span class="koboSpan" id="kobo.900.3">For example, if the user said “That is stupid” to something the robot said, then the robot would add to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.901.1">sad</span></strong><span class="koboSpan" id="kobo.902.1"> axis of </span><span class="No-Break"><span class="koboSpan" id="kobo.903.1">its emotion.</span></span></p>
<p><span class="koboSpan" id="kobo.904.1">We compute the overall emotional state using polar coordinates, just like you saw in the diagram we drew earlier in this chapter (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.905.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.906.1">.4</span></em><span class="koboSpan" id="kobo.907.1">). </span><span class="koboSpan" id="kobo.907.2">The current emotional state is determined by computing the center of mass of the other emotions. </span><span class="koboSpan" id="kobo.907.3">If the emotions are more or less balanced, the center of mass of the emotions, as plotted on our polar chart, would be near the center. </span><span class="koboSpan" id="kobo.907.4">If the robot is mostly happy and friendly, then the mass moves more over to that side of the graph. </span><span class="koboSpan" id="kobo.907.5">We pick the single emotional state that is closest to the center of the mass. </span><span class="koboSpan" id="kobo.907.6">This is intended to be the basis of creating a complex emotional character for the robot. </span><span class="koboSpan" id="kobo.907.7">The attribute of </span><em class="italic"><span class="koboSpan" id="kobo.908.1">fresh</span></em><span class="koboSpan" id="kobo.909.1">/</span><em class="italic"><span class="koboSpan" id="kobo.910.1">tired</span></em><span class="koboSpan" id="kobo.911.1"> is unique, in that the value for that emotion is based on the elapsed runtime of </span><span class="No-Break"><span class="koboSpan" id="kobo.912.1">the robot.</span></span></p>
<p><span class="koboSpan" id="kobo.913.1">The primary expressions of emotion for the robot will be the position of the robot arm – happier robots carry their arms higher and more forward – and the choice of vocabulary </span><span class="No-Break"><span class="koboSpan" id="kobo.914.1">in conversation.</span></span></p>
<p><span class="koboSpan" id="kobo.915.1">The following block of code creates data entries for the emotion engine in the format required by our conversation engine. </span><span class="koboSpan" id="kobo.915.2">We are creating a Python interface to the rule-based format so that we can connect it to the rest of </span><span class="No-Break"><span class="koboSpan" id="kobo.916.1">the robot:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.917.1">
class RobotEmotionEngine():
  def __in _(self):
    self.emostate = [90,0]
    self.emoText = "neutral 50"
    self.emotions = {"happy" : 50, "sad": 50,"welcome" : 50, "distant":50,"friend" : 50,"strange" :50, "curious" : 50,"frustrated":50, "fresh" : 50, "tired",50}
    self.bio = {"name":"Albert Albert", "lastname": "Albert", "age": "6 months","maker": "granddad", "color":"green","food","electricity","author":"Isaac Asimov, of course","school": "I do not go to school but I love to learn","hobby":"picking up toys", "job":"picking up toys"}
    # list of happy emotions and sad emotions self.emotBalance={"happy": "sad", "welcome":"distant","friend": "strange", "curious": "frustrated","fresh": "tired"} self.emotionAxis{"happy":112, "welcome": 22,"friend":67,"curious":157,
    "sad":292,"distant":202,"strange":247,"frustrated",337}
    self.update()
  def change(self,emot, val):
    self.emotions[emot]=val
    balance = 100 - val
    otherEmotion = self.emotBalance[emot] 
    self.emotions[otherEmotion]=balance</span></pre> <p><span class="koboSpan" id="kobo.918.1">Next up is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.919.1">update</span></strong><span class="koboSpan" id="kobo.920.1"> function; this function</span><a id="_idIndexMarker784"/><span class="koboSpan" id="kobo.921.1"> checks to see if we’ve had a change in our emotional state, and if so, we change our </span><span class="No-Break"><span class="koboSpan" id="kobo.922.1">current emotion:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.923.1">
    def update(self):
        rmin = 100
        rmax = 0
        thetamin =360
        thetamax=0
        for emote in self.emotions:
            theta = self.emotionAxis[emote]
            thetamax = min(theta,thetamax)
            thetamin = max(theta,thetamin)
            r = self.emotions[emote]
            rmin = max(rmin, r)
            rmax = max(rmax,r)
        stateR = (rmax-rmin)/ 2
        stateTheta = (thetamax-thetamin) / 2
        for emo in self.emotionAxis:
            thisAngle = self.emotionAxis[emo]
            if stateTheta &gt; thisAngle
            myEmotion = emo
            break
        
        self.emostate = [stateTheta, stateR]
        if stateR &lt; 55 and stateR &gt; 45: 
            myEmotion = "neutral"
        self.emoText = myEmotion + " "+ str(stateR)
        print "Current Emotional State"  = myEmotion, stateR, stateTheta
        return</span></pre> <p><span class="koboSpan" id="kobo.924.1">The robot also needs a model of the human</span><a id="_idIndexMarker785"/><span class="koboSpan" id="kobo.925.1"> it is talking to so that it can make different responses based on how the human is interacting. </span><span class="koboSpan" id="kobo.925.2">In the next section, we are going to create a smaller version of the emotion</span><a id="_idIndexMarker786"/><span class="koboSpan" id="kobo.926.1"> model we </span><span class="No-Break"><span class="koboSpan" id="kobo.927.1">used earlier.</span></span></p>
<h2 id="_idParaDest-161"><a id="_idTextAnchor352"/><span class="koboSpan" id="kobo.928.1">Creating a human emotion model</span></h2>
<p><span class="koboSpan" id="kobo.929.1">We model four emotions for our human</span><a id="_idIndexMarker787"/><span class="koboSpan" id="kobo.930.1"> interactions for the robot</span><a id="_idIndexMarker788"/><span class="koboSpan" id="kobo.931.1"> to use in formulating responses: </span><em class="italic"><span class="koboSpan" id="kobo.932.1">happy</span></em><span class="koboSpan" id="kobo.933.1">/</span><em class="italic"><span class="koboSpan" id="kobo.934.1">sad</span></em><span class="koboSpan" id="kobo.935.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.936.1">welcoming</span></em><span class="koboSpan" id="kobo.937.1">/</span><em class="italic"><span class="koboSpan" id="kobo.938.1">distant</span></em><span class="koboSpan" id="kobo.939.1">. </span><span class="koboSpan" id="kobo.939.2">We can put emotion tags into our patterns in the script file with </span><strong class="source-inline"><span class="koboSpan" id="kobo.940.1">[happy]</span></strong><span class="koboSpan" id="kobo.941.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.942.1">[sad]</span></strong><span class="koboSpan" id="kobo.943.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.944.1">[welcome]</span></strong><span class="koboSpan" id="kobo.945.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.946.1">[distant]</span></strong><span class="koboSpan" id="kobo.947.1"> to mark the emotions of responses. </span><span class="koboSpan" id="kobo.947.2">For example, if we are not getting answers to our questions, we can mark that response with </span><strong class="source-inline"><span class="koboSpan" id="kobo.948.1">[distant]</span></strong><span class="koboSpan" id="kobo.949.1"> to note that our subject is not </span><span class="No-Break"><span class="koboSpan" id="kobo.950.1">being cooperative:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer102">
<span class="koboSpan" id="kobo.951.1"><img alt="Figure 9.6 – Simplified human emotional model showing the axes between happy and sad emotions: robot point of view" src="image/B19846_09_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.952.1">Figure 9.6 – Simplified human emotional model showing the axes between happy and sad emotions: robot point of view</span></p>
<p><span class="koboSpan" id="kobo.953.1">Our human emotion model makes use of a Python dictionary data structure to hold our model. </span><span class="koboSpan" id="kobo.953.2">Let’s take a closer look </span><span class="No-Break"><span class="koboSpan" id="kobo.954.1">at this:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.955.1">We have two axes: the </span><em class="italic"><span class="koboSpan" id="kobo.956.1">happy</span></em><span class="koboSpan" id="kobo.957.1">/</span><em class="italic"><span class="koboSpan" id="kobo.958.1">sad</span></em><span class="koboSpan" id="kobo.959.1"> axis and the </span><em class="italic"><span class="koboSpan" id="kobo.960.1">welcoming</span></em><span class="koboSpan" id="kobo.961.1">/</span><em class="italic"><span class="koboSpan" id="kobo.962.1">distant</span></em><span class="koboSpan" id="kobo.963.1"> axis. </span><span class="koboSpan" id="kobo.963.2">We move the </span><em class="italic"><span class="koboSpan" id="kobo.964.1">happy</span></em><span class="koboSpan" id="kobo.965.1">/</span><em class="italic"><span class="koboSpan" id="kobo.966.1">s</span></em><em class="italic"><span class="koboSpan" id="kobo.967.1">ad</span></em><span class="koboSpan" id="kobo.968.1"> index up or down based on responses. </span><span class="koboSpan" id="kobo.968.2">If we think a response expresses happy thoughts (“Do you like school?” </span><span class="koboSpan" id="kobo.968.3">“Yes”), the program moves up the emotion index in the </span><em class="italic"><span class="koboSpan" id="kobo.969.1">happy</span></em><span class="koboSpan" id="kobo.970.1"> direction. </span><span class="koboSpan" id="kobo.970.2">We use the intersection of these to set the current emotional index. </span><span class="koboSpan" id="kobo.970.3">If the human is near the center, we note this</span><a id="_idIndexMarker789"/><span class="koboSpan" id="kobo.971.1"> as neutral, our </span><span class="No-Break"><span class="koboSpan" id="kobo.972.1">starting</span></span><span class="No-Break"><a id="_idIndexMarker790"/></span><span class="No-Break"><span class="koboSpan" id="kobo.973.1"> point:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.974.1">
class HumanEmotionEngine():
  def _init_ (self):
    self.emostate = [90,</span><a id="_idTextAnchor353"/><span class="koboSpan" id="kobo.975.1">0]
    self.emoText = "neutral 50"
    self.emotions = {"happy" : 50, "sad": 50,"welcome" : 50, "distant":50}
    # list of happy emotions and sad emotions
    self.emotBalance={"happy": "sad", "welcome":"distant"}
    self.emotionAxis = {'distant': 315, 'welcome': 135, 'sad': 225,'happy': 45}
    self.update()</span></pre></li> <li><span class="koboSpan" id="kobo.976.1">Let’s look at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.977.1">change</span></strong><span class="koboSpan" id="kobo.978.1"> function. </span><span class="koboSpan" id="kobo.978.2">If </span><strong class="source-inline"><span class="koboSpan" id="kobo.979.1">happy</span></strong><span class="koboSpan" id="kobo.980.1"> goes up, </span><strong class="source-inline"><span class="koboSpan" id="kobo.981.1">sad</span></strong><span class="koboSpan" id="kobo.982.1"> goes down, so we balance this automatically when </span><span class="No-Break"><span class="koboSpan" id="kobo.983.1">emotions change:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.984.1">
def change(self,emot, val):
    self.emotions[emot]=val balance = 100 – val
    otherEmotion = self.emotBalance[emot] 
    self.emotions[otherEmotion]=balance</span></pre></li> <li><span class="koboSpan" id="kobo.985.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.986.1">update</span></strong><span class="koboSpan" id="kobo.987.1"> function gets the current emotional balance of the </span><span class="No-Break"><span class="koboSpan" id="kobo.988.1">human model:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.989.1">
def update(self):
    stateR = self.emotion["happy"]
    stateS = self.emotion["welcome"]
    self.emostate = [stateR, stateS]</span></pre></li> <li><span class="koboSpan" id="kobo.990.1">If the emotional state</span><a id="_idIndexMarker791"/><span class="koboSpan" id="kobo.991.1"> is near the</span><a id="_idIndexMarker792"/><span class="koboSpan" id="kobo.992.1"> middle, we call </span><span class="No-Break"><span class="koboSpan" id="kobo.993.1">that </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.994.1">neutral</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.995.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.996.1">
if stateR &lt; 55 and stateR &gt; 45 and stateS &lt; 55 and stateS &gt; 45: 
 myEmotion = "neutral"
happySad = stateR-50 welcomDist = stateS-50
if abs(happySad) &gt; abs(welcomDist):
 myEmotion = "sad"
if happySad &gt; 0:
 myEmotion = "happy"
else:
myEmotion = "distant" if welcomDist&gt; 0:
myEmotion = "welcome"
self.emoText = myEmotion + " "+ str(stateR)
print "Current Human Emotional State" = myEmotion, stateR, stateTheta
retu</span><a id="_idTextAnchor354"/><a id="_idTextAnchor355"/><span class="koboSpan" id="kobo.997.1">rn</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.998.1">This next section discusses where we are going to store the information we are collecting </span><span class="No-Break"><span class="koboSpan" id="kobo.999.1">from humans.</span></span></p>
<h2 id="_idParaDest-162"><a id="_idTextAnchor356"/><span class="koboSpan" id="kobo.1000.1">Creating human information storage</span></h2>
<p><span class="koboSpan" id="kobo.1001.1">This data structure stores</span><a id="_idIndexMarker793"/><span class="koboSpan" id="kobo.1002.1"> the information</span><a id="_idIndexMarker794"/><span class="koboSpan" id="kobo.1003.1"> we have collected about the human user and lets the robot know what questions have yet to be answered. </span><span class="koboSpan" id="kobo.1003.2">We use a Python dictionary to hold the data. </span><span class="koboSpan" id="kobo.1003.3">Let’s make a f</span><a id="_idTextAnchor357"/><span class="koboSpan" id="kobo.1004.1">reeform version of a database-like table. </span><span class="koboSpan" id="kobo.1004.2">I add values to the dictionary as we go to make extension easier. </span><span class="koboSpan" id="kobo.1004.3">I put a list of miscellaneous questions called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1005.1">stuff</span></strong><span class="koboSpan" id="kobo.1006.1"> to throw some spice into the robot’s information gathering so that the questions don’t seem too monotonous. </span><span class="koboSpan" id="kobo.1006.2">The robot will ask if you like the color pink, singing, dancing, robots, airplanes, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1007.1">so on.</span></span></p>
<p><span class="koboSpan" id="kobo.1008.1">We put the list in priority order by copying the dictionary and replacing the data fields with relative point values from 20 to 0. </span><strong class="source-inline"><span class="koboSpan" id="kobo.1009.1">name</span></strong><span class="koboSpan" id="kobo.1010.1"> is first with 20 points, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1011.1">age</span></strong><span class="koboSpan" id="kobo.1012.1"> is second with 18, and so on. </span><span class="koboSpan" id="kobo.1012.2">As each question is answered, we set this point value to zero. </span><span class="koboSpan" id="kobo.1012.3">For example, if we get an answer for “What is your favorite food?” </span><span class="koboSpan" id="kobo.1012.4">as “apple,” we set </span><strong class="source-inline"><span class="koboSpan" id="kobo.1013.1">self.info["food"] = apple</span></strong><span class="koboSpan" id="kobo.1014.1">, and set </span><strong class="source-inline"><span class="koboSpan" id="kobo.1015.1">self.points["food"] = 0</span></strong><span class="koboSpan" id="kobo.1016.1">. </span><span class="koboSpan" id="kobo.1016.2">I also added some extra questions for things that my grandchildren like, with the points set very low so that the conversation is more varied. </span><span class="koboSpan" id="kobo.1016.3">I ask about princesses, airplanes, dinosaurs, singing, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1017.1">building things:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1018.1">
class HumanInformation():
  def __init__(self):
    self.info = {"name":"none"}
    self.info["age"]=0
    self.info["school"]="none"
    self.info["feeling"]="none"
    self.info["food"]="none"
    self.info["book"]="none"
    self.info["subject"]="none"
    self.info["song"]="none"
    self.info["teeth"]="none"
    self.info["jokes"]="none"
    # stuff is random information that we use to get more information and have the human answer questions
    # these are aimed at 3-7 year olds
    self.info["stuff"]="none"
    self.stuff = ["the color pink", "singing", "dancing", "dinosaurs", "race cars", "building things",
    "robots", "airplanes", "space ships", "unicorns", "princesses"] self.points = self.info
    # setup points scoring scheme
    points = 20
    for item in self.points:
      self.points[item]=points
      points -= 2</span></pre> <p><span class="koboSpan" id="kobo.1019.1">Now, in the next</span><a id="_idIndexMarker795"/><span class="koboSpan" id="kobo.1020.1"> section, we’ll create</span><a id="_idIndexMarker796"/><span class="koboSpan" id="kobo.1021.1"> a memory for our robo</span><a id="_idTextAnchor358"/><a id="_idTextAnchor359"/><span class="koboSpan" id="kobo.1022.1">t so that the robot can remember what it has already learned. </span><span class="koboSpan" id="kobo.1022.2">We need a place to put the answers </span><span class="No-Break"><span class="koboSpan" id="kobo.1023.1">we receive.</span></span></p>
<h2 id="_idParaDest-163"><a id="_idTextAnchor360"/><span class="koboSpan" id="kobo.1024.1">Context memory</span></h2>
<p><span class="koboSpan" id="kobo.1025.1">This block of code constructs</span><a id="_idIndexMarker797"/><span class="koboSpan" id="kobo.1026.1"> the robot’s context memory. </span><span class="koboSpan" id="kobo.1026.2">You can think of this as</span><a id="_idIndexMarker798"/><span class="koboSpan" id="kobo.1027.1"> a pool of information that the robot can remember. </span><span class="koboSpan" id="kobo.1027.2">We set up the robot’s emotion and the model of human emotion to both be neutral. </span><span class="koboSpan" id="kobo.1027.3">I created some data structure so that we can refer to multiple human users by pointing </span><strong class="source-inline"><span class="koboSpan" id="kobo.1028.1">self.currentHuman</span></strong><span class="koboSpan" id="kobo.1029.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1030.1">HumanInformation</span></strong><span class="koboSpan" id="kobo.1031.1"> data object we </span><span class="No-Break"><span class="koboSpan" id="kobo.1032.1">created previously.</span></span></p>
<p><span class="koboSpan" id="kobo.1033.1">This is where we have the robot remember what emotional state it is in, along with what the software perceives as the human’s emotional state so that the robot doesn’t suddenly forget the decisions it has already made. </span><span class="koboSpan" id="kobo.1033.2">In the following code snippet, we define </span><strong class="source-inline"><span class="koboSpan" id="kobo.1034.1">self.emotion</span></strong><span class="koboSpan" id="kobo.1035.1">, which is the robot’s internal state, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1036.1">humanEmotion</span></strong><span class="koboSpan" id="kobo.1037.1"> for the person we are interacting with. </span><span class="koboSpan" id="kobo.1037.2">Then, we </span><a id="_idTextAnchor361"/><span class="koboSpan" id="kobo.1038.1">use these structures to create a file we write to disk so the robot’s personality persists if you turn it off. </span><span class="koboSpan" id="kobo.1038.2">We use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1039.1">inContext</span></strong><span class="koboSpan" id="kobo.1040.1"> function to retrieve data from the context pool. </span><span class="koboSpan" id="kobo.1040.2">If no data is available, we return an integer </span><span class="No-Break"><span class="koboSpan" id="kobo.1041.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1042.1">0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1043.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1044.1">
class ContextMemory():
    def __init__(self):
        self.currentContext = "None"
        self.currentHuman = None # pointer to the data file for the human we are currentl talking to
        self.humanFile = []
        self.emotion = "happy"
        self.humanEmotion = "happy"
        self.contextDict={}
        self.contextDict['currentHuman'] = self.currentHuman
        self.contextDict['robotEmotion'] = self.emotion
        self.contextDict['humanEmotion'] = self.humanEmotion
        
    def inContext(self, datum):
        if datum in self.contextDict:
            return self.contextDict[datum]
        else:
            return 0
            
    def setHuman(self,human):
        self.currentHuman = human
        self.humanFile.append(human)  # add this person to the database of people we know
        
    def addHuman(self,human):
        self.humanFile.append(human)</span></pre> <p><span class="koboSpan" id="kobo.1045.1">In these sections, we created</span><a id="_idIndexMarker799"/><span class="koboSpan" id="kobo.1046.1"> a place for the robot to store information </span><a id="_idIndexMarker800"/><span class="koboSpan" id="kobo.1047.1">about how it currently feels, what emotional state the robot is in, and what it has learned about the human it is talking to. </span><span class="koboSpan" id="kobo.1047.2">We also have a structure to add new humans to our database for when we meet </span><span class="No-Break"><span class="koboSpan" id="kobo.1048.1">someone new.</span></span></p>
<h1 id="_idParaDest-164"><a id="_idTextAnchor362"/><span class="koboSpan" id="kobo.1049.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1050.1">This was a very busy chapter. </span><span class="koboSpan" id="kobo.1050.2">We created an emotional engine for our robot and created a conversational interface so that it can interact with people. </span><span class="koboSpan" id="kobo.1050.3">We introduced simulation concepts, as we were creating a simulation of emotion for our robot. </span><span class="koboSpan" id="kobo.1050.4">We can’t create real, biologically motivated emotions, so we simulated emotions via playing a game. </span><span class="koboSpan" id="kobo.1050.5">In this game, we tried to get humans to provide information about themselves, which is what we humans call </span><em class="italic"><span class="koboSpan" id="kobo.1051.1">small talk</span></em><span class="koboSpan" id="kobo.1052.1">. </span><span class="koboSpan" id="kobo.1052.2">We assigned point values for emotions and created an emotional state machine both for the robot’s internal </span><em class="italic"><span class="koboSpan" id="kobo.1053.1">feelings</span></em><span class="koboSpan" id="kobo.1054.1"> and a representation of how the robot perceives your emotions </span><span class="No-Break"><span class="koboSpan" id="kobo.1055.1">via interactions.</span></span></p>
<p><span class="koboSpan" id="kobo.1056.1">In our final chapter, we will talk about your robotics educational </span><a id="_idTextAnchor363"/><span class="koboSpan" id="kobo.1057.1">journey, give some guidance on careers in robotics, and talk about the future, which is always a </span><span class="No-Break"><span class="koboSpan" id="kobo.1058.1">perilous topic.</span></span></p>
<h1 id="_idParaDest-165"><a id="_idTextAnchor364"/><span class="koboSpan" id="kobo.1059.1">Questions</span></h1>
<ol>
<li><span class="koboSpan" id="kobo.1060.1">What is your favorite movie robot? </span><span class="koboSpan" id="kobo.1060.2">How would you describe </span><span class="No-Break"><span class="koboSpan" id="kobo.1061.1">its personality?</span></span></li>
<li><span class="koboSpan" id="kobo.1062.1">What techniques did the movie-makers use to express that robot’s personality (body language, sounds, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1063.1">so on)?</span></span></li>
<li><span class="koboSpan" id="kobo.1064.1">What are the two types of chatbots? </span><span class="koboSpan" id="kobo.1064.2">List some of the strengths and weaknesses </span><span class="No-Break"><span class="koboSpan" id="kobo.1065.1">of each.</span></span></li>
<li><span class="koboSpan" id="kobo.1066.1">In the diagram of modeling custom distributions (the airport example), the bottom image shows two standard distributions and two uniform distributions. </span><span class="koboSpan" id="kobo.1066.2">Why don’t the curves go all the way to the top of </span><span class="No-Break"><span class="koboSpan" id="kobo.1067.1">the graph?</span></span></li>
<li><span class="koboSpan" id="kobo.1068.1">Design your own robot emotions. </span><span class="koboSpan" id="kobo.1068.2">Pick six contrasting emotions that can express the entire range of your robot’s personality. </span><span class="koboSpan" id="kobo.1068.3">Why did you </span><span class="No-Break"><span class="koboSpan" id="kobo.1069.1">pick those?</span></span></li>
</ol>
<h1 id="_idParaDest-166"><a id="_idTextAnchor365"/><span class="koboSpan" id="kobo.1070.1">Further reading</span></h1>
<ul>
<li><em class="italic"><span class="koboSpan" id="kobo.1071.1">Affective Computing</span></em><span class="koboSpan" id="kobo.1072.1"> by Rosalind Picard: </span><a href="https://direct.mit.edu/books/book/4296/Affective-Computing"><span class="koboSpan" id="kobo.1073.1">https://direct.mit.edu/books/book/4296/Affective-Computing</span></a><span class="koboSpan" id="kobo.1074.1">. </span><span class="koboSpan" id="kobo.1074.2">This book is a foundational text in the field of affective computing, which is directly relevant to simulating emotions </span><span class="No-Break"><span class="koboSpan" id="kobo.1075.1">in AI.</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1076.1">Emotion Modelling for Social Robots</span></em><span class="koboSpan" id="kobo.1077.1"> by Ana Paiva, Iolanda Leite, and Tiago Ribeiro: </span><a href="https://people.ict.usc.edu/~gratch/CSCI534/Readings/ACII-Handbook-Robots.pdf"><span class="koboSpan" id="kobo.1078.1">https://people.ict.usc.edu/~gratch/CSCI534/Readings/ACII-Handbook-Robots.pdf</span></a><span class="koboSpan" id="kobo.1079.1">. </span><span class="koboSpan" id="kobo.1079.2">This book includes research papers and studies focused on implementing emotional responses </span><span class="No-Break"><span class="koboSpan" id="kobo.1080.1">in robots.</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1081.1">Designing Sociable Robots</span></em><span class="koboSpan" id="kobo.1082.1"> by Cynthia Breazeal: </span><a href="https://direct.mit.edu/books/book/2309/Designing-Sociable-Robots"><span class="koboSpan" id="kobo.1083.1">https://direct.mit.edu/books/book/2309/Designing-Sociable-Robots</span></a><span class="koboSpan" id="kobo.1084.1">. </span><span class="koboSpan" id="kobo.1084.2">A key resource for understanding the integration of emotional and social dynamics </span><span class="No-Break"><span class="koboSpan" id="kobo.1085.1">in robots.</span></span></li>
</ul>
</div>
</body></html>