["```py\n    import torch\n    ```", "```py\n    from diffusers import StableDiffusionPipeline\n    ```", "```py\n    text2img_pipe = StableDiffusionPipeline.from_pretrained(\n    ```", "```py\n        \"stablediffusionapi/deliberate-v2\",\n    ```", "```py\n        torch_dtype = torch.float16\n    ```", "```py\n    ).to(\"cuda:0\")\n    ```", "```py\n    prompt = \"a realistic photo of beautiful woman face\"\n    ```", "```py\n    neg_prompt = \"NSFW, bad anatomy\"\n    ```", "```py\n    raw_image = text2img_pipe(\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        height = 256,\n    ```", "```py\n        width = 256,\n    ```", "```py\n        generator = torch.Generator(\"cuda\").manual_seed(3)\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    display(raw_image)\n    ```", "```py\nimage_name = \"woman_face\"\nfile_name_256x256 =f\"input_images/{image_name}_256x256.png\"\nraw_image.save(file_name_256x256)\n```", "```py\n    def get_width_height(width, height):\n    ```", "```py\n        width = (width//8)*8\n    ```", "```py\n        height = (height//8)*8\n    ```", "```py\n        return width,height\n    ```", "```py\n    from diffusers.utils import load_image\n    ```", "```py\n    from PIL import Image\n    ```", "```py\n    def resize_img(img_path,upscale_times):\n    ```", "```py\n        img             = load_image(img_path)\n    ```", "```py\n        if upscale_times <=0:\n    ```", "```py\n            return img\n    ```", "```py\n        width,height = img.size\n    ```", "```py\n        width = width * upscale_times\n    ```", "```py\n        height = height * upscale_times\n    ```", "```py\n        width,height = get_width_height(int(width),int(height))\n    ```", "```py\n        img = img.resize(\n    ```", "```py\n            (width,height),\n    ```", "```py\n            resample = Image.LANCZOS if upscale_times > 1 \\\n    ```", "```py\n                else Image.AREA\n    ```", "```py\n        )\n    ```", "```py\n        return img\n    Image.LANCZOS interpolation method.\n    ```", "```py\n    resized_raw_image = resize_img(file_name_256x256, 3.0)\n    ```", "```py\n    sr_prompt = \"\"\"8k, best quality, masterpiece, realistic, photo-realistic, ultra detailed, sharp focus, raw photo, \"\"\"\n    ```", "```py\n    prompt = \"\"\"\n    ```", "```py\n    a realistic photo of beautiful woman face\n    ```", "```py\n    \"\"\"\n    ```", "```py\n    prompt = f\"{sr_prompt}{prompt}\"\n    ```", "```py\n    neg_prompt = \"worst quality, low quality, lowres, bad anatomy\"\n    ```", "```py\n    prompt = f\"{sr_prompt}{prompt}\"\n    ```", "```py\n    neg_prompt = \"worst quality, low quality, lowres, bad anatomy\"\n    ```", "```py\n    img2image_3x = img2img_pipe(\n    ```", "```py\n        image = resized_raw_image,\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        strength = 0.3,\n    ```", "```py\n        num_inference_steps = 80,\n    ```", "```py\n        guidance_scale = 8,\n    ```", "```py\n        generator = torch.Generator(\"cuda\").manual_seed(1)\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    img2image_3x\n    ```", "```py\nfile_name_768x768 = f\"input_images/{image_name}_768x768.png\"\nimg2image_3x.save(file_name_768x768)\n```", "```py\n    resized_raw_image = resize_img(file_name_768x768, 2.0)\n    ```", "```py\n    display(resized_raw_image)\n    ```", "```py\n    sr_prompt = \"8k, best quality, masterpiece, realistic, photo-realistic, ultra detailed, sharp focus, raw photo,\"\n    ```", "```py\n    prompt = \"\"\"\n    ```", "```py\n    a realistic photo of beautiful woman face\n    ```", "```py\n    \"\"\"\n    ```", "```py\n    prompt = f\"{sr_prompt}{prompt}\"\n    ```", "```py\n    neg_prompt = \"worst quality, low quality, lowres, bad anatomy\"\n    ```", "```py\n    img2image_6x = img2img_pipe(\n    ```", "```py\n        image = resized_raw_image,\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        strength = 0.3,\n    ```", "```py\n        num_inference_steps = 80,\n    ```", "```py\n        guidance_scale = 7.5,\n    ```", "```py\n        generator = torch.Generator(\"cuda\").manual_seed(1)\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    img2image_6x\n    ```", "```py\n    import torch\n    ```", "```py\n    from diffusers import ControlNetModel\n    ```", "```py\n    controlnet = ControlNetModel.from_pretrained(\n    ```", "```py\n        'takuma104/control_v11',\n    ```", "```py\n        subfolder = 'control_v11f1e_sd15_tile',\n    ```", "```py\n        torch_dtype = torch.float16\n    ```", "```py\n    )\n    ```", "```py\n    # load controlnet tile\n    ```", "```py\n    from diffusers import StableDiffusionControlNetImg2ImgPipeline\n    ```", "```py\n    # load checkpoint model with controlnet\n    ```", "```py\n    pipeline = StableDiffusionControlNetImg2ImgPipeline. \\ \n    ```", "```py\n    from_pretrained(\n    ```", "```py\n        \"stablediffusionapi/deliberate-v2\",\n    ```", "```py\n        torch_dtype    = torch.float16,\n    ```", "```py\n        controlnet     = controlnet\n    ```", "```py\n    )\n    ```", "```py\n    image_name = \"woman_face\"\n    ```", "```py\n    file_name_256x256 = f\"input_images/{image_name}_256x256.png\"\n    ```", "```py\n    resized_raw_image = resize_img(file_name_256x256, 3.0)\n    ```", "```py\n    resized_raw_image\n    ```", "```py\n    Image super-resolution using ControlNet Tile\n    ```", "```py\n    # upscale\n    ```", "```py\n    sr_prompt = \"8k, best quality, masterpiece, realistic, photo-realistic, ultra detailed, sharp focus, raw photo,\"\n    ```", "```py\n    prompt = \"\"\"\n    ```", "```py\n    a realistic photo of beautiful woman face\n    ```", "```py\n    \"\"\"\n    ```", "```py\n    prompt = f\"{sr_prompt}{prompt}\"\n    ```", "```py\n    neg_prompt = \"worst quality, low quality, lowres, bad anatomy\"\n    ```", "```py\n    pipeline.to(\"cuda\")\n    ```", "```py\n    cn_tile_upscale_img = pipeline(\n    ```", "```py\n        image = resized_raw_image,\n    ```", "```py\n        control_image = resized_raw_image,\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        strength = 0.8,\n    ```", "```py\n        guidance_scale = 7,\n    ```", "```py\n        generator = torch.Generator(\"cuda\"),\n    ```", "```py\n        num_inference_steps = 50\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    cn_tile_upscale_img\n    ```", "```py\n    # step 1\\. generate an image\n    ```", "```py\n    prompt = \"\"\"\n    ```", "```py\n    Raw, analog a portrait of an 43 y.o. man ,\n    ```", "```py\n    beautiful photo with highly detailed face by greg rutkowski and magali villanueve\n    ```", "```py\n    \"\"\"\n    ```", "```py\n    neg_prompt = \"NSFW, bad anatomy\"\n    ```", "```py\n    text2img_pipe.to(\"cuda\")\n    ```", "```py\n    raw_image = text2img_pipe(\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        height = 256,\n    ```", "```py\n        width = 256,\n    ```", "```py\n        generator = torch.Generator(\"cuda\").manual_seed(3)\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    display(raw_image)\n    ```", "```py\n    image_name = \"man\"\n    ```", "```py\n    file_name_256x256 = f\"input_images/{image_name}_256x256.png\"\n    ```", "```py\n    raw_image.save(file_name_256x256)\n    ```", "```py\n    # step 2\\. resize image\n    ```", "```py\n    resized_raw_image = resize_img(file_name_256x256, 3.0)\n    ```", "```py\n    display(resized_raw_image)\n    ```", "```py\n    # step 3\\. upscale image\n    ```", "```py\n    sr_prompt = \"8k, best quality, masterpiece, realistic, photo-realistic, ultra detailed, sharp focus, raw photo,\"\n    ```", "```py\n    prompt = f\"{sr_prompt}{prompt}\"\n    ```", "```py\n    neg_prompt = \"worst quality, low quality, lowres, bad anatomy\"\n    ```", "```py\n    pipeline.to(\"cuda\")\n    ```", "```py\n    cn_tile_upscale_img = pipeline(\n    ```", "```py\n        image = resized_raw_image,\n    ```", "```py\n        control_image = resized_raw_image,\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        strength = 0.8,\n    ```", "```py\n        guidance_scale = 7,\n    ```", "```py\n        generator = torch.Generator(\"cuda\"),\n    ```", "```py\n        num_inference_steps = 50,\n    ```", "```py\n        # controlnet_conditioning_scale = 0.8\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    display(cn_tile_upscale_img)\n    ```", "```py\n    # step 1\\. generate an image\n    ```", "```py\n    prompt = \"\"\"\n    ```", "```py\n    A realistic photo of an old man, standing in the garden, flower and green trees around, face view\n    ```", "```py\n    \"\"\"\n    ```", "```py\n    neg_prompt = \"NSFW, bad anatomy\"\n    ```", "```py\n    text2img_pipe.to(\"cuda\")\n    ```", "```py\n    raw_image = text2img_pipe(\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        height = 256,\n    ```", "```py\n        width = 256,\n    ```", "```py\n        generator = torch.Generator(\"cuda\").manual_seed(3)\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    display(raw_image)\n    ```", "```py\n    image_name = \"man\"\n    ```", "```py\n    file_name_256x256 = f\"input_images/{image_name}_256x256.png\"\n    ```", "```py\n    raw_image.save(file_name_256x256)\n    ```", "```py\n    # step 2\\. resize image\n    ```", "```py\n    resized_raw_image = resize_img(file_name_256x256, 4.0)\n    ```", "```py\n    display(resized_raw_image)\n    ```", "```py\n    # step 3\\. upscale image\n    ```", "```py\n    sr_prompt = \"8k, best quality, masterpiece, realistic, photo-realistic, ultra detailed, sharp focus, raw photo,\"\n    ```", "```py\n    prompt = f\"{sr_prompt}{prompt}\"\n    ```", "```py\n    neg_prompt = \"worst quality, low quality, lowres, bad anatomy\"\n    ```", "```py\n    pipeline.to(\"cuda\")\n    ```", "```py\n    cn_tile_upscale_img = pipeline(\n    ```", "```py\n        image = resized_raw_image,\n    ```", "```py\n        control_image = resized_raw_image,\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        strength = 0.8,\n    ```", "```py\n        guidance_scale = 7,\n    ```", "```py\n        generator = torch.Generator(\"cuda\"),\n    ```", "```py\n        num_inference_steps = 50,\n    ```", "```py\n        # controlnet_conditioning_scale = 0.8\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    display(cn_tile_upscale_img)\n    ```", "```py\n    # step 1\\. generate an image\n    ```", "```py\n    prompt = \"\"\"\n    ```", "```py\n    upper body photo of royal female, elegant, pretty face, majestic dress,\n    ```", "```py\n    sitting on a majestic chair, in a grand fantasy castle hall, shallow depth of field, cinematic lighting, Nikon D850,\n    ```", "```py\n    film still, HDR, 8k\n    ```", "```py\n    \"\"\"\n    ```", "```py\n    neg_prompt = \"NSFW, bad anatomy\"\n    ```", "```py\n    text2img_pipe.to(\"cuda\")\n    ```", "```py\n    raw_image = text2img_pipe(\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        height = 256,\n    ```", "```py\n        width = 256,\n    ```", "```py\n        generator = torch.Generator(\"cuda\").manual_seed(7)\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    display(raw_image)\n    ```", "```py\n    image_name = \"man\"\n    ```", "```py\n    file_name_256x256 = f\"input_images/{image_name}_256x256.png\"\n    ```", "```py\n    raw_image.save(file_name_256x256)\n    ```", "```py\n    # step 2\\. resize image\n    ```", "```py\n    resized_raw_image = resize_img(file_name_256x256, 4.0)\n    ```", "```py\n    display(resized_raw_image)\n    ```", "```py\n    # step 3\\. upscale image\n    ```", "```py\n    sr_prompt = \"8k, best quality, masterpiece, realistic, photo-realistic, ultra detailed, sharp focus, raw photo,\"\n    ```", "```py\n    prompt = f\"{sr_prompt}{prompt}\"\n    ```", "```py\n    neg_prompt = \"worst quality, low quality, lowres, bad anatomy\"\n    ```", "```py\n    pipeline.to(\"cuda\")\n    ```", "```py\n    cn_tile_upscale_img = pipeline(\n    ```", "```py\n        image = resized_raw_image,\n    ```", "```py\n        control_image = resized_raw_image,\n    ```", "```py\n        prompt = prompt,\n    ```", "```py\n        negative_prompt = neg_prompt,\n    ```", "```py\n        strength = 0.8,\n    ```", "```py\n        guidance_scale = 7,\n    ```", "```py\n        generator = torch.Generator(\"cuda\"),\n    ```", "```py\n        num_inference_steps = 50,\n    ```", "```py\n        # controlnet_conditioning_scale = 0.8\n    ```", "```py\n    ).images[0]\n    ```", "```py\n    display(cn_tile_upscale_img)\n    ```"]